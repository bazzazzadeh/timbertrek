var Fu=Object.defineProperty;var ju=(e,t,n)=>t in e?Fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var V=(e,t,n)=>(ju(e,typeof t!="symbol"?t+"":t,n),n),Pu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var ge=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var ne=(e,t,n)=>(Pu(e,t,"access private method"),n);const Eu=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};Eu();function ce(){}const Gs=e=>e;function D(e,t,n,r,i){e.__svelte_meta={loc:{file:t,line:n,column:r,char:i}}}function Ka(e){return e()}function Co(){return Object.create(null)}function Pe(e){e.forEach(Ka)}function Xs(e){return typeof e=="function"}function Ge(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Hu(e){return Object.keys(e).length===0}const $a=typeof window!="undefined";let el=$a?()=>window.performance.now():()=>Date.now(),Zs=$a?e=>requestAnimationFrame(e):ce;const Gt=new Set;function tl(e){Gt.forEach(t=>{t.c(e)||(Gt.delete(t),t.f())}),Gt.size!==0&&Zs(tl)}function nl(e){let t;return Gt.size===0&&Zs(tl),{promise:new Promise(n=>{Gt.add(t={c:e,f:n})}),abort(){Gt.delete(t)}}}function rl(e,t){e.appendChild(t)}function dt(e,t,n){const r=Qs(e);if(!r.getElementById(t)){const i=A("style");i.id=t,i.textContent=n,il(r,i)}}function Qs(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Nu(e){const t=A("style");return il(Qs(e),t),t.sheet}function il(e,t){rl(e.head||e,t)}function sl(e,t,n){e.insertBefore(t,n||null)}function Js(e){e.parentNode.removeChild(e)}function Ji(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function A(e){return document.createElement(e)}function $t(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function me(e){return document.createTextNode(e)}function Z(){return me(" ")}function Ki(){return me("")}function Ru(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Wu(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Uu(e){return Array.from(e.childNodes)}function _r(e,t){e.value=t==null?"":t}function $i(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function ve(e,t,n){e.classList[n?"add":"remove"](t)}function ol(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}class es{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.e=A(n.nodeName),this.t=n,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)sl(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(Js)}}const Sr=new Map;let kr=0;function Ou(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Bu(e,t){const n={stylesheet:Nu(t),rules:{}};return Sr.set(e,n),n}function al(e,t,n,r,i,s,o,a=0){const l=16.666/r;let c=`{
`;for(let p=0;p<=1;p+=l){const m=t+(n-t)*s(p);c+=p*100+`%{${o(m,1-m)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Ou(u)}_${a}`,h=Qs(e),{stylesheet:d,rules:v}=Sr.get(h)||Bu(h,e);v[f]||(v[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${i}ms 1 both`,kr+=1,f}function ll(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),kr-=i,kr||Yu())}function Yu(){Zs(()=>{kr||(Sr.forEach(e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}}),Sr.clear())})}function Gu(e,t,n,r){if(!t)return ce;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return ce;const{delay:s=0,duration:o=300,easing:a=Gs,start:l=el()+s,end:c=l+o,tick:u=ce,css:f}=n(e,{from:t,to:i},r);let h=!0,d=!1,v;function g(){f&&(v=al(e,0,1,o,s,a,f)),s||(d=!0)}function p(){f&&ll(e,v),h=!1}return nl(m=>{if(!d&&m>=l&&(d=!0),d&&m>=c&&(u(1,0),p()),!h)return!1;if(d){const y=m-l,w=0+1*a(y/o);u(w,1-w)}return!0}),g(),u(0,1),p}function Xu(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,cl(e,i)}}function cl(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i=r.transform==="none"?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let Dn;function Cn(e){Dn=e}function ul(){if(!Dn)throw new Error("Function called outside component initialization");return Dn}function Te(e){ul().$$.on_mount.push(e)}function Tr(e){ul().$$.on_destroy.push(e)}const _n=[],Ne=[],dr=[],Vo=[],hl=Promise.resolve();let ts=!1;function fl(){ts||(ts=!0,hl.then(dl))}function Ks(){return fl(),hl}function Mr(e){dr.push(e)}const xi=new Set;let Kn=0;function dl(){const e=Dn;do{for(;Kn<_n.length;){const t=_n[Kn];Kn++,Cn(t),Zu(t.$$)}for(Cn(null),_n.length=0,Kn=0;Ne.length;)Ne.pop()();for(let t=0;t<dr.length;t+=1){const n=dr[t];xi.has(n)||(xi.add(n),n())}dr.length=0}while(_n.length);for(;Vo.length;)Vo.pop()();ts=!1,xi.clear(),Cn(e)}function Zu(e){if(e.fragment!==null){e.update(),Pe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Mr)}}let gn;function Qu(){return gn||(gn=Promise.resolve(),gn.then(()=>{gn=null})),gn}function Do(e,t,n){e.dispatchEvent(ol(`${t?"intro":"outro"}${n}`))}const pr=new Set;let _t;function en(){_t={r:0,c:[],p:_t}}function tn(){_t.r||Pe(_t.c),_t=_t.p}function ye(e,t){e&&e.i&&(pr.delete(e),e.i(t))}function Se(e,t,n,r){if(e&&e.o){if(pr.has(e))return;pr.add(e),_t.c.push(()=>{pr.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const Ju={duration:0};function pl(e,t,n){let r=t(e,n),i=!0,s;const o=_t;o.r+=1;function a(){const{delay:l=0,duration:c=300,easing:u=Gs,tick:f=ce,css:h}=r||Ju;h&&(s=al(e,1,0,c,l,u,h));const d=el()+l,v=d+c;Mr(()=>Do(e,!1,"start")),nl(g=>{if(i){if(g>=v)return f(0,1),Do(e,!1,"end"),--o.r||Pe(o.c),!1;if(g>=d){const p=u((g-d)/c);f(1-p,p)}}return i})}return Xs(r)?Qu().then(()=>{r=r(),a()}):a(),{end(l){l&&r.tick&&r.tick(1,0),i&&(s&&ll(e,s),i=!1)}}}const $s=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function gl(e,t){Se(e,1,1,()=>{t.delete(e.key)})}function Ku(e,t){e.f(),gl(e,t)}function ml(e,t,n,r,i,s,o,a,l,c,u,f){let h=e.length,d=s.length,v=h;const g={};for(;v--;)g[e[v].key]=v;const p=[],m=new Map,y=new Map;for(v=d;v--;){const C=f(i,s,v),z=n(C);let P=o.get(z);P?r&&P.p(C,t):(P=c(z,C),P.c()),m.set(z,p[v]=P),z in g&&y.set(z,Math.abs(v-g[z]))}const w=new Set,_=new Set;function k(C){ye(C,1),C.m(a,u),o.set(C.key,C),u=C.first,d--}for(;h&&d;){const C=p[d-1],z=e[h-1],P=C.key,E=z.key;C===z?(u=C.first,h--,d--):m.has(E)?!o.has(P)||w.has(P)?k(C):_.has(E)?h--:y.get(P)>y.get(E)?(_.add(P),k(C)):(w.add(E),h--):(l(z,o),h--)}for(;h--;){const C=e[h];m.has(C.key)||l(C,o)}for(;d;)k(p[d-1]);return p}function Cr(e,t,n,r){const i=new Set;for(let s=0;s<t.length;s++){const o=r(n(e,t,s));if(i.has(o))throw new Error("Cannot have duplicate keys in a keyed each");i.add(o)}}function ut(e){e&&e.c()}function Ke(e,t,n,r){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=e.$$;i&&i.m(t,n),r||Mr(()=>{const l=s.map(Ka).filter(Xs);o?o.push(...l):Pe(l),e.$$.on_mount=[]}),a.forEach(Mr)}function $e(e,t){const n=e.$$;n.fragment!==null&&(Pe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $u(e,t){e.$$.dirty[0]===-1&&(_n.push(e),fl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function et(e,t,n,r,i,s,o,a=[-1]){const l=Dn;Cn(e);const c=e.$$={fragment:null,ctx:null,props:s,update:ce,not_equal:i,bound:Co(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Co(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,h,...d)=>{const v=d.length?d[0]:h;return c.ctx&&i(c.ctx[f],c.ctx[f]=v)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](v),u&&$u(e,f)),h}):[],c.update(),u=!0,Pe(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=Uu(t.target);c.fragment&&c.fragment.l(f),f.forEach(Js)}else c.fragment&&c.fragment.c();t.intro&&ye(e.$$.fragment),Ke(e,t.target,t.anchor,t.customElement),dl()}Cn(l)}class eh{$destroy(){$e(this,1),this.$destroy=ce}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Hu(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function te(e,t){document.dispatchEvent(ol(e,Object.assign({version:"3.46.6"},t),!0))}function b(e,t){te("SvelteDOMInsert",{target:e,node:t}),rl(e,t)}function pe(e,t,n){te("SvelteDOMInsert",{target:e,node:t,anchor:n}),sl(e,t,n)}function ue(e){te("SvelteDOMRemove",{node:e}),Js(e)}function ae(e,t,n,r,i,s){const o=r===!0?["capture"]:r?Array.from(Object.keys(r)):[];i&&o.push("preventDefault"),s&&o.push("stopPropagation"),te("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:o});const a=Ru(e,t,n,r);return()=>{te("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:o}),a()}}function S(e,t,n){Wu(e,t,n),n==null?te("SvelteDOMRemoveAttribute",{node:e,attribute:t}):te("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function Re(e,t){t=""+t,e.wholeText!==t&&(te("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function at(e){if(typeof e!="string"&&!(e&&typeof e=="object"&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw typeof Symbol=="function"&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function tt(e,t,n){for(const r of Object.keys(t))~n.indexOf(r)||console.warn(`<${e}> received an unexpected slot "${r}".`)}class nt extends eh{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function th(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function nh(e){const t=e-1;return t*t*t+1}function ui(e,{delay:t=0,duration:n=400,easing:r=Gs}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}const Rt=[];function Yn(e,t=ce){let n;const r=new Set;function i(a){if(Ge(e,a)&&(e=a,n)){const l=!Rt.length;for(const c of r)c[1](),Rt.push(c,e);if(l){for(let c=0;c<Rt.length;c+=2)Rt[c][0](Rt[c+1]);Rt.length=0}}}function s(a){i(a(e))}function o(a,l=ce){const c=[a,l];return r.add(c),r.size===1&&(n=t(i)||ce),a(e),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}var Lt=(e=>(e[e.DepthChanged=0]="DepthChanged",e.None="",e))(Lt||{});const nn=()=>({shown:!1,favTrees:[]}),eo=()=>({depthMax:0,depthLow:0,depthHigh:0,depthColors:[],action:""}),to=()=>({featureMap:new Map,treeMap:new Map,treeID:0,ancestorFs:[],show:!1,x:20,y:20,getFeatureColor:null}),rn=()=>({shown:!1,curAccuracyLow:0,curAccuracyHigh:1,curHeightRange:new Set([]),curDepthFeatures:new Map,treeDepthFeaturesMap:null,treeHeightMap:null,featureMap:new Map,getFeatureColor:null,featureOrder:[]}),sn=()=>({pinnedTrees:[],lastActiveTreeID:null,getFeatureColor:null,getFeatureInfo:null}),qo=()=>Yn(nn()),Ao=()=>Yn(eo()),Lo=()=>Yn(to()),zo=()=>Yn(sn()),Io=()=>Yn(rn());var ns="http://www.w3.org/1999/xhtml",Fo={svg:"http://www.w3.org/2000/svg",xhtml:ns,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hi(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fo.hasOwnProperty(t)?{space:Fo[t],local:e}:e}function rh(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ns&&t.documentElement.namespaceURI===ns?t.createElement(e):t.createElementNS(n,e)}}function ih(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vl(e){var t=hi(e);return(t.local?ih:rh)(t)}function sh(){}function no(e){return e==null?sh:function(){return this.querySelector(e)}}function oh(e){typeof e!="function"&&(e=no(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new je(r,this._parents)}function wl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ah(){return[]}function yl(e){return e==null?ah:function(){return this.querySelectorAll(e)}}function lh(e){return function(){return wl(e.apply(this,arguments))}}function ch(e){typeof e=="function"?e=lh(e):e=yl(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new je(r,i)}function bl(e){return function(){return this.matches(e)}}function xl(e){return function(t){return t.matches(e)}}var uh=Array.prototype.find;function hh(e){return function(){return uh.call(this.children,e)}}function fh(){return this.firstElementChild}function dh(e){return this.select(e==null?fh:hh(typeof e=="function"?e:xl(e)))}var ph=Array.prototype.filter;function gh(){return Array.from(this.children)}function mh(e){return function(){return ph.call(this.children,e)}}function vh(e){return this.selectAll(e==null?gh:mh(typeof e=="function"?e:xl(e)))}function wh(e){typeof e!="function"&&(e=bl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new je(r,this._parents)}function _l(e){return new Array(e.length)}function yh(){return new je(this._enter||this._groups.map(_l),this._parents)}function Vr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vr.prototype={constructor:Vr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bh(e){return function(){return e}}function xh(e,t,n,r,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Vr(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function _h(e,t,n,r,i,s,o){var a,l,c=new Map,u=t.length,f=s.length,h=new Array(u),d;for(a=0;a<u;++a)(l=t[a])&&(h[a]=d=o.call(l,l.__data__,a,t)+"",c.has(d)?i[a]=l:c.set(d,l));for(a=0;a<f;++a)d=o.call(e,s[a],a,s)+"",(l=c.get(d))?(r[a]=l,l.__data__=s[a],c.delete(d)):n[a]=new Vr(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(i[a]=l)}function Sh(e){return e.__data__}function kh(e,t){if(!arguments.length)return Array.from(this,Sh);var n=t?_h:xh,r=this._parents,i=this._groups;typeof e!="function"&&(e=bh(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],f=i[c],h=f.length,d=Th(e.call(u,u&&u.__data__,c,r)),v=d.length,g=a[c]=new Array(v),p=o[c]=new Array(v),m=l[c]=new Array(h);n(u,f,g,p,m,d,t);for(var y=0,w=0,_,k;y<v;++y)if(_=g[y]){for(y>=w&&(w=y+1);!(k=p[w])&&++w<v;);_._next=k||null}}return o=new je(o,r),o._enter=a,o._exit=l,o}function Th(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Mh(){return new je(this._exit||this._groups.map(_l),this._parents)}function Ch(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Vh(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],f=c.length,h=a[l]=new Array(f),d,v=0;v<f;++v)(d=c[v]||u[v])&&(h[v]=d);for(;l<i;++l)a[l]=n[l];return new je(a,this._parents)}function Dh(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function qh(e){e||(e=Ah);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new je(i,this._parents).order()}function Ah(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Lh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zh(){return Array.from(this)}function Ih(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Fh(){let e=0;for(const t of this)++e;return e}function jh(){return!this.node()}function Ph(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Eh(e){return function(){this.removeAttribute(e)}}function Hh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nh(e,t){return function(){this.setAttribute(e,t)}}function Rh(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Uh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Oh(e,t){var n=hi(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Hh:Eh:typeof t=="function"?n.local?Uh:Wh:n.local?Rh:Nh)(n,t))}function Sl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bh(e){return function(){this.style.removeProperty(e)}}function Yh(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Gh(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Xh(e,t,n){return arguments.length>1?this.each((t==null?Bh:typeof t=="function"?Gh:Yh)(e,t,n==null?"":n)):on(this.node(),e)}function on(e,t){return e.style.getPropertyValue(t)||Sl(e).getComputedStyle(e,null).getPropertyValue(t)}function Zh(e){return function(){delete this[e]}}function Qh(e,t){return function(){this[e]=t}}function Jh(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Kh(e,t){return arguments.length>1?this.each((t==null?Zh:typeof t=="function"?Jh:Qh)(e,t)):this.node()[e]}function kl(e){return e.trim().split(/^|\s+/)}function ro(e){return e.classList||new Tl(e)}function Tl(e){this._node=e,this._names=kl(e.getAttribute("class")||"")}Tl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ml(e,t){for(var n=ro(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Cl(e,t){for(var n=ro(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function $h(e){return function(){Ml(this,e)}}function ef(e){return function(){Cl(this,e)}}function tf(e,t){return function(){(t.apply(this,arguments)?Ml:Cl)(this,e)}}function nf(e,t){var n=kl(e+"");if(arguments.length<2){for(var r=ro(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?tf:t?$h:ef)(n,t))}function rf(){this.textContent=""}function sf(e){return function(){this.textContent=e}}function of(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function af(e){return arguments.length?this.each(e==null?rf:(typeof e=="function"?of:sf)(e)):this.node().textContent}function lf(){this.innerHTML=""}function cf(e){return function(){this.innerHTML=e}}function uf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function hf(e){return arguments.length?this.each(e==null?lf:(typeof e=="function"?uf:cf)(e)):this.node().innerHTML}function ff(){this.nextSibling&&this.parentNode.appendChild(this)}function df(){return this.each(ff)}function pf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gf(){return this.each(pf)}function mf(e){var t=typeof e=="function"?e:vl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vf(){return null}function wf(e,t){var n=typeof e=="function"?e:vl(e),r=t==null?vf:typeof t=="function"?t:no(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function yf(){var e=this.parentNode;e&&e.removeChild(this)}function bf(){return this.each(yf)}function xf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _f(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Sf(e){return this.select(e?_f:xf)}function kf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Tf(e){return function(t){e.call(this,t,this.__data__)}}function Mf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Cf(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Vf(e,t,n){return function(){var r=this.__on,i,s=Tf(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Df(e,t,n){var r=Mf(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?Vf:Cf,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Vl(e,t,n){var r=Sl(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function qf(e,t){return function(){return Vl(this,e,t)}}function Af(e,t){return function(){return Vl(this,e,t.apply(this,arguments))}}function Lf(e,t){return this.each((typeof t=="function"?Af:qf)(e,t))}function*zf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var io=[null];function je(e,t){this._groups=e,this._parents=t}function un(){return new je([[document.documentElement]],io)}function If(){return this}je.prototype=un.prototype={constructor:je,select:oh,selectAll:ch,selectChild:dh,selectChildren:vh,filter:wh,data:kh,enter:yh,exit:Mh,join:Ch,merge:Vh,selection:If,order:Dh,sort:qh,call:Lh,nodes:zh,node:Ih,size:Fh,empty:jh,each:Ph,attr:Oh,style:Xh,property:Kh,classed:nf,text:af,html:hf,raise:df,lower:gf,append:mf,insert:wf,remove:bf,clone:Sf,datum:kf,on:Df,dispatch:Lf,[Symbol.iterator]:zf};function Fe(e){return typeof e=="string"?new je([[document.querySelector(e)]],[document.documentElement]):new je([[e]],io)}function Ff(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xe(e,t){if(e=Ff(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function jf(e){return typeof e=="string"?new je([document.querySelectorAll(e)],[document.documentElement]):new je([wl(e)],io)}function Pf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Ef(e,t){return fetch(e,t).then(Pf)}function rs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dl(e){let t=e,n=e,r=e;e.length!==2&&(t=(a,l)=>e(a)-l,n=rs,r=(a,l)=>rs(e(a),l));function i(a,l,c=0,u=a.length){if(c<u){if(n(l,l)!==0)return u;do{const f=c+u>>>1;r(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(n(l,l)!==0)return u;do{const f=c+u>>>1;r(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&t(a[f-1],l)>-t(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function Hf(e){return e===null?NaN:+e}const Nf=Dl(rs),Rf=Nf.right;Dl(Hf).center;var ql=Rf;function Wf(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function gr(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class jo extends Map{constructor(t,n=Bf){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Po(this,t))}has(t){return super.has(Po(this,t))}set(t,n){return super.set(Uf(this,t),n)}delete(t){return super.delete(Of(this,t))}}function Po({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Uf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Of({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Bf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Yf(e){return e}var Gf=Array.prototype,Xf=Gf.slice;function $n(e){return()=>e}var is=Math.sqrt(50),ss=Math.sqrt(10),os=Math.sqrt(2);function Dr(e,t,n){var r,i=-1,s,o,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(a=qn(e,t,n))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),c=Math.round(t/a);for(l*a<e&&++l,c*a>t&&--c,o=new Array(s=c-l+1);++i<s;)o[i]=(l+i)*a}else{a=-a;let l=Math.round(e*a),c=Math.round(t*a);for(l/a<e&&++l,c/a>t&&--c,o=new Array(s=c-l+1);++i<s;)o[i]=(l+i)/a}return r&&o.reverse(),o}function qn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=is?10:s>=ss?5:s>=os?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=is?10:s>=ss?5:s>=os?2:1)}function Zf(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=is?i*=10:s>=ss?i*=5:s>=os&&(i*=2),t<e?-i:i}function Qf(e,t,n){let r;for(;;){const i=qn(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function Jf(e){return Math.ceil(Math.log(Wf(e))/Math.LN2)+1}function Kf(){var e=Yf,t=gr,n=Jf;function r(i){Array.isArray(i)||(i=Array.from(i));var s,o=i.length,a,l,c=new Array(o);for(s=0;s<o;++s)c[s]=e(i[s],s,i);var u=t(c),f=u[0],h=u[1],d=n(c,f,h);if(!Array.isArray(d)){const m=h,y=+d;if(t===gr&&([f,h]=Qf(f,h,y)),d=Dr(f,h,y),d[0]<=f&&(l=qn(f,h,y)),d[d.length-1]>=h)if(m>=h&&t===gr){const w=qn(f,h,y);isFinite(w)&&(w>0?h=(Math.floor(h/w)+1)*w:w<0&&(h=(Math.ceil(h*-w)+1)/-w))}else d.pop()}for(var v=d.length;d[0]<=f;)d.shift(),--v;for(;d[v-1]>h;)d.pop(),--v;var g=new Array(v+1),p;for(s=0;s<=v;++s)p=g[s]=[],p.x0=s>0?d[s-1]:f,p.x1=s<v?d[s]:h;if(isFinite(l)){if(l>0)for(s=0;s<o;++s)(a=c[s])!=null&&f<=a&&a<=h&&g[Math.floor((a-f)/l)].push(i[s]);else if(l<0)for(s=0;s<o;++s)(a=c[s])!=null&&f<=a&&a<=h&&g[Math.floor((f-a)*l)].push(i[s])}else for(s=0;s<o;++s)(a=c[s])!=null&&f<=a&&a<=h&&g[ql(d,a,0,v)].push(i[s]);return g}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:$n(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:$n([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?$n(Xf.call(i)):$n(i),r):n},r}function $f(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function e0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function t0(e,t){let n,r=-1,i=-1;if(t===void 0)for(const s of e)++i,s!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of e)(s=t(s,++i,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);return r}function n0(e,t){let n,r=-1,i=-1;if(t===void 0)for(const s of e)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of e)(s=t(s,++i,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}function r0(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function i0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Eo=Symbol("implicit");function so(){var e=new jo,t=[],n=[],r=Eo;function i(s){let o=e.get(s);if(o===void 0){if(r!==Eo)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new jo;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return so(t,n).unknown(r)},Gn.apply(i,arguments),i}function oo(){var e=so().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,d=i<r,v=d?i:r,g=d?r:i;s=(g-v)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),v+=(g-v-s*(h-l))*u,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var p=r0(h).map(function(m){return v+s*m});return n(d?p.reverse():p)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(a=!!h,f()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return oo(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Gn.apply(f(),arguments)}function Al(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Al(t())},e}function s0(){return Al(oo.apply(null,arguments).paddingInner(1))}function hn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ct(){}var jt=.7,an=1/jt,Xt="\\s*([+-]?\\d+)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o0=/^#([0-9a-f]{3,8})$/,a0=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),l0=new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`),c0=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${An}\\)$`),u0=new RegExp(`^rgba\\(${ht},${ht},${ht},${An}\\)$`),h0=new RegExp(`^hsl\\(${An},${ht},${ht}\\)$`),f0=new RegExp(`^hsla\\(${An},${ht},${ht},${An}\\)$`),Ho={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hn(Ct,Tt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:No,formatHex:No,formatHex8:d0,formatHsl:p0,formatRgb:Ro,toString:Ro});function No(){return this.rgb().formatHex()}function d0(){return this.rgb().formatHex8()}function p0(){return Ll(this).formatHsl()}function Ro(){return this.rgb().formatRgb()}function Tt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=o0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wo(t):n===3?new Ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?er(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?er(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=a0.exec(e))?new Ce(t[1],t[2],t[3],1):(t=l0.exec(e))?new Ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c0.exec(e))?er(t[1],t[2],t[3],t[4]):(t=u0.exec(e))?er(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=h0.exec(e))?Bo(t[1],t[2]/100,t[3]/100,1):(t=f0.exec(e))?Bo(t[1],t[2]/100,t[3]/100,t[4]):Ho.hasOwnProperty(e)?Wo(Ho[e]):e==="transparent"?new Ce(NaN,NaN,NaN,0):null}function Wo(e){return new Ce(e>>16&255,e>>8&255,e&255,1)}function er(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ce(e,t,n,r)}function ao(e){return e instanceof Ct||(e=Tt(e)),e?(e=e.rgb(),new Ce(e.r,e.g,e.b,e.opacity)):new Ce}function as(e,t,n,r){return arguments.length===1?ao(e):new Ce(e,t,n,r==null?1:r)}function Ce(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hn(Ce,as,Xn(Ct,{brighter(e){return e=e==null?an:Math.pow(an,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jt:Math.pow(jt,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ce(It(this.r),It(this.g),It(this.b),qr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uo,formatHex:Uo,formatHex8:g0,formatRgb:Oo,toString:Oo}));function Uo(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}`}function g0(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}${zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oo(){const e=qr(this.opacity);return`${e===1?"rgb(":"rgba("}${It(this.r)}, ${It(this.g)}, ${It(this.b)}${e===1?")":`, ${e})`}`}function qr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function It(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zt(e){return e=It(e),(e<16?"0":"")+e.toString(16)}function Bo(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Je(e,t,n,r)}function Ll(e){if(e instanceof Je)return new Je(e.h,e.s,e.l,e.opacity);if(e instanceof Ct||(e=Tt(e)),!e)return new Je;if(e instanceof Je)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Je(o,a,l,e.opacity)}function zl(e,t,n,r){return arguments.length===1?Ll(e):new Je(e,t,n,r==null?1:r)}function Je(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hn(Je,zl,Xn(Ct,{brighter(e){return e=e==null?an:Math.pow(an,e),new Je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jt:Math.pow(jt,e),new Je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ce(_i(e>=240?e-240:e+120,i,r),_i(e,i,r),_i(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Je(Yo(this.h),tr(this.s),tr(this.l),qr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qr(this.opacity);return`${e===1?"hsl(":"hsla("}${Yo(this.h)}, ${tr(this.s)*100}%, ${tr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yo(e){return e=(e||0)%360,e<0?e+360:e}function tr(e){return Math.max(0,Math.min(1,e||0))}function _i(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Il=Math.PI/180,Fl=180/Math.PI,Ar=18,jl=.96422,Pl=1,El=.82521,Hl=4/29,Zt=6/29,Nl=3*Zt*Zt,m0=Zt*Zt*Zt;function Rl(e){if(e instanceof ft)return new ft(e.l,e.a,e.b,e.opacity);if(e instanceof lt)return Ul(e);e instanceof Ce||(e=ao(e));var t=Mi(e.r),n=Mi(e.g),r=Mi(e.b),i=Si((.2225045*t+.7168786*n+.0606169*r)/Pl),s,o;return t===n&&n===r?s=o=i:(s=Si((.4360747*t+.3850649*n+.1430804*r)/jl),o=Si((.0139322*t+.0971045*n+.7141733*r)/El)),new ft(116*i-16,500*(s-i),200*(i-o),e.opacity)}function v0(e,t,n,r){return arguments.length===1?Rl(e):new ft(e,t,n,r==null?1:r)}function ft(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}hn(ft,v0,Xn(Ct,{brighter(e){return new ft(this.l+Ar*(e==null?1:e),this.a,this.b,this.opacity)},darker(e){return new ft(this.l-Ar*(e==null?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=jl*ki(t),e=Pl*ki(e),n=El*ki(n),new Ce(Ti(3.1338561*t-1.6168667*e-.4906146*n),Ti(-.9787684*t+1.9161415*e+.033454*n),Ti(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Si(e){return e>m0?Math.pow(e,1/3):e/Nl+Hl}function ki(e){return e>Zt?e*e*e:Nl*(e-Hl)}function Ti(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Mi(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Wl(e){if(e instanceof lt)return new lt(e.h,e.c,e.l,e.opacity);if(e instanceof ft||(e=Rl(e)),e.a===0&&e.b===0)return new lt(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Fl;return new lt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function w0(e,t,n,r){return arguments.length===1?Wl(e):new lt(n,t,e,r==null?1:r)}function y0(e,t,n,r){return arguments.length===1?Wl(e):new lt(e,t,n,r==null?1:r)}function lt(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Ul(e){if(isNaN(e.h))return new ft(e.l,0,0,e.opacity);var t=e.h*Il;return new ft(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}hn(lt,y0,Xn(Ct,{brighter(e){return new lt(this.h,this.c,this.l+Ar*(e==null?1:e),this.opacity)},darker(e){return new lt(this.h,this.c,this.l-Ar*(e==null?1:e),this.opacity)},rgb(){return Ul(this).rgb()}}));var Ol=-.14861,lo=1.78277,co=-.29227,fi=-.90649,Ln=1.97294,Go=Ln*fi,Xo=Ln*lo,Zo=lo*co-fi*Ol;function b0(e){if(e instanceof Ft)return new Ft(e.h,e.s,e.l,e.opacity);e instanceof Ce||(e=ao(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Zo*r+Go*t-Xo*n)/(Zo+Go-Xo),s=r-i,o=(Ln*(n-i)-co*s)/fi,a=Math.sqrt(o*o+s*s)/(Ln*i*(1-i)),l=a?Math.atan2(o,s)*Fl-120:NaN;return new Ft(l<0?l+360:l,a,i,e.opacity)}function Mt(e,t,n,r){return arguments.length===1?b0(e):new Ft(e,t,n,r==null?1:r)}function Ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hn(Ft,Mt,Xn(Ct,{brighter(e){return e=e==null?an:Math.pow(an,e),new Ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jt:Math.pow(jt,e),new Ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Il,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ce(255*(t+n*(Ol*r+lo*i)),255*(t+n*(co*r+fi*i)),255*(t+n*(Ln*r)),this.opacity)}}));var di=e=>()=>e;function Bl(e,t){return function(n){return e+n*t}}function x0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _0(e,t){var n=t-e;return n?Bl(e,n>180||n<-180?n-360*Math.round(n/360):n):di(isNaN(e)?t:e)}function S0(e){return(e=+e)==1?Qt:function(t,n){return n-t?x0(t,n,e):di(isNaN(t)?n:t)}}function Qt(e,t){var n=t-e;return n?Bl(e,n):di(isNaN(e)?t:e)}var Lr=function e(t){var n=S0(t);function r(i,s){var o=n((i=as(i)).r,(s=as(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=Qt(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function k0(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function T0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M0(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Zn(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function C0(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ze(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function V0(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Zn(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ls=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ci=new RegExp(ls.source,"g");function D0(e){return function(){return e}}function q0(e){return function(t){return e(t)+""}}function Yl(e,t){var n=ls.lastIndex=Ci.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=ls.exec(e))&&(i=Ci.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ze(r,i)})),n=Ci.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?q0(l[0].x):D0(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function Zn(e,t){var n=typeof t,r;return t==null||n==="boolean"?di(t):(n==="number"?Ze:n==="string"?(r=Tt(t))?(t=r,Lr):Yl:t instanceof Tt?Lr:t instanceof Date?C0:T0(t)?k0:Array.isArray(t)?M0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?V0:Ze)(e,t)}function A0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Qo=180/Math.PI,cs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gl(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Qo,skewX:Math.atan(l)*Qo,scaleX:o,scaleY:a}}var nr;function L0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?cs:Gl(t.a,t.b,t.c,t.d,t.e,t.f)}function z0(e){return e==null||(nr||(nr=document.createElementNS("http://www.w3.org/2000/svg","g")),nr.setAttribute("transform",e),!(e=nr.transform.baseVal.consolidate()))?cs:(e=e.matrix,Gl(e.a,e.b,e.c,e.d,e.e,e.f))}function Xl(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,f,h,d,v){if(c!==f||u!==h){var g=d.push("translate(",null,t,null,n);v.push({i:g-4,x:Ze(c,f)},{i:g-2,x:Ze(u,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function o(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Ze(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,h){c!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Ze(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,h,d,v){if(c!==f||u!==h){var g=d.push(i(d)+"scale(",null,",",null,")");v.push({i:g-4,x:Ze(c,f)},{i:g-2,x:Ze(u,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,h),o(c.rotate,u.rotate,f,h),a(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(d){for(var v=-1,g=h.length,p;++v<g;)f[(p=h[v]).i]=p.x(d);return f.join("")}}}var I0=Xl(L0,"px, ","px)","deg)"),F0=Xl(z0,", ",")",")"),j0=1e-12;function Jo(e){return((e=Math.exp(e))+1/e)/2}function P0(e){return((e=Math.exp(e))-1/e)/2}function E0(e){return((e=Math.exp(2*e))-1)/(e+1)}var H0=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],f=o[1],h=o[2],d=u-a,v=f-l,g=d*d+v*v,p,m;if(g<j0)m=Math.log(h/c)/t,p=function(z){return[a+z*d,l+z*v,c*Math.exp(t*z*m)]};else{var y=Math.sqrt(g),w=(h*h-c*c+r*g)/(2*c*n*y),_=(h*h-c*c-r*g)/(2*h*n*y),k=Math.log(Math.sqrt(w*w+1)-w),C=Math.log(Math.sqrt(_*_+1)-_);m=(C-k)/t,p=function(z){var P=z*m,E=Jo(k),L=c/(n*y)*(E*E0(t*P+k)-P0(k));return[a+L*d,l+L*v,c*E/Jo(t*P+k)]}}return p.duration=m*1e3*t/Math.SQRT2,p}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);function Zl(e){return function t(n){n=+n;function r(i,s){var o=e((i=Mt(i)).h,(s=Mt(s)).h),a=Qt(i.s,s.s),l=Qt(i.l,s.l),c=Qt(i.opacity,s.opacity);return function(u){return i.h=o(u),i.s=a(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}Zl(_0);var Ql=Zl(Qt);function N0(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function R0(e){return function(){return e}}function W0(e){return+e}var Ko=[0,1];function ct(e){return e}function us(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:R0(isNaN(t)?NaN:.5)}function U0(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function O0(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=us(i,r),s=n(o,s)):(r=us(r,i),s=n(s,o)),function(a){return s(r(a))}}function B0(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=us(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=ql(e,a,1,r)-1;return s[l](i[l](a))}}function uo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ho(){var e=Ko,t=Ko,n=Zn,r,i,s,o=ct,a,l,c;function u(){var h=Math.min(e.length,t.length);return o!==ct&&(o=U0(e[0],e[h-1])),a=h>2?B0:O0,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=a(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=a(t,e.map(r),Ze)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,W0),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=A0,u()},f.clamp=function(h){return arguments.length?(o=h?!0:ct,u()):o!==ct},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,u()}}function Y0(){return ho()(ct,ct)}function G0(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ln(e){return e=zr(Math.abs(e)),e?e[1]:NaN}function X0(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Z0(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Q0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zn(e){if(!(t=Q0.exec(e)))throw new Error("invalid format: "+e);var t;return new fo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zn.prototype=fo.prototype;function fo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J0(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Jl;function K0(e,t){var n=zr(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Jl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+zr(e,Math.max(0,t+s-1))[0]}function $o(e,t){var n=zr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var ea={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:G0,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$o(e*100,t),r:$o,s:K0,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ta(e){return e}var na=Array.prototype.map,ra=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function $0(e){var t=e.grouping===void 0||e.thousands===void 0?ta:X0(na.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ta:Z0(na.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=zn(f);var h=f.fill,d=f.align,v=f.sign,g=f.symbol,p=f.zero,m=f.width,y=f.comma,w=f.precision,_=f.trim,k=f.type;k==="n"?(y=!0,k="g"):ea[k]||(w===void 0&&(w=12),_=!0,k="g"),(p||h==="0"&&d==="=")&&(p=!0,h="0",d="=");var C=g==="$"?n:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",z=g==="$"?r:/[%p]/.test(k)?o:"",P=ea[k],E=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(q){var j=C,M=z,x,I,T;if(k==="c")M=P(q)+M,q="";else{q=+q;var F=q<0||1/q<0;if(q=isNaN(q)?l:P(Math.abs(q),w),_&&(q=J0(q)),F&&+q==0&&v!=="+"&&(F=!1),j=(F?v==="("?v:a:v==="-"||v==="("?"":v)+j,M=(k==="s"?ra[8+Jl/3]:"")+M+(F&&v==="("?")":""),E){for(x=-1,I=q.length;++x<I;)if(T=q.charCodeAt(x),48>T||T>57){M=(T===46?i+q.slice(x+1):q.slice(x))+M,q=q.slice(0,x);break}}}y&&!p&&(q=t(q,1/0));var W=j.length+q.length+M.length,O=W<m?new Array(m-W+1).join(h):"";switch(y&&p&&(q=t(O+q,O.length?m-M.length:1/0),O=""),d){case"<":q=j+q+M+O;break;case"=":q=j+O+q+M;break;case"^":q=O.slice(0,W=O.length>>1)+j+q+M+O.slice(W);break;default:q=O+j+q+M;break}return s(q)}return L.toString=function(){return f+""},L}function u(f,h){var d=c((f=zn(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ln(h)/3)))*3,g=Math.pow(10,-v),p=ra[8+v/3];return function(m){return d(g*m)+p}}return{format:c,formatPrefix:u}}var rr,pi,Kl;e1({thousands:",",grouping:[3],currency:["$",""]});function e1(e){return rr=$0(e),pi=rr.format,Kl=rr.formatPrefix,rr}function t1(e){return Math.max(0,-ln(Math.abs(e)))}function n1(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ln(t)/3)))*3-ln(Math.abs(e)))}function r1(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ln(t)-ln(e))+1}function i1(e,t,n,r){var i=Zf(e,t,n),s;switch(r=zn(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=n1(i,o))&&(r.precision=s),Kl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=r1(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=t1(i))&&(r.precision=s-(r.type==="%")*2);break}}return pi(r)}function $l(e){var t=e.domain;return e.ticks=function(n){var r=t();return Dr(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return i1(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=qn(o,a,n),c===l)return r[i]=o,r[s]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function ec(){var e=Y0();return e.copy=function(){return uo(e,ec())},Gn.apply(e,arguments),$l(e)}function s1(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function ia(e){return Math.log(e)}function sa(e){return Math.exp(e)}function o1(e){return-Math.log(-e)}function a1(e){return-Math.exp(-e)}function l1(e){return isFinite(e)?+("1e"+e):e<0?0:e}function c1(e){return e===10?l1:e===Math.E?Math.exp:t=>Math.pow(e,t)}function u1(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oa(e){return(t,n)=>-e(-t,n)}function h1(e){const t=e(ia,sa),n=t.domain;let r=10,i,s;function o(){return i=u1(r),s=c1(r),n()[0]<0?(i=oa(i),s=oa(s),e(o1,a1)):e(ia,sa),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),d=i(u),v,g;const p=a==null?10:+a;let m=[];if(!(r%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(v=1;v<r;++v)if(g=h<0?v/s(-h):v*s(h),!(g<c)){if(g>u)break;m.push(g)}}else for(;h<=d;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/s(-h):v*s(h),!(g<c)){if(g>u)break;m.push(g)}m.length*2<p&&(m=Dr(c,u,p))}else m=Dr(h,d,Math.min(d-h,p)).map(s);return f?m.reverse():m},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=zn(l)).precision==null&&(l.trim=!0),l=pi(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(s1(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function tc(){const e=h1(ho()).domain([1,10]);return e.copy=()=>uo(e,tc()).base(e.base()),Gn.apply(e,arguments),e}function aa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function f1(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function d1(e){return e<0?-e*e:e*e}function p1(e){var t=e(ct,ct),n=1;function r(){return n===1?e(ct,ct):n===.5?e(f1,d1):e(aa(n),aa(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},$l(t)}function po(){var e=p1(ho());return e.copy=function(){return uo(e,po()).exponent(e.exponent())},Gn.apply(e,arguments),e}function g1(){return po.apply(null,arguments).exponent(.5)}var Vi=new Date,Di=new Date;function yt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},i.range=function(s,o,a){var l=[],c;if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},i.filter=function(s){return yt(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},n&&(i.count=function(s,o){return Vi.setTime(+s),Di.setTime(+o),e(Vi),e(Di),Math.floor(n(Vi,Di))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?function(o){return r(o)%s===0}:function(o){return i.count(0,o)%s===0}):i}),i}const m1=1e3,go=m1*60,v1=go*60,mo=v1*24,nc=mo*7;var w1=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*go)/mo,e=>e.getDate()-1),rc=w1;function Et(e){return yt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*go)/nc})}var y1=Et(0),hs=Et(1);Et(2);Et(3);var In=Et(4);Et(5);Et(6);var ic=yt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ic.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:yt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};var Fn=ic,b1=yt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/mo},function(e){return e.getUTCDate()-1}),sc=b1;function Ht(e){return yt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/nc})}var x1=Ht(0),fs=Ht(1);Ht(2);Ht(3);var jn=Ht(4);Ht(5);Ht(6);var oc=yt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});oc.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:yt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};var Pn=oc;function qi(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ai(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _1(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=vn(i),u=wn(i),f=vn(s),h=wn(s),d=vn(o),v=wn(o),g=vn(a),p=wn(a),m=vn(l),y=wn(l),w={a:F,A:W,b:O,B,c:null,d:da,e:da,f:B1,g:td,G:rd,H:W1,I:U1,j:O1,L:ac,m:Y1,M:G1,p:X,q:U,Q:ma,s:va,S:X1,u:Z1,U:Q1,V:J1,w:K1,W:$1,x:null,X:null,y:ed,Y:nd,Z:id,"%":ga},_={a:ie,A:$,b:se,B:le,c:null,d:pa,e:pa,f:ld,g:wd,G:bd,H:sd,I:od,j:ad,L:cc,m:cd,M:ud,p:Q,q:J,Q:ma,s:va,S:hd,u:fd,U:dd,V:pd,w:gd,W:md,x:null,X:null,y:vd,Y:yd,Z:xd,"%":ga},k={a:L,A:q,b:j,B:M,c:x,d:ha,e:ha,f:E1,g:ua,G:ca,H:fa,I:fa,j:I1,L:P1,m:z1,M:F1,p:E,q:L1,Q:N1,s:R1,S:j1,u:C1,U:V1,V:D1,w:M1,W:q1,x:I,X:T,y:ua,Y:ca,Z:A1,"%":H1};w.x=C(n,w),w.X=C(r,w),w.c=C(t,w),_.x=C(n,_),_.X=C(r,_),_.c=C(t,_);function C(H,G){return function(K){var N=[],de=-1,oe=0,we=H.length,ee,Y,he;for(K instanceof Date||(K=new Date(+K));++de<we;)H.charCodeAt(de)===37&&(N.push(H.slice(oe,de)),(Y=la[ee=H.charAt(++de)])!=null?ee=H.charAt(++de):Y=ee==="e"?" ":"0",(he=G[ee])&&(ee=he(K,Y)),N.push(ee),oe=de+1);return N.push(H.slice(oe,de)),N.join("")}}function z(H,G){return function(K){var N=mn(1900,void 0,1),de=P(N,H,K+="",0),oe,we;if(de!=K.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(G&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(oe=Ai(mn(N.y,0,1)),we=oe.getUTCDay(),oe=we>4||we===0?fs.ceil(oe):fs(oe),oe=sc.offset(oe,(N.V-1)*7),N.y=oe.getUTCFullYear(),N.m=oe.getUTCMonth(),N.d=oe.getUTCDate()+(N.w+6)%7):(oe=qi(mn(N.y,0,1)),we=oe.getDay(),oe=we>4||we===0?hs.ceil(oe):hs(oe),oe=rc.offset(oe,(N.V-1)*7),N.y=oe.getFullYear(),N.m=oe.getMonth(),N.d=oe.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),we="Z"in N?Ai(mn(N.y,0,1)).getUTCDay():qi(mn(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(we+5)%7:N.w+N.U*7-(we+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Ai(N)):qi(N)}}function P(H,G,K,N){for(var de=0,oe=G.length,we=K.length,ee,Y;de<oe;){if(N>=we)return-1;if(ee=G.charCodeAt(de++),ee===37){if(ee=G.charAt(de++),Y=k[ee in la?G.charAt(de++):ee],!Y||(N=Y(H,K,N))<0)return-1}else if(ee!=K.charCodeAt(N++))return-1}return N}function E(H,G,K){var N=c.exec(G.slice(K));return N?(H.p=u.get(N[0].toLowerCase()),K+N[0].length):-1}function L(H,G,K){var N=d.exec(G.slice(K));return N?(H.w=v.get(N[0].toLowerCase()),K+N[0].length):-1}function q(H,G,K){var N=f.exec(G.slice(K));return N?(H.w=h.get(N[0].toLowerCase()),K+N[0].length):-1}function j(H,G,K){var N=m.exec(G.slice(K));return N?(H.m=y.get(N[0].toLowerCase()),K+N[0].length):-1}function M(H,G,K){var N=g.exec(G.slice(K));return N?(H.m=p.get(N[0].toLowerCase()),K+N[0].length):-1}function x(H,G,K){return P(H,t,G,K)}function I(H,G,K){return P(H,n,G,K)}function T(H,G,K){return P(H,r,G,K)}function F(H){return o[H.getDay()]}function W(H){return s[H.getDay()]}function O(H){return l[H.getMonth()]}function B(H){return a[H.getMonth()]}function X(H){return i[+(H.getHours()>=12)]}function U(H){return 1+~~(H.getMonth()/3)}function ie(H){return o[H.getUTCDay()]}function $(H){return s[H.getUTCDay()]}function se(H){return l[H.getUTCMonth()]}function le(H){return a[H.getUTCMonth()]}function Q(H){return i[+(H.getUTCHours()>=12)]}function J(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var G=C(H+="",w);return G.toString=function(){return H},G},parse:function(H){var G=z(H+="",!1);return G.toString=function(){return H},G},utcFormat:function(H){var G=C(H+="",_);return G.toString=function(){return H},G},utcParse:function(H){var G=z(H+="",!0);return G.toString=function(){return H},G}}}var la={"-":"",_:" ","0":"0"},Ve=/^\s*\d+/,S1=/^%/,k1=/[\\^$*+?|[\]().{}]/g;function fe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function T1(e){return e.replace(k1,"\\$&")}function vn(e){return new RegExp("^(?:"+e.map(T1).join("|")+")","i")}function wn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function M1(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function C1(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function V1(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function D1(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function q1(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ca(e,t,n){var r=Ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ua(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A1(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function L1(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function z1(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ha(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function I1(e,t,n){var r=Ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fa(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function F1(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function j1(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function P1(e,t,n){var r=Ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function E1(e,t,n){var r=Ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function H1(e,t,n){var r=S1.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function N1(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function R1(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function da(e,t){return fe(e.getDate(),t,2)}function W1(e,t){return fe(e.getHours(),t,2)}function U1(e,t){return fe(e.getHours()%12||12,t,2)}function O1(e,t){return fe(1+rc.count(Fn(e),e),t,3)}function ac(e,t){return fe(e.getMilliseconds(),t,3)}function B1(e,t){return ac(e,t)+"000"}function Y1(e,t){return fe(e.getMonth()+1,t,2)}function G1(e,t){return fe(e.getMinutes(),t,2)}function X1(e,t){return fe(e.getSeconds(),t,2)}function Z1(e){var t=e.getDay();return t===0?7:t}function Q1(e,t){return fe(y1.count(Fn(e)-1,e),t,2)}function lc(e){var t=e.getDay();return t>=4||t===0?In(e):In.ceil(e)}function J1(e,t){return e=lc(e),fe(In.count(Fn(e),e)+(Fn(e).getDay()===4),t,2)}function K1(e){return e.getDay()}function $1(e,t){return fe(hs.count(Fn(e)-1,e),t,2)}function ed(e,t){return fe(e.getFullYear()%100,t,2)}function td(e,t){return e=lc(e),fe(e.getFullYear()%100,t,2)}function nd(e,t){return fe(e.getFullYear()%1e4,t,4)}function rd(e,t){var n=e.getDay();return e=n>=4||n===0?In(e):In.ceil(e),fe(e.getFullYear()%1e4,t,4)}function id(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function pa(e,t){return fe(e.getUTCDate(),t,2)}function sd(e,t){return fe(e.getUTCHours(),t,2)}function od(e,t){return fe(e.getUTCHours()%12||12,t,2)}function ad(e,t){return fe(1+sc.count(Pn(e),e),t,3)}function cc(e,t){return fe(e.getUTCMilliseconds(),t,3)}function ld(e,t){return cc(e,t)+"000"}function cd(e,t){return fe(e.getUTCMonth()+1,t,2)}function ud(e,t){return fe(e.getUTCMinutes(),t,2)}function hd(e,t){return fe(e.getUTCSeconds(),t,2)}function fd(e){var t=e.getUTCDay();return t===0?7:t}function dd(e,t){return fe(x1.count(Pn(e)-1,e),t,2)}function uc(e){var t=e.getUTCDay();return t>=4||t===0?jn(e):jn.ceil(e)}function pd(e,t){return e=uc(e),fe(jn.count(Pn(e),e)+(Pn(e).getUTCDay()===4),t,2)}function gd(e){return e.getUTCDay()}function md(e,t){return fe(fs.count(Pn(e)-1,e),t,2)}function vd(e,t){return fe(e.getUTCFullYear()%100,t,2)}function wd(e,t){return e=uc(e),fe(e.getUTCFullYear()%100,t,2)}function yd(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function bd(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jn(e):jn.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function xd(){return"+0000"}function ga(){return"%"}function ma(e){return+e}function va(e){return Math.floor(+e/1e3)}var Li,hc;_d({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _d(e){return Li=_1(e),hc=Li.format,Li}function Sd(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}var kd=Sd("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");Ql(Mt(-100,.75,.35),Mt(80,1.5,.8));Ql(Mt(260,.75,.35),Mt(80,1.5,.8));var ir=Mt();function Td(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ir.h=360*e-100,ir.s=1.5-1.5*t,ir.l=.8-.9*t,ir+""}var cn=0,Sn=0,yn=0,fc=1e3,Ir,kn,Fr=0,Pt=0,gi=0,En=typeof performance=="object"&&performance.now?performance:Date,dc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vo(){return Pt||(dc(Md),Pt=En.now()+gi)}function Md(){Pt=0}function jr(){this._call=this._time=this._next=null}jr.prototype=pc.prototype={constructor:jr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vo():+n)+(t==null?0:+t),!this._next&&kn!==this&&(kn?kn._next=this:Ir=this,kn=this),this._call=e,this._time=n,ds()},stop:function(){this._call&&(this._call=null,this._time=1/0,ds())}};function pc(e,t,n){var r=new jr;return r.restart(e,t,n),r}function Cd(){vo(),++cn;for(var e=Ir,t;e;)(t=Pt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cn}function wa(){Pt=(Fr=En.now())+gi,cn=Sn=0;try{Cd()}finally{cn=0,Dd(),Pt=0}}function Vd(){var e=En.now(),t=e-Fr;t>fc&&(gi-=t,Fr=e)}function Dd(){for(var e,t=Ir,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ir=n);kn=e,ds(r)}function ds(e){if(!cn){Sn&&(Sn=clearTimeout(Sn));var t=e-Pt;t>24?(e<1/0&&(Sn=setTimeout(wa,e-En.now()-gi)),yn&&(yn=clearInterval(yn))):(yn||(Fr=En.now(),yn=setInterval(Vd,fc)),cn=1,dc(wa))}}function ps(e,t,n){var r=new jr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var qd={value:()=>{}};function Qn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mr(n)}function mr(e){this._=e}function Ad(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mr.prototype=Qn.prototype={constructor:mr,on:function(e,t){var n=this._,r=Ad(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Ld(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=ya(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ya(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new mr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Ld(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ya(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=qd,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var zd=Qn("start","end","cancel","interrupt"),Id=[],gc=0,ba=1,gs=2,vr=3,xa=4,ms=5,wr=6;function mi(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Fd(e,n,{name:t,index:r,group:i,on:zd,tween:Id,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:gc})}function wo(e,t){var n=rt(e,t);if(n.state>gc)throw new Error("too late; already scheduled");return n}function pt(e,t){var n=rt(e,t);if(n.state>vr)throw new Error("too late; already running");return n}function rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Fd(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=pc(s,0,n.time);function s(c){n.state=ba,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,h,d;if(n.state!==ba)return l();for(u in r)if(d=r[u],d.name===n.name){if(d.state===vr)return ps(o);d.state===xa?(d.state=wr,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[u]):+u<t&&(d.state=wr,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[u])}if(ps(function(){n.state===vr&&(n.state=xa,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=gs,n.on.call("start",e,e.__data__,n.index,n.group),n.state===gs){for(n.state=vr,i=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ms,1),f=-1,h=i.length;++f<h;)i[f].call(e,u);n.state===ms&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=wr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Jt(e,t){var n=e.__transition,r,i,s=!0,o;if(!!n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>gs&&r.state<ms,r.state=wr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function jd(e){return this.each(function(){Jt(this,e)})}function Pd(e,t){var n,r;return function(){var i=pt(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ed(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=pt(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Hd(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=rt(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Pd:Ed)(n,e,t))}function yo(e,t,n){var r=e._id;return e.each(function(){var i=pt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return rt(i,r).value[t]}}function mc(e,t){var n;return(typeof t=="number"?Ze:t instanceof Tt?Lr:(n=Tt(t))?(t=n,Lr):Yl)(e,t)}function Nd(e){return function(){this.removeAttribute(e)}}function Rd(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wd(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function Ud(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function Od(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function Bd(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function Yd(e,t){var n=hi(e),r=n==="transform"?F0:mc;return this.attrTween(e,typeof t=="function"?(n.local?Bd:Od)(n,r,yo(this,"attr."+e,t)):t==null?(n.local?Rd:Nd)(n):(n.local?Ud:Wd)(n,r,t))}function Gd(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Xd(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Zd(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Xd(e,s)),n}return i._value=t,i}function Qd(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Gd(e,s)),n}return i._value=t,i}function Jd(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=hi(e);return this.tween(n,(r.local?Zd:Qd)(r,t))}function Kd(e,t){return function(){wo(this,e).delay=+t.apply(this,arguments)}}function $d(e,t){return t=+t,function(){wo(this,e).delay=t}}function ep(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Kd:$d)(t,e)):rt(this.node(),t).delay}function tp(e,t){return function(){pt(this,e).duration=+t.apply(this,arguments)}}function np(e,t){return t=+t,function(){pt(this,e).duration=t}}function rp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tp:np)(t,e)):rt(this.node(),t).duration}function ip(e,t){if(typeof t!="function")throw new Error;return function(){pt(this,e).ease=t}}function sp(e){var t=this._id;return arguments.length?this.each(ip(t,e)):rt(this.node(),t).ease}function op(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pt(this,e).ease=n}}function ap(e){if(typeof e!="function")throw new Error;return this.each(op(this._id,e))}function lp(e){typeof e!="function"&&(e=bl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new wt(r,this._parents,this._name,this._id)}function cp(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,f=o[a]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;a<r;++a)o[a]=t[a];return new wt(o,this._parents,this._name,this._id)}function up(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hp(e,t,n){var r,i,s=up(t)?wo:pt;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function fp(e,t){var n=this._id;return arguments.length<2?rt(this.node(),n).on.on(e):this.each(hp(n,e,t))}function dp(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pp(){return this.on("end.remove",dp(this._id))}function gp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=no(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=e.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,mi(c[h],t,n,h,c,rt(u,n)));return new wt(s,this._parents,t,n)}function mp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yl(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=e.call(u,u.__data__,f,l),d,v=rt(u,n),g=0,p=h.length;g<p;++g)(d=h[g])&&mi(d,t,n,g,h,v);s.push(h),o.push(u)}return new wt(s,o,t,n)}var vp=un.prototype.constructor;function wp(){return new vp(this._groups,this._parents)}function yp(e,t){var n,r,i;return function(){var s=on(this,e),o=(this.style.removeProperty(e),on(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function vc(e){return function(){this.style.removeProperty(e)}}function bp(e,t,n){var r,i=n+"",s;return function(){var o=on(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function xp(e,t,n){var r,i,s;return function(){var o=on(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),on(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function _p(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=pt(this,e),c=l.on,u=l.value[s]==null?a||(a=vc(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function Sp(e,t,n){var r=(e+="")=="transform"?I0:mc;return t==null?this.styleTween(e,yp(e,r)).on("end.style."+e,vc(e)):typeof t=="function"?this.styleTween(e,xp(e,r,yo(this,"style."+e,t))).each(_p(this._id,e)):this.styleTween(e,bp(e,r,t),n).on("end.style."+e,null)}function kp(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Tp(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&kp(e,o,n)),r}return s._value=t,s}function Mp(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Tp(e,t,n==null?"":n))}function Cp(e){return function(){this.textContent=e}}function Vp(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Dp(e){return this.tween("text",typeof e=="function"?Vp(yo(this,"text",e)):Cp(e==null?"":e+""))}function qp(e){return function(t){this.textContent=e.call(this,t)}}function Ap(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&qp(i)),t}return r._value=e,r}function Lp(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ap(e))}function zp(){for(var e=this._name,t=this._id,n=yc(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=rt(l,t);mi(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wt(r,this._parents,e,n)}function Ip(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=pt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var Fp=0;function wt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function wc(e){return un().transition(e)}function yc(){return++Fp}var gt=un.prototype;wt.prototype=wc.prototype={constructor:wt,select:gp,selectAll:mp,selectChild:gt.selectChild,selectChildren:gt.selectChildren,filter:lp,merge:cp,selection:wp,transition:zp,call:gt.call,nodes:gt.nodes,node:gt.node,size:gt.size,empty:gt.empty,each:gt.each,on:fp,attr:Yd,attrTween:Jd,style:Sp,styleTween:Mp,text:Dp,textTween:Lp,remove:pp,tween:Hd,delay:ep,duration:rp,ease:sp,easeVarying:ap,end:Ip,[Symbol.iterator]:gt[Symbol.iterator]};const jp=e=>+e;function Pp(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function bc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ep=3,Hp=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(Ep);function Np(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}var _a=2*Math.PI,Rp=1,Wp=.3,Up=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=_a);function i(s){return 1-t*Np(s=+s)*Math.sin((s+r)/n)}return i.amplitude=function(s){return e(s,n*_a)},i.period=function(s){return e(t,s)},i}(Rp,Wp),Op={time:null,delay:0,duration:250,ease:bc};function Bp(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Yp(e){var t,n;e instanceof wt?(t=e._id,e=e._name):(t=yc(),(n=Op).time=vo(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&mi(l,e,t,c,o,n||Bp(l,t));return new wt(r,this._parents,e,t)}un.prototype.interrupt=jd;un.prototype.transition=Yp;function Gp(e){return e}var zi=1,Ii=2,vs=3,Tn=4,Sa=1e-6;function Xp(e){return"translate("+e+",0)"}function Zp(e){return"translate(0,"+e+")"}function Qp(e){return t=>+e(t)}function Jp(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Kp(){return!this.__axis}function xc(e,t){var n=[],r=null,i=null,s=6,o=6,a=3,l=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,c=e===zi||e===Tn?-1:1,u=e===Tn||e===Ii?"x":"y",f=e===zi||e===vs?Xp:Zp;function h(d){var v=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,g=i==null?t.tickFormat?t.tickFormat.apply(t,n):Gp:i,p=Math.max(s,0)+a,m=t.range(),y=+m[0]+l,w=+m[m.length-1]+l,_=(t.bandwidth?Jp:Qp)(t.copy(),l),k=d.selection?d.selection():d,C=k.selectAll(".domain").data([null]),z=k.selectAll(".tick").data(v,t).order(),P=z.exit(),E=z.enter().append("g").attr("class","tick"),L=z.select("line"),q=z.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(E),L=L.merge(E.append("line").attr("stroke","currentColor").attr(u+"2",c*s)),q=q.merge(E.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",e===zi?"0em":e===vs?"0.71em":"0.32em")),d!==k&&(C=C.transition(d),z=z.transition(d),L=L.transition(d),q=q.transition(d),P=P.transition(d).attr("opacity",Sa).attr("transform",function(j){return isFinite(j=_(j))?f(j+l):this.getAttribute("transform")}),E.attr("opacity",Sa).attr("transform",function(j){var M=this.parentNode.__axis;return f((M&&isFinite(M=M(j))?M:_(j))+l)})),P.remove(),C.attr("d",e===Tn||e===Ii?o?"M"+c*o+","+y+"H"+l+"V"+w+"H"+c*o:"M"+l+","+y+"V"+w:o?"M"+y+","+c*o+"V"+l+"H"+w+"V"+c*o:"M"+y+","+l+"H"+w),z.attr("opacity",1).attr("transform",function(j){return f(_(j)+l)}),L.attr(u+"2",c*s),q.attr(u,c*p).text(g),k.filter(Kp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ii?"start":e===Tn?"end":"middle"),k.each(function(){this.__axis=_})}return h.scale=function(d){return arguments.length?(t=d,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(s=o=+d,h):s},h.tickSizeInner=function(d){return arguments.length?(s=+d,h):s},h.tickSizeOuter=function(d){return arguments.length?(o=+d,h):o},h.tickPadding=function(d){return arguments.length?(a=+d,h):a},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function $p(e){return xc(vs,e)}function eg(e){return xc(Tn,e)}const ws=Math.PI,ys=2*ws,qt=1e-6,tg=ys-qt;function bs(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Jn(){return new bs}bs.prototype=Jn.prototype={constructor:bs,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var s=this._x1,o=this._y1,a=n-e,l=r-t,c=s-e,u=o-t,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>qt)if(!(Math.abs(u*a-l*c)>qt)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-s,d=r-o,v=a*a+l*l,g=h*h+d*d,p=Math.sqrt(v),m=Math.sqrt(f),y=i*Math.tan((ws-Math.acos((v+f-g)/(2*p*m)))/2),w=y/m,_=y/p;Math.abs(w-1)>qt&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*d)+","+(this._x1=e+_*a)+","+(this._y1=t+_*l)}},arc:function(e,t,n,r,i,s){e=+e,t=+t,n=+n,s=!!s;var o=n*Math.cos(r),a=n*Math.sin(r),l=e+o,c=t+a,u=1^s,f=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>qt||Math.abs(this._y1-c)>qt)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%ys+ys),f>tg?this._+="A"+n+","+n+",0,1,"+u+","+(e-o)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>qt&&(this._+="A"+n+","+n+",0,"+ +(f>=ws)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function ze(e){return function(){return e}}const ka=Math.abs,qe=Math.atan2,Dt=Math.cos,ng=Math.max,Fi=Math.min,it=Math.sin,Yt=Math.sqrt,He=1e-12,Hn=Math.PI,Pr=Hn/2,rg=2*Hn;function ig(e){return e>1?0:e<-1?Hn:Math.acos(e)}function Ta(e){return e>=1?Pr:e<=-1?-Pr:Math.asin(e)}function sg(e){return e.innerRadius}function og(e){return e.outerRadius}function ag(e){return e.startAngle}function lg(e){return e.endAngle}function cg(e){return e&&e.padAngle}function ug(e,t,n,r,i,s,o,a){var l=n-e,c=r-t,u=o-i,f=a-s,h=f*l-u*c;if(!(h*h<He))return h=(u*(t-s)-f*(e-i))/h,[e+h*l,t+h*c]}function sr(e,t,n,r,i,s,o){var a=e-n,l=t-r,c=(o?s:-s)/Yt(a*a+l*l),u=c*l,f=-c*a,h=e+u,d=t+f,v=n+u,g=r+f,p=(h+v)/2,m=(d+g)/2,y=v-h,w=g-d,_=y*y+w*w,k=i-s,C=h*g-v*d,z=(w<0?-1:1)*Yt(ng(0,k*k*_-C*C)),P=(C*w-y*z)/_,E=(-C*y-w*z)/_,L=(C*w+y*z)/_,q=(-C*y+w*z)/_,j=P-p,M=E-m,x=L-p,I=q-m;return j*j+M*M>x*x+I*I&&(P=L,E=q),{cx:P,cy:E,x01:-u,y01:-f,x11:P*(i/k-1),y11:E*(i/k-1)}}function hg(){var e=sg,t=og,n=ze(0),r=null,i=ag,s=lg,o=cg,a=null;function l(){var c,u,f=+e.apply(this,arguments),h=+t.apply(this,arguments),d=i.apply(this,arguments)-Pr,v=s.apply(this,arguments)-Pr,g=ka(v-d),p=v>d;if(a||(a=c=Jn()),h<f&&(u=h,h=f,f=u),!(h>He))a.moveTo(0,0);else if(g>rg-He)a.moveTo(h*Dt(d),h*it(d)),a.arc(0,0,h,d,v,!p),f>He&&(a.moveTo(f*Dt(v),f*it(v)),a.arc(0,0,f,v,d,p));else{var m=d,y=v,w=d,_=v,k=g,C=g,z=o.apply(this,arguments)/2,P=z>He&&(r?+r.apply(this,arguments):Yt(f*f+h*h)),E=Fi(ka(h-f)/2,+n.apply(this,arguments)),L=E,q=E,j,M;if(P>He){var x=Ta(P/f*it(z)),I=Ta(P/h*it(z));(k-=x*2)>He?(x*=p?1:-1,w+=x,_-=x):(k=0,w=_=(d+v)/2),(C-=I*2)>He?(I*=p?1:-1,m+=I,y-=I):(C=0,m=y=(d+v)/2)}var T=h*Dt(m),F=h*it(m),W=f*Dt(_),O=f*it(_);if(E>He){var B=h*Dt(y),X=h*it(y),U=f*Dt(w),ie=f*it(w),$;if(g<Hn&&($=ug(T,F,U,ie,B,X,W,O))){var se=T-$[0],le=F-$[1],Q=B-$[0],J=X-$[1],H=1/it(ig((se*Q+le*J)/(Yt(se*se+le*le)*Yt(Q*Q+J*J)))/2),G=Yt($[0]*$[0]+$[1]*$[1]);L=Fi(E,(f-G)/(H-1)),q=Fi(E,(h-G)/(H+1))}}C>He?q>He?(j=sr(U,ie,T,F,h,q,p),M=sr(B,X,W,O,h,q,p),a.moveTo(j.cx+j.x01,j.cy+j.y01),q<E?a.arc(j.cx,j.cy,q,qe(j.y01,j.x01),qe(M.y01,M.x01),!p):(a.arc(j.cx,j.cy,q,qe(j.y01,j.x01),qe(j.y11,j.x11),!p),a.arc(0,0,h,qe(j.cy+j.y11,j.cx+j.x11),qe(M.cy+M.y11,M.cx+M.x11),!p),a.arc(M.cx,M.cy,q,qe(M.y11,M.x11),qe(M.y01,M.x01),!p))):(a.moveTo(T,F),a.arc(0,0,h,m,y,!p)):a.moveTo(T,F),!(f>He)||!(k>He)?a.lineTo(W,O):L>He?(j=sr(W,O,B,X,f,-L,p),M=sr(T,F,U,ie,f,-L,p),a.lineTo(j.cx+j.x01,j.cy+j.y01),L<E?a.arc(j.cx,j.cy,L,qe(j.y01,j.x01),qe(M.y01,M.x01),!p):(a.arc(j.cx,j.cy,L,qe(j.y01,j.x01),qe(j.y11,j.x11),!p),a.arc(0,0,f,qe(j.cy+j.y11,j.cx+j.x11),qe(M.cy+M.y11,M.cx+M.x11),p),a.arc(M.cx,M.cy,L,qe(M.y11,M.x11),qe(M.y01,M.x01),!p))):a.arc(0,0,f,_,w,p)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Hn/2;return[Dt(u)*c,it(u)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ze(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ze(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ze(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ze(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ze(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ze(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ze(+c),l):o},l.context=function(c){return arguments.length?(a=c==null?null:c,l):a},l}var fg=Array.prototype.slice;function dg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _c(e){this._context=e}_c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pg(e){return new _c(e)}function Sc(e){return e[0]}function kc(e){return e[1]}function gg(e,t){var n=ze(!0),r=null,i=pg,s=null;e=typeof e=="function"?e:e===void 0?Sc:ze(e),t=typeof t=="function"?t:t===void 0?kc:ze(t);function o(a){var l,c=(a=dg(a)).length,u,f=!1,h;for(r==null&&(s=i(h=Jn())),l=0;l<=c;++l)!(l<c&&n(u=a[l],l,a))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(u,l,a),+t(u,l,a));if(h)return s=null,h+""||null}return o.x=function(a){return arguments.length?(e=typeof a=="function"?a:ze(+a),o):e},o.y=function(a){return arguments.length?(t=typeof a=="function"?a:ze(+a),o):t},o.defined=function(a){return arguments.length?(n=typeof a=="function"?a:ze(!!a),o):n},o.curve=function(a){return arguments.length?(i=a,r!=null&&(s=i(r)),o):i},o.context=function(a){return arguments.length?(a==null?r=s=null:s=i(r=a),o):r},o}class Tc{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function mg(e){return new Tc(e,!0)}function vg(e){return new Tc(e,!1)}function wg(e){return e.source}function yg(e){return e.target}function Mc(e){let t=wg,n=yg,r=Sc,i=kc,s=null,o=null;function a(){let l;const c=fg.call(arguments),u=t.apply(this,c),f=n.apply(this,c);if(s==null&&(o=e(l=Jn())),o.lineStart(),c[0]=u,o.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,o.point(+r.apply(this,c),+i.apply(this,c)),o.lineEnd(),l)return o=null,l+""||null}return a.source=function(l){return arguments.length?(t=l,a):t},a.target=function(l){return arguments.length?(n=l,a):n},a.x=function(l){return arguments.length?(r=typeof l=="function"?l:ze(+l),a):r},a.y=function(l){return arguments.length?(i=typeof l=="function"?l:ze(+l),a):i},a.context=function(l){return arguments.length?(l==null?s=o=null:o=e(s=l),a):s},a}function bg(){return Mc(mg)}function xg(){return Mc(vg)}function Ma(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Cc(e){this._context=e}Cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _g(e){return new Cc(e)}function Ca(e){return e<0?-1:1}function Va(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(Ca(s)+Ca(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Da(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ji(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function Er(e){this._context=e}Er.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ji(this,this._t0,Da(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ji(this,Da(this,n=Va(this,e,t)),n);break;default:ji(this,this._t0,n=Va(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Vc(e){this._context=new Dc(e)}(Vc.prototype=Object.create(Er.prototype)).point=function(e,t){Er.prototype.point.call(this,t,e)};function Dc(e){this._context=e}Dc.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Sg(e){return new Er(e)}function kg(e){return new Vc(e)}function qc(e,t){this._context=e,this._t=t}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Tg(e){return new qc(e,1)}function Mg(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Cg(){return this.eachAfter(Mg)}function Vg(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Dg(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function qg(e,t){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Ag(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Lg(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function zg(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Ig(e){for(var t=this,n=Fg(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Fg(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function jg(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Pg(){return Array.from(this)}function Eg(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Hg(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Ng(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function bo(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Ug)):t===void 0&&(t=Wg);for(var n=new Nn(e),r,i=[n],s,o,a,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new Nn(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Bg)}function Rg(){return bo(this).eachBefore(Og)}function Wg(e){return e.children}function Ug(e){return Array.isArray(e)?e[1]:null}function Og(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Bg(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Nn(e){this.data=e,this.depth=this.height=0,this.parent=null}Nn.prototype=bo.prototype={constructor:Nn,count:Cg,each:Vg,eachAfter:qg,eachBefore:Dg,find:Ag,sum:Lg,sort:zg,path:Ig,ancestors:jg,descendants:Pg,leaves:Eg,links:Hg,copy:Rg,[Symbol.iterator]:Ng};function Yg(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Gg(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,c=e.value&&(r-t)/e.value;++a<l;)o=s[a],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function Xg(){var e=1,t=1,n=0,r=!1;function i(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),r&&o.eachBefore(Yg),o}function s(o,a){return function(l){l.children&&Gg(l,l.x0,o*(l.depth+1)/a,l.x1,o*(l.depth+2)/a);var c=l.x0,u=l.y0,f=l.x1-n,h=l.y1-n;f<c&&(c=f=(c+f)/2),h<u&&(u=h=(u+h)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=h}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}function Zg(e,t){return e.parent===t.parent?1:2}function Pi(e){var t=e.children;return t?t[0]:e.t}function Ei(e){var t=e.children;return t?t[t.length-1]:e.t}function Qg(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Jg(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function Kg(e,t,n){return e.a.parent===t.parent?e.a:n}function yr(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}yr.prototype=Object.create(Nn.prototype);function $g(e){for(var t=new yr(e,0),n,r=[t],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new yr(s[o],o)),i.parent=n;return(t.parent=new yr(null,0)).children=[t],t}function e6(){var e=Zg,t=1,n=1,r=null;function i(c){var u=$g(c);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var f=c,h=c,d=c;c.eachBefore(function(y){y.x<f.x&&(f=y),y.x>h.x&&(h=y),y.depth>d.depth&&(d=y)});var v=f===h?1:e(f,h)/2,g=v-f.x,p=t/(h.x+v+g),m=n/(d.depth||1);c.eachBefore(function(y){y.x=(y.x+g)*p,y.y=y.depth*m})}return c}function s(c){var u=c.children,f=c.parent.children,h=c.i?f[c.i-1]:null;if(u){Jg(c);var d=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+e(c._,h._),c.m=c.z-d):c.z=d}else h&&(c.z=h.z+e(c._,h._));c.parent.A=a(c,h,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,f){if(u){for(var h=c,d=c,v=u,g=h.parent.children[0],p=h.m,m=d.m,y=v.m,w=g.m,_;v=Ei(v),h=Pi(h),v&&h;)g=Pi(g),d=Ei(d),d.a=c,_=v.z+y-h.z-p+e(v._,h._),_>0&&(Qg(Kg(v,c,f),c,_),p+=_,m+=_),y+=v.m,p+=h.m,w+=g.m,m+=d.m;v&&!Ei(d)&&(d.t=v,d.m+=y-m),h&&!Pi(g)&&(g.t=h,g.m+=p-w,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}const t6={passive:!1},Rn={capture:!0,passive:!1};function Hi(e){e.stopImmediatePropagation()}function Kt(e){e.preventDefault(),e.stopImmediatePropagation()}function xo(e){var t=e.document.documentElement,n=Fe(e).on("dragstart.drag",Kt,Rn);"onselectstart"in t?n.on("selectstart.drag",Kt,Rn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function _o(e,t){var n=e.document.documentElement,r=Fe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Kt,Rn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var or=e=>()=>e;function xs(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}xs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function n6(e){return!e.ctrlKey&&!e.button}function r6(){return this.parentNode}function i6(e,t){return t==null?{x:e.x,y:e.y}:t}function s6(){return navigator.maxTouchPoints||"ontouchstart"in this}function o6(){var e=n6,t=r6,n=i6,r=s6,i={},s=Qn("start","drag","end"),o=0,a,l,c,u,f=0;function h(_){_.on("mousedown.drag",d).filter(r).on("touchstart.drag",p).on("touchmove.drag",m,t6).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(_,k){if(!(u||!e.call(this,_,k))){var C=w(this,t.call(this,_,k),_,k,"mouse");!C||(Fe(_.view).on("mousemove.drag",v,Rn).on("mouseup.drag",g,Rn),xo(_.view),Hi(_),c=!1,a=_.clientX,l=_.clientY,C("start",_))}}function v(_){if(Kt(_),!c){var k=_.clientX-a,C=_.clientY-l;c=k*k+C*C>f}i.mouse("drag",_)}function g(_){Fe(_.view).on("mousemove.drag mouseup.drag",null),_o(_.view,c),Kt(_),i.mouse("end",_)}function p(_,k){if(!!e.call(this,_,k)){var C=_.changedTouches,z=t.call(this,_,k),P=C.length,E,L;for(E=0;E<P;++E)(L=w(this,z,_,k,C[E].identifier,C[E]))&&(Hi(_),L("start",_,C[E]))}}function m(_){var k=_.changedTouches,C=k.length,z,P;for(z=0;z<C;++z)(P=i[k[z].identifier])&&(Kt(_),P("drag",_,k[z]))}function y(_){var k=_.changedTouches,C=k.length,z,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),z=0;z<C;++z)(P=i[k[z].identifier])&&(Hi(_),P("end",_,k[z]))}function w(_,k,C,z,P,E){var L=s.copy(),q=Xe(E||C,k),j,M,x;if((x=n.call(_,new xs("beforestart",{sourceEvent:C,target:h,identifier:P,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:L}),z))!=null)return j=x.x-q[0]||0,M=x.y-q[1]||0,function I(T,F,W){var O=q,B;switch(T){case"start":i[P]=I,B=o++;break;case"end":delete i[P],--o;case"drag":q=Xe(W||F,k),B=o;break}L.call(T,_,new xs(T,{sourceEvent:F,subject:x,target:h,identifier:P,active:B,x:q[0]+j,y:q[1]+M,dx:q[0]-O[0],dy:q[1]-O[1],dispatch:L}),z)}}return h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:or(!!_),h):e},h.container=function(_){return arguments.length?(t=typeof _=="function"?_:or(_),h):t},h.subject=function(_){return arguments.length?(n=typeof _=="function"?_:or(_),h):n},h.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:or(!!_),h):r},h.on=function(){var _=s.on.apply(s,arguments);return _===s?h:_},h.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,h):Math.sqrt(f)},h}var Ni=e=>()=>e;function a6(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function l6(e){e.stopImmediatePropagation()}function Ri(e){e.preventDefault(),e.stopImmediatePropagation()}var qa={name:"drag"},Wi={name:"space"},Wt={name:"handle"},Ut={name:"center"};const{abs:Aa,max:Ae,min:Le}=Math;function La(e){return[+e[0],+e[1]]}function _s(e){return[La(e[0]),La(e[1])]}var Ui={name:"x",handles:["w","e"].map(Wn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Oi={name:"y",handles:["n","s"].map(Wn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},c6={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wn),input:function(e){return e==null?null:_s(e)},output:function(e){return e}},mt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},za={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ia={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},u6={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},h6={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Wn(e){return{type:e}}function f6(e){return!e.ctrlKey&&!e.button}function d6(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function p6(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bi(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function g6(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function m6(){return v6(c6)}function v6(e){var t=d6,n=f6,r=p6,i=!0,s=Qn("start","brush","end"),o=6,a;function l(p){var m=p.property("__brush",g).selectAll(".overlay").data([Wn("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",mt.overlay).merge(m).each(function(){var w=Bi(this).extent;Fe(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),p.selectAll(".selection").data([Wn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",mt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var y=p.selectAll(".handle").data(e.handles,function(w){return w.type});y.exit().remove(),y.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return mt[w.type]}),p.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,m,y){p.tween?p.on("start.brush",function(w){u(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){u(this,arguments).end(w)}).tween("brush",function(){var w=this,_=w.__brush,k=u(w,arguments),C=_.selection,z=e.input(typeof m=="function"?m.apply(this,arguments):m,_.extent),P=Zn(C,z);function E(L){_.selection=L===1&&z===null?null:P(L),c.call(w),k.brush()}return C!==null&&z!==null?E:E(1)}):p.each(function(){var w=this,_=arguments,k=w.__brush,C=e.input(typeof m=="function"?m.apply(w,_):m,k.extent),z=u(w,_).beforestart();Jt(w),k.selection=C===null?null:C,c.call(w),z.start(y).brush(y).end(y)})},l.clear=function(p,m){l.move(p,null,m)};function c(){var p=Fe(this),m=Bi(this).selection;m?(p.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(y){return y.type[y.type.length-1]==="e"?m[1][0]-o/2:m[0][0]-o/2}).attr("y",function(y){return y.type[0]==="s"?m[1][1]-o/2:m[0][1]-o/2}).attr("width",function(y){return y.type==="n"||y.type==="s"?m[1][0]-m[0][0]+o:o}).attr("height",function(y){return y.type==="e"||y.type==="w"?m[1][1]-m[0][1]+o:o})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(p,m,y){var w=p.__brush.emitter;return w&&(!y||!w.clean)?w:new f(p,m,y)}function f(p,m,y){this.that=p,this.args=m,this.state=p.__brush,this.active=0,this.clean=y}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,m){return this.starting?(this.starting=!1,this.emit("start",p,m)):this.emit("brush",p),this},brush:function(p,m){return this.emit("brush",p,m),this},end:function(p,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,m)),this},emit:function(p,m,y){var w=Fe(this.that).datum();s.call(p,this.that,new a6(p,{sourceEvent:m,target:l,selection:e.output(this.state.selection),mode:y,dispatch:s}),w)}};function h(p){if(a&&!p.touches||!n.apply(this,arguments))return;var m=this,y=p.target.__data__.type,w=(i&&p.metaKey?y="overlay":y)==="selection"?qa:i&&p.altKey?Ut:Wt,_=e===Oi?null:u6[y],k=e===Ui?null:h6[y],C=Bi(m),z=C.extent,P=C.selection,E=z[0][0],L,q,j=z[0][1],M,x,I=z[1][0],T,F,W=z[1][1],O,B,X=0,U=0,ie,$=_&&k&&i&&p.shiftKey,se,le,Q=Array.from(p.touches||[p],Y=>{const he=Y.identifier;return Y=Xe(Y,m),Y.point0=Y.slice(),Y.identifier=he,Y});Jt(m);var J=u(m,arguments,!0).beforestart();if(y==="overlay"){P&&(ie=!0);const Y=[Q[0],Q[1]||Q[0]];C.selection=P=[[L=e===Oi?E:Le(Y[0][0],Y[1][0]),M=e===Ui?j:Le(Y[0][1],Y[1][1])],[T=e===Oi?I:Ae(Y[0][0],Y[1][0]),O=e===Ui?W:Ae(Y[0][1],Y[1][1])]],Q.length>1&&de(p)}else L=P[0][0],M=P[0][1],T=P[1][0],O=P[1][1];q=L,x=M,F=T,B=O;var H=Fe(m).attr("pointer-events","none"),G=H.selectAll(".overlay").attr("cursor",mt[y]);if(p.touches)J.moved=N,J.ended=oe;else{var K=Fe(p.view).on("mousemove.brush",N,!0).on("mouseup.brush",oe,!0);i&&K.on("keydown.brush",we,!0).on("keyup.brush",ee,!0),xo(p.view)}c.call(m),J.start(p,w.name);function N(Y){for(const he of Y.changedTouches||[Y])for(const Ee of Q)Ee.identifier===he.identifier&&(Ee.cur=Xe(he,m));if($&&!se&&!le&&Q.length===1){const he=Q[0];Aa(he.cur[0]-he[0])>Aa(he.cur[1]-he[1])?le=!0:se=!0}for(const he of Q)he.cur&&(he[0]=he.cur[0],he[1]=he.cur[1]);ie=!0,Ri(Y),de(Y)}function de(Y){const he=Q[0],Ee=he.point0;var be;switch(X=he[0]-Ee[0],U=he[1]-Ee[1],w){case Wi:case qa:{_&&(X=Ae(E-L,Le(I-T,X)),q=L+X,F=T+X),k&&(U=Ae(j-M,Le(W-O,U)),x=M+U,B=O+U);break}case Wt:{Q[1]?(_&&(q=Ae(E,Le(I,Q[0][0])),F=Ae(E,Le(I,Q[1][0])),_=1),k&&(x=Ae(j,Le(W,Q[0][1])),B=Ae(j,Le(W,Q[1][1])),k=1)):(_<0?(X=Ae(E-L,Le(I-L,X)),q=L+X,F=T):_>0&&(X=Ae(E-T,Le(I-T,X)),q=L,F=T+X),k<0?(U=Ae(j-M,Le(W-M,U)),x=M+U,B=O):k>0&&(U=Ae(j-O,Le(W-O,U)),x=M,B=O+U));break}case Ut:{_&&(q=Ae(E,Le(I,L-X*_)),F=Ae(E,Le(I,T+X*_))),k&&(x=Ae(j,Le(W,M-U*k)),B=Ae(j,Le(W,O+U*k)));break}}F<q&&(_*=-1,be=L,L=T,T=be,be=q,q=F,F=be,y in za&&G.attr("cursor",mt[y=za[y]])),B<x&&(k*=-1,be=M,M=O,O=be,be=x,x=B,B=be,y in Ia&&G.attr("cursor",mt[y=Ia[y]])),C.selection&&(P=C.selection),se&&(q=P[0][0],F=P[1][0]),le&&(x=P[0][1],B=P[1][1]),(P[0][0]!==q||P[0][1]!==x||P[1][0]!==F||P[1][1]!==B)&&(C.selection=[[q,x],[F,B]],c.call(m),J.brush(Y,w.name))}function oe(Y){if(l6(Y),Y.touches){if(Y.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else _o(Y.view,ie),K.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);H.attr("pointer-events","all"),G.attr("cursor",mt.overlay),C.selection&&(P=C.selection),g6(P)&&(C.selection=null,c.call(m)),J.end(Y,w.name)}function we(Y){switch(Y.keyCode){case 16:{$=_&&k;break}case 18:{w===Wt&&(_&&(T=F-X*_,L=q+X*_),k&&(O=B-U*k,M=x+U*k),w=Ut,de(Y));break}case 32:{(w===Wt||w===Ut)&&(_<0?T=F-X:_>0&&(L=q-X),k<0?O=B-U:k>0&&(M=x-U),w=Wi,G.attr("cursor",mt.selection),de(Y));break}default:return}Ri(Y)}function ee(Y){switch(Y.keyCode){case 16:{$&&(se=le=$=!1,de(Y));break}case 18:{w===Ut&&(_<0?T=F:_>0&&(L=q),k<0?O=B:k>0&&(M=x),w=Wt,de(Y));break}case 32:{w===Wi&&(Y.altKey?(_&&(T=F-X*_,L=q+X*_),k&&(O=B-U*k,M=x+U*k),w=Ut):(_<0?T=F:_>0&&(L=q),k<0?O=B:k>0&&(M=x),w=Wt),G.attr("cursor",mt[y]),de(Y));break}default:return}Ri(Y)}}function d(p){u(this,arguments).moved(p)}function v(p){u(this,arguments).ended(p)}function g(){var p=this.__brush||{selection:null};return p.extent=_s(t.apply(this,arguments)),p.dim=e,p}return l.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Ni(_s(p)),l):t},l.filter=function(p){return arguments.length?(n=typeof p=="function"?p:Ni(!!p),l):n},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Ni(!!p),l):r},l.handleSize=function(p){return arguments.length?(o=+p,l):o},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=s.on.apply(s,arguments);return p===s?l:p},l}var ar=e=>()=>e;function w6(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function St(e,t,n){this.k=e,this.x=t,this.y=n}St.prototype={constructor:St,scale:function(e){return e===1?this:new St(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new St(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var So=new St(1,0,0);function Yi(e){e.stopImmediatePropagation()}function bn(e){e.preventDefault(),e.stopImmediatePropagation()}function y6(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function b6(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fa(){return this.__zoom||So}function x6(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _6(){return navigator.maxTouchPoints||"ontouchstart"in this}function S6(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function k6(){var e=y6,t=b6,n=S6,r=x6,i=_6,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=H0,c=Qn("start","zoom","end"),u,f,h,d=500,v=150,g=0,p=10;function m(x){x.property("__zoom",Fa).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",L).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(x,I,T,F){var W=x.selection?x.selection():x;W.property("__zoom",Fa),x!==W?k(x,I,T,F):W.interrupt().each(function(){C(this,arguments).event(F).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},m.scaleBy=function(x,I,T,F){m.scaleTo(x,function(){var W=this.__zoom.k,O=typeof I=="function"?I.apply(this,arguments):I;return W*O},T,F)},m.scaleTo=function(x,I,T,F){m.transform(x,function(){var W=t.apply(this,arguments),O=this.__zoom,B=T==null?_(W):typeof T=="function"?T.apply(this,arguments):T,X=O.invert(B),U=typeof I=="function"?I.apply(this,arguments):I;return n(w(y(O,U),B,X),W,o)},T,F)},m.translateBy=function(x,I,T,F){m.transform(x,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,F)},m.translateTo=function(x,I,T,F,W){m.transform(x,function(){var O=t.apply(this,arguments),B=this.__zoom,X=F==null?_(O):typeof F=="function"?F.apply(this,arguments):F;return n(So.translate(X[0],X[1]).scale(B.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof T=="function"?-T.apply(this,arguments):-T),O,o)},F,W)};function y(x,I){return I=Math.max(s[0],Math.min(s[1],I)),I===x.k?x:new St(I,x.x,x.y)}function w(x,I,T){var F=I[0]-T[0]*x.k,W=I[1]-T[1]*x.k;return F===x.x&&W===x.y?x:new St(x.k,F,W)}function _(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function k(x,I,T,F){x.on("start.zoom",function(){C(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(F).end()}).tween("zoom",function(){var W=this,O=arguments,B=C(W,O).event(F),X=t.apply(W,O),U=T==null?_(X):typeof T=="function"?T.apply(W,O):T,ie=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),$=W.__zoom,se=typeof I=="function"?I.apply(W,O):I,le=l($.invert(U).concat(ie/$.k),se.invert(U).concat(ie/se.k));return function(Q){if(Q===1)Q=se;else{var J=le(Q),H=ie/J[2];Q=new St(H,U[0]-J[0]*H,U[1]-J[1]*H)}B.zoom(null,Q)}})}function C(x,I,T){return!T&&x.__zooming||new z(x,I)}function z(x,I){this.that=x,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,I),this.taps=0}z.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,I){return this.mouse&&x!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var I=Fe(this.that).datum();c.call(x,this.that,new w6(x,{sourceEvent:this.sourceEvent,target:m,type:x,transform:this.that.__zoom,dispatch:c}),I)}};function P(x,...I){if(!e.apply(this,arguments))return;var T=C(this,I).event(x),F=this.__zoom,W=Math.max(s[0],Math.min(s[1],F.k*Math.pow(2,r.apply(this,arguments)))),O=Xe(x);if(T.wheel)(T.mouse[0][0]!==O[0]||T.mouse[0][1]!==O[1])&&(T.mouse[1]=F.invert(T.mouse[0]=O)),clearTimeout(T.wheel);else{if(F.k===W)return;T.mouse=[O,F.invert(O)],Jt(this),T.start()}bn(x),T.wheel=setTimeout(B,v),T.zoom("mouse",n(w(y(F,W),T.mouse[0],T.mouse[1]),T.extent,o));function B(){T.wheel=null,T.end()}}function E(x,...I){if(h||!e.apply(this,arguments))return;var T=x.currentTarget,F=C(this,I,!0).event(x),W=Fe(x.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",ie,!0),O=Xe(x,T),B=x.clientX,X=x.clientY;xo(x.view),Yi(x),F.mouse=[O,this.__zoom.invert(O)],Jt(this),F.start();function U($){if(bn($),!F.moved){var se=$.clientX-B,le=$.clientY-X;F.moved=se*se+le*le>g}F.event($).zoom("mouse",n(w(F.that.__zoom,F.mouse[0]=Xe($,T),F.mouse[1]),F.extent,o))}function ie($){W.on("mousemove.zoom mouseup.zoom",null),_o($.view,F.moved),bn($),F.event($).end()}}function L(x,...I){if(!!e.apply(this,arguments)){var T=this.__zoom,F=Xe(x.changedTouches?x.changedTouches[0]:x,this),W=T.invert(F),O=T.k*(x.shiftKey?.5:2),B=n(w(y(T,O),F,W),t.apply(this,I),o);bn(x),a>0?Fe(this).transition().duration(a).call(k,B,F,x):Fe(this).call(m.transform,B,F,x)}}function q(x,...I){if(!!e.apply(this,arguments)){var T=x.touches,F=T.length,W=C(this,I,x.changedTouches.length===F).event(x),O,B,X,U;for(Yi(x),B=0;B<F;++B)X=T[B],U=Xe(X,this),U=[U,this.__zoom.invert(U),X.identifier],W.touch0?!W.touch1&&W.touch0[2]!==U[2]&&(W.touch1=U,W.taps=0):(W.touch0=U,O=!0,W.taps=1+!!u);u&&(u=clearTimeout(u)),O&&(W.taps<2&&(f=U[0],u=setTimeout(function(){u=null},d)),Jt(this),W.start())}}function j(x,...I){if(!!this.__zooming){var T=C(this,I).event(x),F=x.changedTouches,W=F.length,O,B,X,U;for(bn(x),O=0;O<W;++O)B=F[O],X=Xe(B,this),T.touch0&&T.touch0[2]===B.identifier?T.touch0[0]=X:T.touch1&&T.touch1[2]===B.identifier&&(T.touch1[0]=X);if(B=T.that.__zoom,T.touch1){var ie=T.touch0[0],$=T.touch0[1],se=T.touch1[0],le=T.touch1[1],Q=(Q=se[0]-ie[0])*Q+(Q=se[1]-ie[1])*Q,J=(J=le[0]-$[0])*J+(J=le[1]-$[1])*J;B=y(B,Math.sqrt(Q/J)),X=[(ie[0]+se[0])/2,(ie[1]+se[1])/2],U=[($[0]+le[0])/2,($[1]+le[1])/2]}else if(T.touch0)X=T.touch0[0],U=T.touch0[1];else return;T.zoom("touch",n(w(B,X,U),T.extent,o))}}function M(x,...I){if(!!this.__zooming){var T=C(this,I).event(x),F=x.changedTouches,W=F.length,O,B;for(Yi(x),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),O=0;O<W;++O)B=F[O],T.touch0&&T.touch0[2]===B.identifier?delete T.touch0:T.touch1&&T.touch1[2]===B.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(B=Xe(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<p)){var X=Fe(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return m.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:ar(+x),m):r},m.filter=function(x){return arguments.length?(e=typeof x=="function"?x:ar(!!x),m):e},m.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:ar(!!x),m):i},m.extent=function(x){return arguments.length?(t=typeof x=="function"?x:ar([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),m):t},m.scaleExtent=function(x){return arguments.length?(s[0]=+x[0],s[1]=+x[1],m):[s[0],s[1]]},m.translateExtent=function(x){return arguments.length?(o[0][0]=+x[0][0],o[1][0]=+x[1][0],o[0][1]=+x[0][1],o[1][1]=+x[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(x){return arguments.length?(n=x,m):n},m.duration=function(x){return arguments.length?(a=+x,m):a},m.interpolate=function(x){return arguments.length?(l=x,m):l},m.on=function(){var x=c.on.apply(c,arguments);return x===c?m:x},m.clickDistance=function(x){return arguments.length?(g=(x=+x)*x,m):Math.sqrt(g)},m.tapDistance=function(x){return arguments.length?(p=+x,m):p},m}var R={select:Fe,selectAll:jf,json:Ef,scaleLinear:ec,scaleSqrt:g1,scalePoint:s0,scaleBand:oo,scalePow:po,scaleOrdinal:so,scaleLog:tc,schemeTableau10:kd,interpolateRainbow:Td,lch:w0,hsl:zl,color:Tt,quantize:N0,interpolate:Zn,max:$f,maxIndex:t0,min:e0,minIndex:n0,extent:gr,sum:i0,bin:Kf,timeout:ps,transition:wc,easeLinear:jp,easePolyInOut:Hp,easeQuadInOut:Pp,easeCubicInOut:bc,easeElasticOut:Up,axisLeft:eg,axisBottom:$p,line:gg,curveStepAfter:Tg,brush:m6,zoom:k6,zoomIdentity:So,drag:o6,format:pi,curveMonotoneX:Sg,curveMonotoneY:kg,curveBasis:_g,timeFormat:hc,hierarchy:bo,partition:Xg,tree:e6,arc:hg,linkHorizontal:bg,linkVertical:xg,path:Jn};const vi=(e,t)=>Math.round((e+Number.EPSILON)*10**t)/10**t,T6=(e,t=null,n="download.json")=>{const r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e));let i=t,s=!1;t===null&&(i=document.createElement("a"),i.style.display="none",s=!0),i==null||i.setAttribute("href",r),i==null||i.setAttribute("download",`${n}`),i==null||i.click(),s&&(i==null||i.remove())},ja=e=>{const t=e[0],n=e[1],r=e[2],i=[t,n,r].map(s=>(s/=255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return i[0]*.2126+i[1]*.7152+i[2]*.0722},Hr=(e,t)=>{const n=ja(e),r=ja(t);return n>r?(r+.05)/(n+.05):(n+.05)/(r+.05)},M6=(e,t)=>e.size===t.size&&[...e].every(n=>t.has(n));class Pa{constructor(t,n,r,i){V(this,"favoritesStore");V(this,"favoritesStoreValue");V(this,"searchStore");V(this,"searchStoreValue");V(this,"sunburstStore");V(this,"sunburstStoreValue");V(this,"handlerUpdated");V(this,"favoritesClicked",()=>{this.favoritesStoreValue.shown=!this.favoritesStoreValue.shown,this.favoritesStore.set(this.favoritesStoreValue),this.favoritesStoreValue.shown&&this.searchStoreValue.shown&&(this.searchStoreValue.shown=!1,this.searchStore.set(this.searchStoreValue))});V(this,"searchClicked",()=>{this.searchStoreValue.shown=!this.searchStoreValue.shown,this.searchStore.set(this.searchStoreValue),this.searchStoreValue.shown&&this.favoritesStoreValue.shown&&(this.favoritesStoreValue.shown=!1,this.favoritesStore.set(this.favoritesStoreValue))});V(this,"depthBoxClicked",t=>{t<this.sunburstStoreValue.depthLow||(t>this.sunburstStoreValue.depthHigh?(this.sunburstStoreValue.depthHigh=t,this.sunburstStoreValue.action=Lt.DepthChanged,this.sunburstStore.set(this.sunburstStoreValue)):this.sunburstStoreValue.depthLow<t&&t<this.sunburstStoreValue.depthHigh?(this.sunburstStoreValue.depthHigh=t,this.sunburstStoreValue.action=Lt.DepthChanged,this.sunburstStore.set(this.sunburstStoreValue)):this.sunburstStoreValue.depthLow===t||this.sunburstStoreValue.depthHigh===t||console.error("Unknown case in depthBoxClicked()"))});V(this,"getDepthBoxStyle",t=>{const n=this.sunburstStoreValue.depthColors[t-1];let r="inherit";if(n===null||n==="")return"";{const i=[252,252,252],s=[74,74,74],o=R.color(n).rgb(),a=[o.r,o.g,o.b];Hr(i,a)<Hr(s,a)&&(r="hsla(0, 0%, 99%, 1)")}return`
    background-color: ${n}; color: ${r}; border: none;
    `});this.handlerUpdated=t,this.favoritesStore=n,this.favoritesStoreValue=nn(),this.favoritesStore.subscribe(s=>{this.favoritesStoreValue=s,this.handlerUpdated()}),this.sunburstStore=r,this.sunburstStoreValue=eo(),this.sunburstStore.subscribe(s=>{this.sunburstStoreValue=s,this.handlerUpdated()}),this.searchStore=i,this.searchStoreValue=rn(),this.searchStore.subscribe(s=>{this.searchStoreValue=s,this.handlerUpdated()})}}var Ac='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>',Lc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"></path></svg>',zc=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <path d="M8,14.25L7.655,14.916L7.647,14.912L7.629,14.902C7.524,14.848 7.421,14.791 7.319,14.732C6.1,14.038 4.95,13.23 3.885,12.318C2.045,10.731 0,8.35 0,5.5C0,2.836 2.086,1 4.25,1C5.797,1 7.153,1.802 8,3.02C8.847,1.802 10.203,1 11.75,1C13.914,1 16,2.836 16,5.5C16,8.35 13.955,10.731 12.115,12.318C10.959,13.306 9.705,14.172 8.371,14.902L8.353,14.912L8.347,14.915L8.345,14.915L8,14.25ZM8,14.25L8.345,14.916C8.129,15.028 7.871,15.028 7.655,14.916L8,14.25Z"/>
</svg>
`;const Ie="src/components/toolbar/Toolbar.svelte";function C6(e){dt(e,"svelte-9si64r",`@use 'sass:math';.toolbar.svelte-9si64r.svelte-9si64r{height:36px;padding:0px 16px;box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.07);background-color:#fafafa;display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-size:0.92rem;line-height:1}.depths.svelte-9si64r.svelte-9si64r{display:flex;flex-direction:row;justify-content:space-between;align-items:baseline;color:#424242}.depths.svelte-9si64r .depth-label.svelte-9si64r{margin-right:6px}.depths.svelte-9si64r .depth-box-container.svelte-9si64r{display:flex;flex-direction:row;align-items:baseline;gap:8px;position:relative}.depths.svelte-9si64r .depth-box-container .depth-box-lines.svelte-9si64r{display:flex;z-index:2;position:absolute;top:2px;left:23px;width:calc(100% - 48px + 2px);height:50%;pointer-events:none}.depths.svelte-9si64r .depth-box-container .depth-box-lines .depth-line.svelte-9si64r{flex:1 0 auto}.depths.svelte-9si64r .depth-box-container .depth-box-lines .depth-line.in-range.svelte-9si64r{border-bottom:3px solid #9e9e9e}.depths.svelte-9si64r .depth-box-container.svelte-9si64r::after{position:absolute;z-index:1;content:'';width:100%;border-bottom:1px solid #e0e0e0;top:50%;left:0px}.depths.svelte-9si64r .depth-box.svelte-9si64r{z-index:3;flex-shrink:0;width:24px;height:24px;border-radius:5px;border:1px solid #e0e0e0;background-color:#fafafa;color:#212121;display:flex;align-items:center;justify-content:center;user-select:none;-webkit-user-select:none;cursor:default;transition:background-color 100ms linear, color 100ms linear, fill 100ms linear, color 100ms linear}.depths.svelte-9si64r .depth-box.in-range.svelte-9si64r{background-color:#e0e0e0;border:1px solid #bdbdbd}.depths.svelte-9si64r .depth-box.svelte-9si64r:not(.no-hover):hover{background-color:#ededed}.depths.svelte-9si64r .depth-box.svelte-9si64r:active{background-color:#e0e0e0}.tools.svelte-9si64r.svelte-9si64r{display:flex;gap:6px;flex-direction:row}.tools.svelte-9si64r .tool-button.svelte-9si64r{display:flex;flex-direction:row;align-items:flex-end;gap:5px;border-radius:5px;padding:4px 5px;user-select:none;-webkit-user-select:none;cursor:default;color:#616161;border:1px solid #e0e0e0;background-color:#fafafa;transition:background-color 100ms linear}.tools.svelte-9si64r .tool-button.shown.svelte-9si64r{background-color:#e0e0e0;border:1px solid #bdbdbd}.tools.svelte-9si64r .tool-button.svelte-9si64r:hover{background-color:#ededed}.tools.svelte-9si64r .tool-button.svelte-9si64r:active{background-color:#e0e0e0}.svg-icon.svelte-9si64r.svelte-9si64r{display:flex;justify-content:center;align-items:center;fill:currentColor;color:currentColor;position:relative}.svg-icon.svelte-9si64r svg{width:0.92em;height:0.92em}.svg-icon.svelte-9si64r .hidden-heart.svelte-9si64r{position:absolute;display:flex;justify-content:center;align-items:center;fill:#ef5350;color:#ef5350;opacity:0;transform:scale(0);transform-origin:center 90%}.svg-icon.svelte-9si64r .hidden-heart.svelte-9si64r svg{width:0.92em;height:0.92em}.svg-icon.svelte-9si64r .hidden-heart.pulse.svelte-9si64r{animation:svelte-9si64r-heart-pulse 600ms 300ms infinite}@keyframes svelte-9si64r-heart-pulse{0%{transform:scale(1)}30%{transform:scale(1.4)}60%{transform:scale(1)}}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbGJhci5zdmVsdGUiLCJtYXBwaW5ncyI6IkFBbURrQixLQUFBLFdBQUEsQ0FBQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJUb29sYmFyLnN2ZWx0ZSJdfQ== */`)}function Ea(e,t,n){const r=e.slice();return r[12]=t[n],r}function Ha(e,t,n){const r=e.slice();return r[12]=t[n],r}function Ss(e){let t;const n={c:function(){var i,s;t=A("div"),S(t,"class","depth-line svelte-9si64r"),ve(t,"in-range",e[12]+2<=((i=e[1])==null?void 0:i.sunburstStoreValue.depthHigh)&&e[12]+2>((s=e[1])==null?void 0:s.sunburstStoreValue.depthLow)),D(t,Ie,170,10,4721)},m:function(i,s){pe(i,t,s)},p:function(i,s){var o,a;s&2&&ve(t,"in-range",i[12]+2<=((o=i[1])==null?void 0:o.sunburstStoreValue.depthHigh)&&i[12]+2>((a=i[1])==null?void 0:a.sunburstStoreValue.depthLow))},d:function(i){i&&ue(t)}};return te("SvelteRegisterBlock",{block:n,id:Ss.name,type:"each",source:"(170:8) {#each [...Array(Math.max(handler?.sunburstStoreValue.depthMax - 1, 0)).keys()] as i}",ctx:e}),n}function ks(e){let t,n=e[12]+1+"",r,i,s,o,a;function l(){return e[5](e[12])}const c={c:function(){var f,h,d,v;t=A("div"),r=me(n),i=Z(),S(t,"class","depth-box svelte-9si64r"),S(t,"style",s=(f=e[1])==null?void 0:f.getDepthBoxStyle(e[12]+1)),ve(t,"in-range",e[12]+1<=((h=e[1])==null?void 0:h.sunburstStoreValue.depthHigh)&&e[12]+1>=((d=e[1])==null?void 0:d.sunburstStoreValue.depthLow)),ve(t,"no-hover",e[12]+1===((v=e[1])==null?void 0:v.sunburstStoreValue.depthHigh)),D(t,Ie,179,8,5021)},m:function(f,h){pe(f,t,h),b(t,r),b(t,i),o||(a=ae(t,"click",l,!1,!1,!1),o=!0)},p:function(f,h){var d,v,g,p;e=f,h&2&&n!==(n=e[12]+1+"")&&Re(r,n),h&2&&s!==(s=(d=e[1])==null?void 0:d.getDepthBoxStyle(e[12]+1))&&S(t,"style",s),h&2&&ve(t,"in-range",e[12]+1<=((v=e[1])==null?void 0:v.sunburstStoreValue.depthHigh)&&e[12]+1>=((g=e[1])==null?void 0:g.sunburstStoreValue.depthLow)),h&2&&ve(t,"no-hover",e[12]+1===((p=e[1])==null?void 0:p.sunburstStoreValue.depthHigh))},d:function(f){f&&ue(t),o=!1,a()}};return te("SvelteRegisterBlock",{block:c,id:ks.name,type:"each",source:"(179:6) {#each [...Array(handler?.sunburstStoreValue.depthMax).keys()] as i}",ctx:e}),c}function Ts(e){var M,x;let t,n,r,i,s,o,a,l,c,u,f,h,d,v,g,p,m,y,w,_,k,C,z,P=[...Array(Math.max(((M=e[1])==null?void 0:M.sunburstStoreValue.depthMax)-1,0)).keys()];at(P);let E=[];for(let I=0;I<P.length;I+=1)E[I]=Ss(Ha(e,P,I));let L=[...Array((x=e[1])==null?void 0:x.sunburstStoreValue.depthMax).keys()];at(L);let q=[];for(let I=0;I<L.length;I+=1)q[I]=ks(Ea(e,L,I));const j={c:function(){var T,F;t=A("div"),n=A("div"),r=A("div"),r.textContent="Show Depth",i=Z(),s=A("div"),o=A("div");for(let W=0;W<E.length;W+=1)E[W].c();a=Z();for(let W=0;W<q.length;W+=1)q[W].c();l=Z(),c=A("div"),u=A("div"),f=A("span"),h=new es,d=Z(),v=A("div"),g=Z(),p=A("span"),p.textContent="My Favorites",m=Z(),y=A("div"),w=A("span"),_=Z(),k=A("span"),k.textContent="Search",S(r,"class","depth-label svelte-9si64r"),D(r,Ie,165,4,4500),S(o,"class","depth-box-lines svelte-9si64r"),D(o,Ie,168,6,4587),S(s,"class","depth-box-container svelte-9si64r"),D(s,Ie,167,4,4547),S(n,"class","depths svelte-9si64r"),D(n,Ie,164,2,4475),h.a=d,S(v,"class","hidden-heart svelte-9si64r"),ve(v,"pulse",!1),D(v,Ie,203,8,5704),S(f,"class","svg-icon svelte-9si64r"),D(f,Ie,201,6,5646),S(p,"class","tool-name"),D(p,Ie,207,6,5819),S(u,"class","tool-button svelte-9si64r"),ve(u,"shown",(T=e[1])==null?void 0:T.favoritesStoreValue.shown),D(u,Ie,194,4,5478),S(w,"class","svg-icon svelte-9si64r"),D(w,Ie,217,6,6043),S(k,"class","tool-name"),D(k,Ie,220,6,6114),S(y,"class","tool-button svelte-9si64r"),ve(y,"shown",(F=e[1])==null?void 0:F.searchStoreValue.shown),D(y,Ie,210,4,5881),S(c,"class","tools svelte-9si64r"),D(c,Ie,193,2,5454),S(t,"class","toolbar svelte-9si64r"),D(t,Ie,163,0,4429)},l:function(T){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(T,F){pe(T,t,F),b(t,n),b(n,r),b(n,i),b(n,s),b(s,o);for(let W=0;W<E.length;W+=1)E[W].m(o,null);b(s,a);for(let W=0;W<q.length;W+=1)q[W].m(s,null);b(t,l),b(t,c),b(c,u),b(u,f),h.m(Lc,f),b(f,d),b(f,v),v.innerHTML=zc,b(u,g),b(u,p),b(c,m),b(c,y),b(y,w),w.innerHTML=Ac,b(y,_),b(y,k),e[8](t),C||(z=[ae(u,"click",e[6],!1,!1,!1),ae(y,"click",e[7],!1,!1,!1)],C=!0)},p:function(T,[F]){var W,O,B,X;if(F&2){P=[...Array(Math.max(((W=T[1])==null?void 0:W.sunburstStoreValue.depthMax)-1,0)).keys()],at(P);let U;for(U=0;U<P.length;U+=1){const ie=Ha(T,P,U);E[U]?E[U].p(ie,F):(E[U]=Ss(ie),E[U].c(),E[U].m(o,null))}for(;U<E.length;U+=1)E[U].d(1);E.length=P.length}if(F&2){L=[...Array((O=T[1])==null?void 0:O.sunburstStoreValue.depthMax).keys()],at(L);let U;for(U=0;U<L.length;U+=1){const ie=Ea(T,L,U);q[U]?q[U].p(ie,F):(q[U]=ks(ie),q[U].c(),q[U].m(s,null))}for(;U<q.length;U+=1)q[U].d(1);q.length=L.length}F&2&&ve(u,"shown",(B=T[1])==null?void 0:B.favoritesStoreValue.shown),F&2&&ve(y,"shown",(X=T[1])==null?void 0:X.searchStoreValue.shown)},i:ce,o:ce,d:function(T){T&&ue(t),Ji(E,T),Ji(q,T),e[8](null),C=!1,Pe(z)}};return te("SvelteRegisterBlock",{block:j,id:Ts.name,type:"component",source:"",ctx:e}),j}function V6(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("Toolbar",r,[]);let{favoritesStore:s=null}=t,{sunburstStore:o=null}=t,{searchStore:a=null}=t,l=null,c=!1,u=null;Te(()=>{c=!0});const f=()=>{n(1,u)},h=()=>{s&&o&&a&&n(1,u=new Pa(f,s,o,a))},d=["favoritesStore","sunburstStore","searchStore"];Object.keys(t).forEach(y=>{!~d.indexOf(y)&&y.slice(0,2)!=="$$"&&y!=="slot"&&console.warn(`<Toolbar> was created with unknown prop '${y}'`)});const v=y=>u==null?void 0:u.depthBoxClicked(y+1),g=()=>{u==null||u.favoritesClicked()},p=()=>{u==null||u.searchClicked()};function m(y){Ne[y?"unshift":"push"](()=>{l=y,n(0,l)})}return e.$$set=y=>{"favoritesStore"in y&&n(2,s=y.favoritesStore),"sunburstStore"in y&&n(3,o=y.sunburstStore),"searchStore"in y&&n(4,a=y.searchStore)},e.$capture_state=()=>({onMount:Te,ToolbarEventHandler:Pa,iconSearch:Ac,iconHeart:Lc,iconHeartSolid:zc,favoritesStore:s,sunburstStore:o,searchStore:a,component:l,mounted:c,handler:u,handlerUpdated:f,initView:h}),e.$inject_state=y=>{"favoritesStore"in y&&n(2,s=y.favoritesStore),"sunburstStore"in y&&n(3,o=y.sunburstStore),"searchStore"in y&&n(4,a=y.searchStore),"component"in y&&n(0,l=y.component),"mounted"in y&&(c=y.mounted),"handler"in y&&n(1,u=y.handler)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&28&&s&&o&&a&&h()},[l,u,s,o,a,v,g,p,m]}class Ic extends nt{constructor(t){super(t);et(this,t,V6,Ts,Ge,{favoritesStore:2,sunburstStore:3,searchStore:4},C6),te("SvelteRegisterComponent",{component:this,tagName:"Toolbar",options:t,id:Ts.name})}get favoritesStore(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sunburstStore(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sunburstStore(t){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get searchStore(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set searchStore(t){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const br={sunburstWidth:650,treeWindowWidth:150,treeWindowHeaderHeight:26,treeWindowHeight:0},D6={mouseenterDelay:300};br.treeWindowHeight=br.treeWindowHeaderHeight+br.treeWindowWidth;const q6={"red-50":"hsl(350, 100.0%, 96.08%)","red-100":"hsl(354, 100.0%, 90.2%)","red-200":"hsl(0, 72.65%, 77.06%)","red-300":"hsl(0, 68.67%, 67.45%)","red-400":"hsl(1, 83.25%, 62.55%)","red-500":"hsl(4, 89.62%, 58.43%)","red-600":"hsl(1, 77.19%, 55.29%)","red-700":"hsl(0, 65.08%, 50.59%)","red-800":"hsl(0, 66.39%, 46.67%)","red-900":"hsl(0, 73.46%, 41.37%)","red-a100":"hsl(4, 100.0%, 75.1%)","red-a200":"hsl(0, 100.0%, 66.08%)","red-a400":"hsl(348, 100.0%, 54.51%)","red-a700":"hsl(0, 100.0%, 41.76%)","pink-50":"hsl(340, 80.0%, 94.12%)","pink-100":"hsl(339, 81.33%, 85.29%)","pink-200":"hsl(339, 82.11%, 75.88%)","pink-300":"hsl(339, 82.56%, 66.27%)","pink-400":"hsl(339, 81.9%, 58.82%)","pink-500":"hsl(339, 82.19%, 51.57%)","pink-600":"hsl(338, 77.78%, 47.65%)","pink-700":"hsl(336, 77.98%, 42.75%)","pink-800":"hsl(333, 79.27%, 37.84%)","pink-900":"hsl(328, 81.33%, 29.41%)","pink-a100":"hsl(339, 100.0%, 75.1%)","pink-a200":"hsl(339, 100.0%, 62.55%)","pink-a400":"hsl(338, 100.0%, 48.04%)","pink-a700":"hsl(333, 84.11%, 41.96%)","purple-50":"hsl(292, 44.44%, 92.94%)","purple-100":"hsl(291, 46.07%, 82.55%)","purple-200":"hsl(291, 46.94%, 71.18%)","purple-300":"hsl(291, 46.6%, 59.61%)","purple-400":"hsl(291, 46.61%, 50.78%)","purple-500":"hsl(291, 63.72%, 42.16%)","purple-600":"hsl(287, 65.05%, 40.39%)","purple-700":"hsl(282, 67.88%, 37.84%)","purple-800":"hsl(277, 70.17%, 35.49%)","purple-900":"hsl(267, 75.0%, 31.37%)","purple-a100":"hsl(291, 95.38%, 74.51%)","purple-a200":"hsl(291, 95.9%, 61.76%)","purple-a400":"hsl(291, 100.0%, 48.82%)","purple-a700":"hsl(280, 100.0%, 50.0%)","deep-purple-50":"hsl(264, 45.45%, 93.53%)","deep-purple-100":"hsl(261, 45.68%, 84.12%)","deep-purple-200":"hsl(261, 46.27%, 73.73%)","deep-purple-300":"hsl(261, 46.81%, 63.14%)","deep-purple-400":"hsl(261, 46.72%, 55.1%)","deep-purple-500":"hsl(261, 51.87%, 47.25%)","deep-purple-600":"hsl(259, 53.91%, 45.1%)","deep-purple-700":"hsl(257, 57.75%, 41.76%)","deep-purple-800":"hsl(254, 60.8%, 39.02%)","deep-purple-900":"hsl(251, 68.79%, 33.92%)","deep-purple-a100":"hsl(261, 100.0%, 76.67%)","deep-purple-a200":"hsl(255, 100.0%, 65.1%)","deep-purple-a400":"hsl(258, 100.0%, 56.08%)","deep-purple-a700":"hsl(265, 100.0%, 45.88%)","indigo-50":"hsl(231, 43.75%, 93.73%)","indigo-100":"hsl(231, 45.0%, 84.31%)","indigo-200":"hsl(230, 44.36%, 73.92%)","indigo-300":"hsl(230, 44.09%, 63.53%)","indigo-400":"hsl(230, 44.25%, 55.69%)","indigo-500":"hsl(230, 48.36%, 47.84%)","indigo-600":"hsl(231, 50.0%, 44.71%)","indigo-700":"hsl(231, 53.62%, 40.59%)","indigo-800":"hsl(232, 57.22%, 36.67%)","indigo-900":"hsl(234, 65.79%, 29.8%)","indigo-a100":"hsl(230, 100.0%, 77.45%)","indigo-a200":"hsl(230, 98.84%, 66.08%)","indigo-a400":"hsl(230, 98.97%, 61.76%)","indigo-a700":"hsl(230, 99.04%, 59.22%)","blue-50":"hsl(205, 86.67%, 94.12%)","blue-100":"hsl(207, 88.89%, 85.88%)","blue-200":"hsl(206, 89.74%, 77.06%)","blue-300":"hsl(206, 89.02%, 67.84%)","blue-400":"hsl(206, 89.95%, 60.98%)","blue-500":"hsl(206, 89.74%, 54.12%)","blue-600":"hsl(208, 79.28%, 50.78%)","blue-700":"hsl(209, 78.72%, 46.08%)","blue-800":"hsl(211, 80.28%, 41.76%)","blue-900":"hsl(216, 85.06%, 34.12%)","blue-a100":"hsl(217, 100.0%, 75.49%)","blue-a200":"hsl(217, 100.0%, 63.33%)","blue-a400":"hsl(217, 100.0%, 58.04%)","blue-a700":"hsl(224, 100.0%, 58.04%)","light-blue-50":"hsl(198, 93.55%, 93.92%)","light-blue-100":"hsl(198, 92.41%, 84.51%)","light-blue-200":"hsl(198, 92.37%, 74.31%)","light-blue-300":"hsl(198, 91.3%, 63.92%)","light-blue-400":"hsl(198, 91.93%, 56.27%)","light-blue-500":"hsl(198, 97.57%, 48.43%)","light-blue-600":"hsl(199, 97.41%, 45.49%)","light-blue-700":"hsl(201, 98.1%, 41.37%)","light-blue-800":"hsl(202, 97.91%, 37.45%)","light-blue-900":"hsl(206, 98.72%, 30.59%)","light-blue-a100":"hsl(198, 100.0%, 75.1%)","light-blue-a200":"hsl(198, 100.0%, 62.55%)","light-blue-a400":"hsl(198, 100.0%, 50.0%)","light-blue-a700":"hsl(202, 100.0%, 45.88%)","cyan-50":"hsl(186, 72.22%, 92.94%)","cyan-100":"hsl(186, 71.11%, 82.35%)","cyan-200":"hsl(186, 71.62%, 70.98%)","cyan-300":"hsl(186, 71.15%, 59.22%)","cyan-400":"hsl(186, 70.87%, 50.2%)","cyan-500":"hsl(186, 100.0%, 41.57%)","cyan-600":"hsl(186, 100.0%, 37.84%)","cyan-700":"hsl(185, 100.0%, 32.75%)","cyan-800":"hsl(185, 100.0%, 28.04%)","cyan-900":"hsl(182, 100.0%, 19.61%)","cyan-a100":"hsl(180, 100.0%, 75.88%)","cyan-a200":"hsl(180, 100.0%, 54.71%)","cyan-a400":"hsl(186, 100.0%, 50.0%)","cyan-a700":"hsl(187, 100.0%, 41.57%)","teal-50":"hsl(176, 40.91%, 91.37%)","teal-100":"hsl(174, 41.28%, 78.63%)","teal-200":"hsl(174, 41.9%, 64.9%)","teal-300":"hsl(174, 41.83%, 50.78%)","teal-400":"hsl(174, 62.75%, 40.0%)","teal-500":"hsl(174, 100.0%, 29.41%)","teal-600":"hsl(173, 100.0%, 26.86%)","teal-700":"hsl(173, 100.0%, 23.73%)","teal-800":"hsl(172, 100.0%, 20.59%)","teal-900":"hsl(169, 100.0%, 15.1%)","teal-a100":"hsl(166, 100.0%, 82.75%)","teal-a200":"hsl(165, 100.0%, 69.61%)","teal-a400":"hsl(165, 82.26%, 51.37%)","teal-a700":"hsl(171, 100.0%, 37.45%)","green-50":"hsl(124, 39.39%, 93.53%)","green-100":"hsl(121, 37.5%, 84.31%)","green-200":"hsl(122, 37.4%, 74.31%)","green-300":"hsl(122, 38.46%, 64.31%)","green-400":"hsl(122, 38.46%, 56.67%)","green-500":"hsl(122, 39.44%, 49.22%)","green-600":"hsl(122, 40.97%, 44.51%)","green-700":"hsl(122, 43.43%, 38.82%)","green-800":"hsl(123, 46.2%, 33.53%)","green-900":"hsl(124, 55.37%, 23.73%)","green-a100":"hsl(136, 77.22%, 84.51%)","green-a200":"hsl(150, 81.82%, 67.65%)","green-a400":"hsl(150, 100.0%, 45.1%)","green-a700":"hsl(144, 100.0%, 39.22%)","light-green-50":"hsl(88, 51.72%, 94.31%)","light-green-100":"hsl(87, 50.68%, 85.69%)","light-green-200":"hsl(88, 50.0%, 76.47%)","light-green-300":"hsl(87, 50.0%, 67.06%)","light-green-400":"hsl(87, 50.24%, 59.8%)","light-green-500":"hsl(87, 50.21%, 52.75%)","light-green-600":"hsl(89, 46.12%, 48.04%)","light-green-700":"hsl(92, 47.91%, 42.16%)","light-green-800":"hsl(95, 49.46%, 36.47%)","light-green-900":"hsl(103, 55.56%, 26.47%)","light-green-a100":"hsl(87, 100.0%, 78.24%)","light-green-a200":"hsl(87, 100.0%, 67.45%)","light-green-a400":"hsl(92, 100.0%, 50.59%)","light-green-a700":"hsl(96, 81.15%, 47.84%)","lime-50":"hsl(65, 71.43%, 94.51%)","lime-100":"hsl(64, 69.01%, 86.08%)","lime-200":"hsl(65, 70.69%, 77.25%)","lime-300":"hsl(65, 70.37%, 68.24%)","lime-400":"hsl(65, 69.7%, 61.18%)","lime-500":"hsl(65, 69.96%, 54.31%)","lime-600":"hsl(63, 59.68%, 49.61%)","lime-700":"hsl(62, 61.43%, 43.73%)","lime-800":"hsl(59, 62.89%, 38.04%)","lime-900":"hsl(53, 69.93%, 30.0%)","lime-a100":"hsl(65, 100.0%, 75.29%)","lime-a200":"hsl(65, 100.0%, 62.75%)","lime-a400":"hsl(73, 100.0%, 50.0%)","lime-a700":"hsl(75, 100.0%, 45.88%)","yellow-50":"hsl(55, 100.0%, 95.29%)","yellow-100":"hsl(53, 100.0%, 88.43%)","yellow-200":"hsl(53, 100.0%, 80.78%)","yellow-300":"hsl(53, 100.0%, 73.14%)","yellow-400":"hsl(53, 100.0%, 67.25%)","yellow-500":"hsl(53, 100.0%, 61.57%)","yellow-600":"hsl(48, 98.04%, 60.0%)","yellow-700":"hsl(42, 96.26%, 58.04%)","yellow-800":"hsl(37, 94.64%, 56.08%)","yellow-900":"hsl(28, 91.74%, 52.55%)","yellow-a100":"hsl(60, 100.0%, 77.65%)","yellow-a200":"hsl(60, 100.0%, 50.0%)","yellow-a400":"hsl(55, 100.0%, 50.0%)","yellow-a700":"hsl(50, 100.0%, 50.0%)","amber-50":"hsl(46, 100.0%, 94.12%)","amber-100":"hsl(45, 100.0%, 85.1%)","amber-200":"hsl(45, 100.0%, 75.49%)","amber-300":"hsl(45, 100.0%, 65.49%)","amber-400":"hsl(45, 100.0%, 57.84%)","amber-500":"hsl(45, 100.0%, 51.37%)","amber-600":"hsl(42, 100.0%, 50.0%)","amber-700":"hsl(37, 100.0%, 50.0%)","amber-800":"hsl(33, 100.0%, 50.0%)","amber-900":"hsl(26, 100.0%, 50.0%)","amber-a100":"hsl(47, 100.0%, 74.9%)","amber-a200":"hsl(47, 100.0%, 62.55%)","amber-a400":"hsl(46, 100.0%, 50.0%)","amber-a700":"hsl(40, 100.0%, 50.0%)","orange-50":"hsl(36, 100.0%, 93.92%)","orange-100":"hsl(35, 100.0%, 84.9%)","orange-200":"hsl(35, 100.0%, 75.1%)","orange-300":"hsl(35, 100.0%, 65.1%)","orange-400":"hsl(35, 100.0%, 57.45%)","orange-500":"hsl(35, 100.0%, 50.0%)","orange-600":"hsl(33, 100.0%, 49.22%)","orange-700":"hsl(30, 100.0%, 48.04%)","orange-800":"hsl(27, 100.0%, 46.86%)","orange-900":"hsl(21, 100.0%, 45.1%)","orange-a100":"hsl(38, 100.0%, 75.1%)","orange-a200":"hsl(33, 100.0%, 62.55%)","orange-a400":"hsl(34, 100.0%, 50.0%)","orange-a700":"hsl(25, 100.0%, 50.0%)","deep-orange-50":"hsl(5, 71.43%, 94.51%)","deep-orange-100":"hsl(14, 100.0%, 86.86%)","deep-orange-200":"hsl(14, 100.0%, 78.43%)","deep-orange-300":"hsl(14, 100.0%, 69.8%)","deep-orange-400":"hsl(14, 100.0%, 63.14%)","deep-orange-500":"hsl(14, 100.0%, 56.67%)","deep-orange-600":"hsl(14, 90.68%, 53.73%)","deep-orange-700":"hsl(14, 80.39%, 50.0%)","deep-orange-800":"hsl(14, 82.28%, 46.47%)","deep-orange-900":"hsl(14, 88.18%, 39.8%)","deep-orange-a100":"hsl(14, 100.0%, 75.1%)","deep-orange-a200":"hsl(14, 100.0%, 62.55%)","deep-orange-a400":"hsl(14, 100.0%, 50.0%)","deep-orange-a700":"hsl(11, 100.0%, 43.33%)","brown-50":"hsl(19, 15.79%, 92.55%)","brown-100":"hsl(16, 15.79%, 81.37%)","brown-200":"hsl(14, 15.19%, 69.02%)","brown-300":"hsl(15, 15.32%, 56.47%)","brown-400":"hsl(15, 17.5%, 47.06%)","brown-500":"hsl(15, 25.39%, 37.84%)","brown-600":"hsl(15, 25.29%, 34.12%)","brown-700":"hsl(14, 25.68%, 29.02%)","brown-800":"hsl(11, 25.81%, 24.31%)","brown-900":"hsl(8, 27.84%, 19.02%)","gray-50":"hsl(0, 0.0%, 98.04%)","gray-100":"hsl(0, 0.0%, 96.08%)","gray-200":"hsl(0, 0.0%, 93.33%)","gray-300":"hsl(0, 0.0%, 87.84%)","gray-400":"hsl(0, 0.0%, 74.12%)","gray-500":"hsl(0, 0.0%, 61.96%)","gray-600":"hsl(0, 0.0%, 45.88%)","gray-700":"hsl(0, 0.0%, 38.04%)","gray-800":"hsl(0, 0.0%, 25.88%)","gray-900":"hsl(0, 0.0%, 12.94%)","blue-gray-50":"hsl(204, 15.15%, 93.53%)","blue-gray-100":"hsl(198, 15.66%, 83.73%)","blue-gray-200":"hsl(199, 15.33%, 73.14%)","blue-gray-300":"hsl(199, 15.63%, 62.35%)","blue-gray-400":"hsl(200, 15.38%, 54.12%)","blue-gray-500":"hsl(199, 18.3%, 46.08%)","blue-gray-600":"hsl(198, 18.45%, 40.39%)","blue-gray-700":"hsl(199, 18.34%, 33.14%)","blue-gray-800":"hsl(199, 17.91%, 26.27%)","blue-gray-900":"hsl(199, 19.15%, 18.43%)","blue-gray-1000":"hsl(199, 20.93%, 8.43%)"},_e={colors:q6,layout:br,time:D6};var Ot=(e=>(e[e.First=0]="First",e[e.Second=1]="Second",e[e.Both=2]="Both",e))(Ot||{}),Mn=(e=>(e[e.PairArray=0]="PairArray",e[e.PairString=1]="PairString",e))(Mn||{}),Qe=(e=>(e[e.SectorArc=0]="SectorArc",e[e.MidLine=1]="MidLine",e))(Qe||{});const A6=[[" ",19.3],["!",34.3],['"',39.7],["#",58],["$",58],["%",78.6],["&",70.3],["'",23],["(",30],[")",30],["*",40],["+",58],[",",21.2],["-",34.7],[".",21.2],["/",37.3],["0",58],["1",58],["2",58],["3",58],["4",58],["5",58],["6",58],["7",58],["8",58],["9",58],[":",25.2],[";",25.2],["<",58],["=",58],[">",58],["?",39.8],["@",82.2],["A",68],["B",64.7],["C",68.5],["D",75.3],["E",58.1],["F",56.6],["G",73.4],["H",75.6],["I",30.7],["J",44.4],["K",68.1],["L",51.4],["M",92],["N",75.6],["O",79.8],["P",61.1],["Q",79.8],["R",64.4],["S",53],["T",59],["U",73],["V",68],["W",101.9],["X",64.3],["Y",62.9],["Z",62.4],["[",30],["\\",37.5],["]",30],["^",58],["_",39.4],["`",30.7],["a",50.7],["b",55.9],["c",46.7],["d",55.9],["e",52.4],["f",33.7],["g",51.1],["h",55.6],["i",25.6],["j",25.4],["k",52.4],["l",25.6],["m",82.1],["n",55.6],["o",55.6],["p",55.2],["q",55.9],["r",40.3],["s",43.4],["t",37.3],["u",55.6],["v",51.2],["w",76.6],["x",50.4],["y",51.2],["z",46.2],["{",30],["|",30],["}",30],["~",58],["_median",55.9]],L6=[['"&',-9.1],['",',-11.4],['"-',-8.9],['".',-11.4],['"/',-9.1],['"@',-2.3],['"A',-9.1],['"C',-2.3],['"G',-2.3],['"O',-2.3],['"Q',-2.3],['"V',2.4],['"W',2.4],['"Y',1.5],['"\\',2.4],['"a',-3.2],['"c',-4.6],['"d',-4.6],['"e',-4.6],['"o',-4.6],['"q',-4.6],["'&",-9.1],["',",-11.4],["'-",-8.9],["'.",-11.4],["'/",-9.1],["'@",-2.3],["'A",-9.1],["'C",-2.3],["'G",-2.3],["'O",-2.3],["'Q",-2.3],["'V",2.4],["'W",2.4],["'Y",1.5],["'\\",2.4],["'a",-3.2],["'c",-4.6],["'d",-4.6],["'e",-4.6],["'o",-4.6],["'q",-4.6],["(@",-2],["(C",-2],["(G",-2],["(O",-2],["(Q",-2],["(c",-1.6],["(d",-1.6],["(e",-1.6],["(o",-1.6],["(q",-1.6],["*&",-9.1],["*,",-11.4],["*-",-8.9],["*.",-11.4],["*/",-9.1],["*@",-2.3],["*A",-9.1],["*C",-2.3],["*G",-2.3],["*O",-2.3],["*Q",-2.3],["*V",2.4],["*W",2.4],["*Y",1.5],["*\\",2.4],["*a",-3.2],["*c",-4.6],["*d",-4.6],["*e",-4.6],["*o",-4.6],["*q",-4.6],[',"',-11.4],[",'",-11.4],[",*",-11.4],[",-",-6.8],[",@",-2.8],[",C",-2.8],[",G",-2.8],[",O",-2.8],[",Q",-2.8],[",T",-9],[",V",-9],[",W",-6.1],[",Y",-7.6],[",\\",-9],[",v",-6.6],[",w",-3.1],[",y",-6.6],['-"',-8.9],["-&",-2.6],["-'",-8.9],["-*",-8.9],["-,",-6.8],["-.",-6.8],["-/",-2.6],["-A",-2.6],["-T",-9],["-V",-5.6],["-W",-1.6],["-X",-3.1],["-Y",-8],["-Z",-2.3],["-\\",-5.6],['."',-11.4],[".'",-11.4],[".*",-11.4],[".-",-6.8],[".@",-2.8],[".C",-2.8],[".G",-2.8],[".O",-2.8],[".Q",-2.8],[".T",-9],[".V",-9],[".W",-6.1],[".Y",-7.6],[".\\",-9],[".v",-6.6],[".w",-3.1],[".y",-6.6],['/"',2.4],["/&",-6.8],["/'",2.4],["/*",2.4],["/,",-9.6],["/-",-5.6],["/.",-9.6],["//",-6.8],["/:",-4.4],["/;",-4.4],["/?",2.4],["/@",-2.6],["/A",-6.8],["/C",-2.6],["/G",-2.6],["/J",-7.6],["/O",-2.6],["/Q",-2.6],["/a",-5.8],["/c",-5.8],["/d",-5.8],["/e",-5.8],["/f",-1.5],["/g",-6.8],["/m",-4.4],["/n",-4.4],["/o",-5.8],["/p",-4.4],["/q",-5.8],["/r",-4.4],["/s",-5.3],["/t",-2.1],["/u",-4.4],["/v",-2.4],["/x",-2.6],["/y",-2.4],["/z",-4.1],['@"',-2.3],["@&",-2.1],["@'",-2.3],["@)",-2],["@*",-2.3],["@,",-2.8],["@.",-2.8],["@/",-2.1],["@A",-2.1],["@T",-4.9],["@V",-2.6],["@X",-1.5],["@Y",-4],["@Z",-3.5],["@\\",-2.6],["@]",-2],["@}",-2],['A"',-9.1],["A'",-9.1],["A*",-9.1],["A-",-2.6],["A?",-2.8],["A@",-2.1],["AC",-2.1],["AG",-2.1],["AJ",2.5],["AO",-2.1],["AQ",-2.1],["AT",-6.6],["AU",-2.8],["AV",-6.8],["AW",-4.2],["AY",-8.2],["A\\",-6.8],["Av",-4.1],["Ay",-4.1],["C-",-7.5],['D"',-2.3],["D&",-2.1],["D'",-2.3],["D)",-2],["D*",-2.3],["D,",-2.8],["D.",-2.8],["D/",-2.1],["DA",-2.1],["DT",-4.9],["DV",-2.6],["DX",-1.5],["DY",-4],["DZ",-3.5],["D\\",-2.6],["D]",-2],["D}",-2],["F&",-6.6],["F,",-9],["F.",-9],["F/",-6.6],["F:",-3],["F;",-3],["F?",1.5],["FA",-6.6],["FJ",-9.9],["Fc",-3.5],["Fd",-3.5],["Fe",-3.5],["Fm",-3],["Fn",-3],["Fo",-3.5],["Fp",-3],["Fq",-3.5],["Fr",-3],["Fu",-3],["J&",-2.8],["J,",-2.5],["J.",-2.5],["J/",-2.8],["JA",-2.8],["K-",-3.1],["K@",-1.5],["KC",-1.5],["KG",-1.5],["KO",-1.5],["KQ",-1.5],["Kc",-1.8],["Kd",-1.8],["Ke",-1.8],["Kf",-2.6],["Ko",-1.8],["Kq",-1.8],["Kt",-4.1],["Kv",-3.3],["Kw",-2.8],["Ky",-3.3],['L"',-14.5],["L'",-14.5],["L*",-14.5],["L,",2.7],["L-",-9.9],["L.",2.7],["L?",-2.5],["L@",-4],["LC",-4],["LG",-4],["LO",-4],["LQ",-4],["LT",-8.6],["LV",-9.1],["LW",-7.6],["LY",-10.6],["L\\",-9.1],["Lc",-1.8],["Ld",-1.8],["Le",-1.8],["Lo",-1.8],["Lq",-1.8],["Lv",-5.4],["Lw",-4],["Ly",-5.4],['O"',-2.3],["O&",-2.1],["O'",-2.3],["O)",-2],["O*",-2.3],["O,",-2.8],["O.",-2.8],["O/",-2.1],["OA",-2.1],["OT",-4.9],["OV",-2.6],["OX",-1.5],["OY",-4],["OZ",-3.5],["O\\",-2.6],["O]",-2],["O}",-2],["P&",-6.9],["P,",-12.4],["P.",-12.4],["P/",-6.9],["PA",-6.9],["PJ",-9.1],["Pa",-2.5],["Pc",-1.5],["Pd",-1.5],["Pe",-1.5],["Po",-1.5],["Pq",-1.5],['Q"',-2.3],["Q&",-2.1],["Q'",-2.3],["Q)",-2],["Q*",-2.3],["Q,",-2.8],["Q.",-2.8],["Q/",-2.1],["QA",-2.1],["QT",-4.9],["QV",-2.6],["QX",-1.5],["QY",-4],["QZ",-3.5],["Q\\",-2.6],["Q]",-2],["Q}",-2],["R@",-2.3],["RC",-2.3],["RG",-2.3],["RO",-2.3],["RQ",-2.3],["RT",-2.6],["RU",-2.1],["T&",-6.6],["T,",-9],["T-",-9],["T.",-9],["T/",-6.6],["T:",-8],["T;",-8],["T@",-4.9],["TA",-6.6],["TC",-4.9],["TG",-4.9],["TJ",-10],["TO",-4.9],["TQ",-4.9],["Ta",-12.5],["Tc",-10.5],["Td",-10.5],["Te",-10.5],["Tg",-9.4],["Tm",-8],["Tn",-8],["To",-10.5],["Tp",-8],["Tq",-10.5],["Tr",-8],["Ts",-8.1],["Tu",-8],["Tv",-9],["Tw",-7],["Tx",-7.2],["Ty",-9],["Tz",-6],["U&",-2.8],["U,",-2.5],["U.",-2.5],["U/",-2.8],["UA",-2.8],['V"',2.4],["V&",-6.8],["V'",2.4],["V*",2.4],["V,",-9.6],["V-",-5.6],["V.",-9.6],["V/",-6.8],["V:",-4.4],["V;",-4.4],["V?",2.4],["V@",-2.6],["VA",-6.8],["VC",-2.6],["VG",-2.6],["VJ",-7.6],["VO",-2.6],["VQ",-2.6],["Va",-5.8],["Vc",-5.8],["Vd",-5.8],["Ve",-5.8],["Vf",-1.5],["Vg",-6.8],["Vm",-4.4],["Vn",-4.4],["Vo",-5.8],["Vp",-4.4],["Vq",-5.8],["Vr",-4.4],["Vs",-5.3],["Vt",-2.1],["Vu",-4.4],["Vv",-2.4],["Vx",-2.6],["Vy",-2.4],["Vz",-4.1],['W"',2.4],["W&",-4.7],["W'",2.4],["W*",2.4],["W,",-6.1],["W-",-1.6],["W.",-6.1],["W/",-4.7],["W?",1.7],["WA",-4.7],["WJ",-5.1],["Wa",-4.4],["Wc",-1.6],["Wd",-1.6],["We",-1.6],["Wg",-4.9],["Wo",-1.6],["Wq",-1.6],["Ws",-2.3],["X-",-3.1],["X@",-1.5],["XC",-1.5],["XG",-1.5],["XO",-1.5],["XQ",-1.5],["Xc",-1.8],["Xd",-1.8],["Xe",-1.8],["Xf",-2.6],["Xo",-1.8],["Xq",-1.8],["Xt",-4.1],["Xv",-3.3],["Xw",-2.8],["Xy",-3.3],['Y"',1.5],["Y&",-8.2],["Y'",1.5],["Y*",1.5],["Y,",-7.6],["Y-",-8],["Y.",-7.6],["Y/",-8.2],["Y:",-6.1],["Y;",-6.1],["Y?",1.7],["Y@",-4],["YA",-8.2],["YC",-4],["YG",-4],["YJ",-10],["YO",-4],["YQ",-4],["Ya",-6.4],["Yc",-8],["Yd",-8],["Ye",-8],["Yg",-8.6],["Ym",-6.1],["Yn",-6.1],["Yo",-8],["Yp",-6.1],["Yq",-8],["Yr",-6.1],["Ys",-6.4],["Yu",-6.1],["Yv",-5],["Yw",-4.6],["Yx",-6.6],["Yy",-5],["Z-",-3.5],["Z?",1.7],["Z@",-2.9],["ZC",-2.9],["ZG",-2.9],["ZO",-2.9],["ZQ",-2.9],["Zc",-1.9],["Zd",-1.9],["Ze",-1.9],["Zo",-1.9],["Zq",-1.9],["Zs",-1.4],["Zv",-2],["Zy",-2],["[@",-2],["[C",-2],["[G",-2],["[O",-2],["[Q",-2],["[c",-1.6],["[d",-1.6],["[e",-1.6],["[o",-1.6],["[q",-1.6],['\\"',-9.1],["\\'",-9.1],["\\*",-9.1],["\\-",-2.6],["\\?",-2.8],["\\@",-2.1],["\\C",-2.1],["\\G",-2.1],["\\J",2.5],["\\O",-2.1],["\\Q",-2.1],["\\T",-6.6],["\\U",-2.8],["\\V",-6.8],["\\W",-4.2],["\\Y",-8.2],["\\\\",-6.8],["\\v",-4.1],["\\y",-4.1],['a"',-3.6],["a'",-3.6],["a*",-3.6],["av",-1.6],["aw",-.8],["ay",-1.6],['b"',-4.6],["b'",-4.6],["b)",-1.6],["b*",-4.6],["bV",-5.8],["bW",-1.6],["b\\",-5.8],["b]",-1.6],["bv",-1.3],["bx",-3],["by",-1.3],["b}",-1.6],['e"',-4.6],["e'",-4.6],["e)",-1.6],["e*",-4.6],["eV",-5.8],["eW",-1.6],["e\\",-5.8],["e]",-1.6],["ev",-1.3],["ex",-3],["ey",-1.3],["e}",-1.6],['f"',3.4],["f'",3.4],["f*",3.4],["f,",-6.5],["f.",-6.5],["fi",-2.3],['h"',-3.6],["h'",-3.6],["h*",-3.6],["hv",-1.6],["hw",-.8],["hy",-1.6],["kc",-3],["kd",-3],["ke",-3],["ko",-3],["kq",-3],['m"',-3.6],["m'",-3.6],["m*",-3.6],["mv",-1.6],["mw",-.8],["my",-1.6],['n"',-3.6],["n'",-3.6],["n*",-3.6],["nv",-1.6],["nw",-.8],["ny",-1.6],['o"',-4.6],["o'",-4.6],["o)",-1.6],["o*",-4.6],["oV",-5.8],["oW",-1.6],["o\\",-5.8],["o]",-1.6],["ov",-1.3],["ox",-3],["oy",-1.3],["o}",-1.6],['p"',-4.6],["p'",-4.6],["p)",-1.6],["p*",-4.6],["pV",-5.8],["pW",-1.6],["p\\",-5.8],["p]",-1.6],["pv",-1.3],["px",-3],["py",-1.3],["p}",-1.6],["r,",-6.6],["r.",-6.6],["ra",-1.9],["v&",-4.1],["v,",-6.6],["v.",-6.6],["v/",-4.1],["vA",-4.1],["vc",-1.3],["vd",-1.3],["ve",-1.3],["vo",-1.3],["vq",-1.3],["w,",-3.1],["w.",-3.1],["xc",-3],["xd",-3],["xe",-3],["xo",-3],["xq",-3],["y&",-4.1],["y,",-6.6],["y.",-6.6],["y/",-4.1],["yA",-4.1],["yc",-1.3],["yd",-1.3],["ye",-1.3],["yo",-1.3],["yq",-1.3],["{@",-2],["{C",-2],["{G",-2],["{O",-2],["{Q",-2],["{c",-1.6],["{d",-1.6],["{e",-1.6],["{o",-1.6],["{q",-1.6]];var z6={textWidth:A6,kerningWidth:L6};const I6=(e,t,n=16)=>{const r=new Map(e.textWidth),i=new Map(e.kerningWidth),s=[...t];let o=0;for(const[a,l]of s.entries())o+=r.get(l)||r.get("_median"),a!==s.length-1&&(o+=i.get(`${l}${s[a+1]}`)||0);return o/(100/n)},Ye=(e,t=16)=>I6(z6,e,t),lr=Math.PI/2;function F6(e,t){switch(t){case Qe.SectorArc:{const n=[this.xScale(e.x0)-lr,this.xScale(e.x1)-lr],r=Math.max(0,(this.yScale(e.y0)+this.yScale(e.y1))/2),i=(n[0]+n[1])/2,s=i>0&&i<Math.PI;s&&n.reverse();const o=R.path();return o.arc(0,0,r,n[0],n[1],s),o.toString()}case Qe.MidLine:{const n=[this.xScale(e.x0)-lr,this.xScale(e.x1)-lr],r=(n[0]+n[1])/2,i=this.yScale(e.y0),s=this.yScale(e.y1),o=i*Math.cos(r),a=i*Math.sin(r),l=s*Math.cos(r),c=s*Math.sin(r),u=R.path();return r>=Math.PI/2&&r<=Math.PI*3/2?(u.moveTo(l,c),u.lineTo(o,a)):(u.moveTo(o,a),u.lineTo(l,c)),u.toString()}}}function j6(e,t=16,n=null,r=0){n==null&&(n=this.getFeatureInfo(e.data.f).nameValue);const i=Ye(n,t),s=this.xScale(e.x1)-this.xScale(e.x0),o=Math.max(0,(this.yScale(e.y0)+this.yScale(e.y1))/2),a=s*o;return i<=a-r}const ko=(e,t)=>{const n=R.color(e(t.data.f));let r="currentcolor";if(n!==null){const i=[252,252,252],s=[74,74,74],o=R.color(n).rgb(),a=[o.r,o.g,o.b];Hr(i,a)<Hr(s,a)&&(r="hsla(0, 0%, 99%, 1)")}return r};function P6(){const t=this.svg.select("g.mid-circle-group").selectAll("g.mid-circle");if(t.size()===0)return;const n=this.svg.select(`g.arc-${this.sunburstStoreValue.depthLow}`).datum(),i=(this.yScale(n.y1)-this.yScale(n.y0))/t.size(),s=Math.PI*1.2,o=t.append("text").attr("class","feature-name").style("fill",c=>ko(this.getFeatureColor,c)),a=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow),l=(c,u)=>{const f=this.getFeatureInfo(c.data.f);let h=f.nameValue,d=Ye(h,16*a);if(d>u)for(h=f.shortValue,d=Ye(h,16*a);d>u;)h=h.replace("...",""),h=h.slice(0,h.length-1),h=`${h}...`,d=Ye(h,16*a);return h};o.filter(c=>c.depth===1).style("font-size",`${a}rem`).text(c=>l(c,i*2-10)),o.filter(c=>c.depth!==1).style("font-size",`${a}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",c=>`#mid-circle-text-arc-${c.depth}`).text(c=>l(c,i*(c.depth-.5)*s))}function E6(){const e=this.svg.select("g.arc-group"),t=this.svg.select("g.text-group");let n=e.selectAll(`g.arc-${this.xScale.domain()[0]===0&&this.xScale.domain()[1]===1?this.sunburstStoreValue.depthLow:this.sunburstStoreValue.depthLow+1}`);n=n.sort((h,d)=>h.x0-d.x0),n=n.filter(h=>h.x0>=this.xScale.domain()[0]&&h.x1<=this.xScale.domain()[1]&&h.data.f!=="_");const r=t.selectAll("g.text-group").data(n.data()).join("g").attr("class","text-group");r.append("path").attr("class","text-arc").attr("id",(h,d)=>`text-arc-${d}`).attr("d",h=>this.textArc(h,Qe.SectorArc)),r.append("path").attr("class","text-line").attr("id",(h,d)=>`text-line-${d}`).attr("d",h=>this.textArc(h,Qe.MidLine));const i=r.append("text").attr("class","feature-name");i.style("fill",h=>ko(this.getFeatureColor,h));const s=new Set,o=new Map;if(i.size()===0)return;const a=this.yScale(i.datum().y1)-this.yScale(i.datum().y0)-15,l=18.5,c=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow),u=i.style("font-size",`${c}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",(h,d)=>{const v=this.getFeatureInfo(h.data.f);let g=v.nameValue,p=!1;return s.has(v.name)&&(g=v.value,p=!0),s.add(v.name),Ye(g,16*c)<a?(o.set(d,Qe.MidLine),`#text-line-${d}`):!p&&this.doesTextFitArc(h,16*c,g,10)?(o.set(d,Qe.SectorArc),`#text-arc-${d}`):(o.set(d,Qe.MidLine),`#text-line-${d}`)});s.clear(),u.text((h,d)=>{const v=this.getFeatureInfo(h.data.f);let g=v.nameValue,p=!1;if(s.has(v.name)&&(g=v.value,p=!0),o.get(d)===Qe.MidLine){if(this.yScale(h.y1)*(this.xScale(h.x1)-this.xScale(h.x0))<l)return"";let y=Ye(g,16*c);if(y>a&&!p)for(g=v.shortValue,y=Ye(g,16*c);y>a;)g=g.replace("...",""),g=g.slice(0,g.length-1),g=`${g}...`,y=Ye(g,16*c)}return s.add(v.name),g});const f=new Set;Array.from(this.featureMap.entries()).forEach(h=>{s.has(h[1][0])||f.add(h[0])}),this.drawSecondaryText(f)}function H6(e){const t=this.svg.select("g.arc-group"),n=this.svg.select("g.text-group");let r=t.selectAll(`g.arc-${this.xScale.domain()[0]===0&&this.xScale.domain()[1]===1?this.sunburstStoreValue.depthLow+1:this.sunburstStoreValue.depthLow+2}`);if(r=r.filter(f=>f.x0>=this.xScale.domain()[0]&&f.x1<=this.xScale.domain()[1]&&e.has(+f.data.f)),r.size()===0)return;r=r.sort((f,h)=>f.x0-h.x0);const i=n.selectAll("g.s-text-group").data(r.data()).join("g").attr("class","text-group");i.append("path").attr("class","text-arc").attr("id",(f,h)=>`s-text-arc-${h}`).attr("d",f=>this.textArc(f,Qe.SectorArc)),i.append("path").attr("class","text-line").attr("id",(f,h)=>`s-text-line-${h}`).attr("d",f=>this.textArc(f,Qe.MidLine));const s=i.append("text").attr("class","feature-name"),o=this.yScale(s.datum().y1)-this.yScale(s.datum().y0)-15,a=18.5,l=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow);s.style("fill",f=>ko(this.getFeatureColor,f));const c=s.style("font-size",`${l}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",(f,h)=>{const v=this.getFeatureInfo(f.data.f).nameValue;return Ye(v,16*l)<o?`#s-text-line-${h}`:this.doesTextFitArc(f,16*l,v,10)?`#s-text-arc-${h}`:`#s-text-line-${h}`}),u=new Set;c.text(f=>{if(u.has(f.data.f))return"";const h=this.getFeatureInfo(f.data.f);let d=h.nameValue;if(this.yScale(f.y1)*(this.xScale(f.x1)-this.xScale(f.x0))<a)return"";let g=Ye(d,16*l);if(g>o)for(d=h.shortValue,g=Ye(d,16*l);g>o;)d=d.replace("...",""),d=d.slice(0,d.length-1),d=`${d}...`,g=Ye(d,16*l);return u.add(f.data.f),d})}function N6(){this.svg.select(".text-group").selectAll("*").remove(),this.svg.selectAll("text.feature-name").remove()}let Vn=null,xr=null,Fc=new Date().getTime();function R6(e,t){if(e.stopPropagation(),e.preventDefault(),t!==null&&t.data.f==="_")return;let n={x0:0,x1:1,y0:0,y1:1},r=t;const i=this.xScale.domain(),s=this.yScale.domain(),o=this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow;if(t===null||t.x0==i[0]&&t.x1==i[1]){const c=this.arcDomainStack.pop();c!==void 0?(r=c.node,n=c,this.sunburstStoreValue.depthLow=r.depth===0?1:r.depth,this.sunburstStoreValue.depthHigh=Math.min(this.sunburstStoreValue.depthLow+c.depthGap,this.sunburstStoreValue.depthMax)):console.error("No more arc domain from the stack to pop!")}else{const c=1/(this.sunburstStoreValue.depthMax+1);this.sunburstStoreValue.depthLow=t.depth,this.sunburstStoreValue.depthHigh=Math.min(t.depth+o,this.sunburstStoreValue.depthMax),n={x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y0+c*(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow+1)};const u={x0:i[0],x1:i[1],y0:s[0],y1:s[1],node:this.curHeadNode,depthGap:o};this.arcDomainStack.push(u)}const a=new Array(this.sunburstStoreValue.depthMax).fill("");r.ancestors().forEach(c=>{if(c.depth>0){const u=this.getFeatureColor(c.data.f);a[c.depth-1]=u}}),this.sunburstStoreValue.depthColors=a,this.sunburstStore.set(this.sunburstStoreValue),this.curHeadNode=r,this.sunburstUpdated(),this.arcZoom(n)}function W6(e,t){if(e.currentTarget===null)return;t.ancestors().filter(r=>r.depth>0).forEach(r=>{const i=this.svg.select(`path#arc-${r.data.nid}`);R.select(i.node().parentElement).raise(),i.classed("highlighted",!0)})}function U6(e,t){if(e.currentTarget===null)return;t.ancestors().filter(r=>r.depth>0).forEach(r=>{this.svg.select(`path#arc-${r.data.nid}`).classed("highlighted",!1)})}function O6(e,t){e.preventDefault(),e.stopPropagation(),this.arcMouseenterHandler(e,t),xr!==null&&(window.clearTimeout(xr),xr=null);const n=()=>{if(t.data.t===void 0)return;const r=t.data.t;this.treeWindowStoreValue.treeID=+r;const i=t.ancestors().filter(o=>o.depth!==0).map(o=>o.data.f).reverse();this.treeWindowStoreValue.ancestorFs=i;const s=this.getTreeWindowPos(t);this.treeWindowStoreValue.x=s.x,this.treeWindowStoreValue.y=s.y,this.treeWindowStoreValue.show=!0,this.treeWindowStore.set(this.treeWindowStoreValue),Vn=null};this.treeWindowStoreValue.show||new Date().getTime()-Fc<500?n():Vn=window.setTimeout(n,_e.time.mouseenterDelay)}function B6(e,t){t.data.t!==void 0&&(e.preventDefault(),e.stopPropagation(),this.arcMouseleaveHandler(e,t),Vn!==null&&(window.clearTimeout(Vn),Vn=null),xr=window.setTimeout(()=>{this.treeWindowStoreValue.show=!1,this.treeWindowStore.set(this.treeWindowStoreValue),Fc=new Date().getTime()},100))}function Y6(e){let t=(this.xScale(e.x0)+this.xScale(e.x1))/2-Math.PI/2;const n=this.yScale(e.y1)+8,r={x:Math.cos(t)*n,y:Math.sin(t)*n,quad:Math.floor(t/(Math.PI/2))+2};e.x0===this.xScale.domain()[0]&&e.x1===this.xScale.domain()[1]&&(r.x=Math.cos(-Math.PI/4)*n,r.y=Math.sin(-Math.PI/4)*n,r.quad=1);const i=u=>{const f={x:0,y:0};switch(u.quad){case 1:{f.x=u.x,f.y=u.y-_e.layout.treeWindowHeight;break}case 2:{f.x=u.x,f.y=u.y;break}case 3:{f.x=u.x-_e.layout.treeWindowWidth,f.y=u.y;break}case 4:{f.x=u.x-_e.layout.treeWindowWidth,f.y=u.y-_e.layout.treeWindowHeight;break}default:console.warn("Unknown quad!")}return f};let s=window.innerHeight;R.select(".timbertrek-page").size()>0&&(s=R.select(".timbertrek-page").node().getBoundingClientRect().height);const o=5,a=this.svg.node().getBoundingClientRect(),l={x:a.x+a.width/2,y:a.y+a.height/2};let c=i(r);if(c.y+l.y<o){const f=-(l.y-_e.layout.treeWindowHeight-o);t=Math.asin(f/n),r.quad===4&&(t=Math.PI-t),r.x=Math.cos(t)*n,r.y=Math.sin(t)*n,r.quad=Math.floor(t/(Math.PI/2))+2,c=i(r)}if(c.y+l.y+_e.layout.treeWindowHeight>s-o){const u=s-o-l.y-_e.layout.treeWindowHeight;t=Math.asin(u/n),r.quad===3&&(t=Math.PI-t),r.x=Math.cos(t)*n,r.y=Math.sin(t)*n,r.quad=Math.floor(t/(Math.PI/2))+2,c=i(r)}return c.x=l.x+c.x,c.y=l.y+c.y,c}function G6(e,t){if(e.preventDefault(),e.stopPropagation(),localStorage.getItem("treeWindowPinnedOnce")!=="true"&&localStorage.setItem("treeWindowPinnedOnce","true"),t.data.t===void 0)return;const n=t.data.t,r=this.treeWindowStoreValue.treeMap.get(n);if(r===void 0)return;const i=this.getTreeWindowPos(t),s={x:i.x,y:i.y,width:_e.layout.treeWindowWidth,height:_e.layout.treeWindowHeight},o={x:20,y:20};if(this.pinnedTreeStoreValue.lastActiveTreeID!==null){const a=this.pinnedTreeStoreValue.pinnedTrees.filter(l=>l.treeID===this.pinnedTreeStoreValue.lastActiveTreeID)[0];o.x=a.x+20,o.y=a.y+30}if(this.pinnedTreeStoreValue.pinnedTrees.map(a=>a.treeID).includes(n)){let a=-1;for(let c=0;c<this.pinnedTreeStoreValue.pinnedTrees.length;c++)if(this.pinnedTreeStoreValue.pinnedTrees[c].treeID===n){a=c;break}if(a===-1){console.warn("Could not find the clicked tree in the pinnedTrees array!");return}const l=this.pinnedTreeStoreValue.pinnedTrees[a];l.isPinned?l.jiggle():(l.isPinned=!0,l.startPos=s,l.x=o.x,l.y=o.y),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}else{const a={tree:r[0],treeMetric:vi(r[2],4),treeID:n,x:o.x,y:o.y,startPos:s,isFav:!1,isPinned:!0,note:"",jiggle:()=>{}};this.pinnedTreeStoreValue.pinnedTrees.push(a),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}}function X6(){const t=this.treeWindowStoreValue.treeMap.get(322);if(t!==void 0){const n={x:70,y:150};if(this.pinnedTreeStoreValue.lastActiveTreeID!==null){const i=this.pinnedTreeStoreValue.pinnedTrees.filter(s=>s.treeID===this.pinnedTreeStoreValue.lastActiveTreeID)[0];n.x=i.x+20,n.y=i.y+30}const r={tree:t[0],treeMetric:vi(t[2],4),treeID:322,x:n.x,y:n.y,startPos:{x:0,y:0,width:0,height:0},isFav:!1,isPinned:!0,note:"",jiggle:()=>{}};this.pinnedTreeStoreValue.pinnedTrees.push(r),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}}let kt=null;function Z6(){this.treeMapMap.forEach((n,r)=>{n[2]>=this.localAccuracyLow&&n[2]<=this.localAccuracyHigh?this.selectedTrees.accuracy.add(r):this.selectedTrees.accuracy.delete(r)});const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=R.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var o;(o=s.uniqueTreeIDs)==null||o.forEach(a=>{i.add(a)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburst()}function Q6(){if(this.searchStoreValue.treeHeightMap===null)return;this.searchStoreValue.treeHeightMap.forEach((n,r)=>{this.localHeightRange.has(n)?this.selectedTrees.height.add(r):this.selectedTrees.height.delete(r)});const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=R.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var o;(o=s.uniqueTreeIDs)==null||o.forEach(a=>{i.add(a)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation()}function J6(){if(this.searchStoreValue.treeDepthFeaturesMap===null)return;for(const[n,r]of this.searchStoreValue.treeDepthFeaturesMap){let i=!0;e:for(const[s,o]of r)for(const a of o)if(!this.localDepthFeatures.get(s).has(a)){i=!1;break e}i?this.selectedTrees.depth.add(n):this.selectedTrees.depth.delete(n)}const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=R.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var o;(o=s.uniqueTreeIDs)==null||o.forEach(a=>{i.add(a)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation()}function K6(e=500){const t=this.svg.select(".content-group"),n=R.transition().duration(e).ease(R.easeLinear);this.removeText(),this.arcDomainStack.forEach(i=>{i.x0=i.node.x0,i.x1=i.node.x1}),this.xScale.domain([this.curHeadNode.x0,this.curHeadNode.x1]),t.select(".arc-group").selectAll("g.arc").data(this.partition.descendants().slice(1),i=>i.data.nid).select("path").transition(n).tween("data",i=>{const s={x0:i.x0,x1:i.x1,y0:i.y0,y1:i.y1,data:i.data},o=R.interpolate(i.previous,s);return a=>i.previous=o(a)}).style("display",i=>i.data.f===";"||i.depth>this.sunburstStoreValue.depthHigh+1?"none":(i.value!==void 0&&i.value===0,"initial")).attrTween("d",i=>()=>this.arc(i.previous)).on("end",(i,s,o)=>{const a=R.select(o[s]);let l="initial";i.data.f===";"||i.depth>this.sunburstStoreValue.depthHigh+1||i.value!==void 0&&i.value===0?l="none":l="initial",a.style("display",l)}),kt!==null&&(window.clearTimeout(kt),kt=null),kt=window.setTimeout(()=>{this.drawCenterText(),this.drawText()},700),this.sunburstUpdated()}function $6(){const e=this.svg.select(".content-group");this.removeText(),this.arcDomainStack.forEach(t=>{t.x0=t.node.x0,t.x1=t.node.x1}),this.xScale.domain([this.curHeadNode.x0,this.curHeadNode.x1]),e.select(".arc-group").selectAll("g.arc").data(this.partition.descendants().slice(1),t=>t.data.nid).select("path").attr("d",t=>this.arc(t)).style("display",t=>t.data.f===";"||t.depth>this.sunburstStoreValue.depthHigh+1||t.value!==void 0&&t.value===0?"none":"initial"),kt!==null&&(window.clearTimeout(kt),kt=null),kt=window.setTimeout(()=>{this.drawCenterText(),this.drawText()},500),this.sunburstUpdated()}const cr=800;var Rr,jc,Wr,Pc,Ur,Ec,Or,Hc,Br,Nc,Yr,Rc,Gr,Wc;class Na{constructor({component:t,data:n,sunburstStore:r,treeWindowStore:i,pinnedTreeStore:s,searchStore:o,sunburstUpdated:a,width:l=_e.layout.sunburstWidth,height:c=_e.layout.sunburstWidth}){ge(this,Rr);ge(this,Wr);ge(this,Ur);ge(this,Or);ge(this,Br);ge(this,Yr);ge(this,Gr);V(this,"svg");V(this,"sunburstStore");V(this,"sunburstStoreValue");V(this,"treeWindowStore");V(this,"treeWindowStoreValue");V(this,"pinnedTreeStore");V(this,"pinnedTreeStoreValue");V(this,"searchStore");V(this,"searchStoreValue");V(this,"sunburstUpdated");V(this,"padding");V(this,"width");V(this,"height");V(this,"maxRadius");V(this,"xScale");V(this,"yScale");V(this,"textFontScale");V(this,"data");V(this,"dataRoot");V(this,"treeMapMap");V(this,"partition");V(this,"featureCount");V(this,"featureValueCount");V(this,"featureOrder");V(this,"arc");V(this,"featureMap");V(this,"colorScale");V(this,"arcDomainStack");V(this,"curHeadNode");V(this,"localAccuracyLow");V(this,"localAccuracyHigh");V(this,"localHeightRange");V(this,"localDepthFeatures");V(this,"viewInitialized",!1);V(this,"selectedTrees");V(this,"textArc",F6);V(this,"doesTextFitArc",j6);V(this,"removeText",N6);V(this,"drawText",E6);V(this,"drawSecondaryText",H6);V(this,"drawCenterText",P6);V(this,"arcClicked",R6);V(this,"arcMouseenterHandler",W6);V(this,"arcMouseleaveHandler",U6);V(this,"leafArcClickHandler",G6);V(this,"leafArcMouseenterHandler",O6);V(this,"leafArcMouseleaveHandler",B6);V(this,"getTreeWindowPos",Y6);V(this,"tempShowPinnedTree",X6);V(this,"syncAccuracyRange",Z6);V(this,"updateSunburst",$6);V(this,"updateSunburstWithAnimation",K6);V(this,"syncHeightRange",Q6);V(this,"syncDepthFeatures",J6);V(this,"getFeatureColor",t=>this.colorScale(this.getFeatureNameValue(t,Ot.First,Mn.PairString)));console.log("Init sunburst"),console.log(n),this.svg=R.select(t).select("svg").attr("width",l).attr("height",c).attr("viewbox","0 0 650 650").attr("preserveAspectRatio","none"),this.padding={top:10,bottom:10,left:10,right:10},this.width=l-this.padding.left-this.padding.right,this.height=c-this.padding.top-this.padding.bottom,this.data=n.trie,this.treeMapMap=new Map,Object.keys(n.treeMap).forEach(u=>{this.treeMapMap.set(+u,n.treeMap[+u])}),this.featureMap=new Map;for(const[u,f]of Object.entries(n.featureMap))this.featureMap.set(parseInt(u),f);this.featureCount=new Map,this.featureValueCount=new Map,this.colorScale=R.scaleOrdinal(),this.featureOrder=[],this.dataRoot=R.hierarchy(this.data,u=>u.c).sum(u=>u.f==="_"?1:0),this.partition=ne(this,Rr,jc).call(this),this.curHeadNode=this.partition,this.sunburstStore=r,this.sunburstStoreValue=eo(),ne(this,Ur,Ec).call(this),this.treeWindowStore=i,this.treeWindowStoreValue=to(),ne(this,Or,Hc).call(this),this.pinnedTreeStore=s,this.pinnedTreeStoreValue=sn(),ne(this,Br,Nc).call(this),this.searchStore=o,this.searchStoreValue=rn(),this.localAccuracyLow=this.searchStoreValue.curAccuracyLow,this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]),this.localDepthFeatures=Gi(this.searchStoreValue.curDepthFeatures),this.selectedTrees={accuracy:new Set(this.treeMapMap.keys()),height:new Set(this.treeMapMap.keys()),depth:new Set(this.treeMapMap.keys())},ne(this,Yr,Rc).call(this),this.sunburstUpdated=a,this.maxRadius=this.width/2,this.xScale=R.scaleLinear().domain([0,1]).range([0,2*Math.PI]).clamp(!0),this.yScale=R.scaleLinear().domain([0,1]).range([0,this.maxRadius]),this.textFontScale=R.scaleLinear().domain([1,this.sunburstStoreValue.depthMax-1]).range([.93,.7]),this.arcDomainStack=[],this.arc=R.arc().startAngle(u=>this.xScale(u.x0)).endAngle(u=>{const f=u;let h=f.x1;return f.x0===f.x1&&(h=f.x0+1e-5),this.xScale(h)}).padAngle(u=>{const f=u,h=this.xScale(u.x1)-this.xScale(u.x0);return f.data.f==="_"?h<.001?0:Math.min(h/2,.015):0}).padRadius(this.radius*1.5).innerRadius(u=>Math.max(0,this.yScale(u.y0))).outerRadius(u=>Math.max(this.yScale(u.y0),this.yScale(u.y1)-1)),console.time("Draw sunburst"),this.initView(),this.viewInitialized=!0,console.timeEnd("Draw sunburst"),this.pinnedTreeStoreValue.pinnedTrees.length<1&&setTimeout(()=>{this.tempShowPinnedTree()},500)}get radius(){return this.width/(2*(this.sunburstStoreValue.depthMax-this.sunburstStoreValue.depthLow+1))}getFeatureInfo(t){const n={name:"",value:"",nameValue:"",short:"",shortValue:""},r=parseInt(t);if(!isNaN(r)){const i=this.featureMap.get(r);i!==void 0&&(n.name=i[0],n.value=i[1],n.short=i[2],n.nameValue=`${n.name} ${n.value}`,n.shortValue=`${n.short} ${n.value}`)}return n}getFeatureNameValue(t,n=Ot.First,r=Mn.PairArray){let i=-1;if(t.includes(" "))switch(n){case Ot.First:i=+t.replace(/(.*)\s.*/,"$1");break;case Ot.Second:i=+t.replace(/.*\s(.*)/,"$1");break;case Ot.Both:i=+t.replace(/(.*)\s.*/,"$1");break;default:console.error("Unknown cases")}else i=+t;switch(r){case Mn.PairArray:return isNaN(i)?["",""]:this.featureMap.get(i);case Mn.PairString:{if(isNaN(i))return"";const s=this.featureMap.get(i);return s!==void 0?`${s[0]}:${s[1]}`:(console.error(`Encounter unrecorded key ${i}`),"")}}}initView(){const t=this.svg.append("g").attr("class","content-group").attr("transform",`translate(${this.padding.left+this.width/2}, ${this.padding.top+this.height/2})`);t.append("g").attr("class","mid-circle-group");const n=t.append("g").attr("class","arc-group");t.append("g").attr("class","text-group");const r=n.selectAll("g.arc").data(this.partition.descendants().slice(1),o=>o.data.nid).join("g").attr("class",o=>`arc arc-${o.depth}`).classed("leaf",o=>o.data.f==="_");r.append("path").attr("class","arc").classed("leaf",o=>o.data.f==="_").attr("id",o=>`arc-${o.data.nid}`).attr("d",o=>this.arc(o)).on("click",(o,a)=>this.arcClicked(o,a)).on("mouseenter",(o,a)=>this.arcMouseenterHandler(o,a)).on("mouseleave",(o,a)=>this.arcMouseleaveHandler(o,a)).style("fill",o=>o.data.f==="_"?"null":this.getFeatureColor(o.data.f)).style("display",o=>o.data.f===";"||o.depth>this.sunburstStoreValue.depthHigh+1?"none":"initial").filter(o=>o.data.f==="_").on("click",(o,a)=>this.leafArcClickHandler(o,a)).on("mouseenter",(o,a)=>this.leafArcMouseenterHandler(o,a)).on("mouseleave",(o,a)=>this.leafArcMouseleaveHandler(o,a)),r.append("title").text(o=>this.getFeatureInfo(o.data.f).nameValue);const s=1/(this.sunburstStoreValue.depthMax+1);this.arcZoom({x0:this.xScale.domain()[0],x1:this.xScale.domain()[1],y0:0,y1:(this.sunburstStoreValue.depthHigh+1)*s},500)}arcZoom(t,n=cr){this.removeText(),ne(this,Gr,Wc).call(this,t),this.svg.select(".arc-group").transition().duration(n).ease(R.easeCubicInOut).tween("zoom",()=>{const i=R.interpolate(this.xScale.domain(),[t.x0,t.x1]),s=R.interpolate(this.yScale.domain(),[t.y0,t.y1]);return o=>{this.xScale.domain(i(o)),this.yScale.domain(s(o))}}).on("end",()=>{this.drawText(),this.drawCenterText()}).selectAll(".arc").attrTween("d",i=>()=>this.arc(i)).style("fill-opacity",i=>i.y0>=t.y1?.2:1).style("pointer-events",i=>i.y0>=t.y1?"none":"initial").style("display",i=>{const s=i;return s.data.f===";"||s.depth>this.sunburstStoreValue.depthHigh+1?"none":"initial"})}}Rr=new WeakSet,jc=function(){let t=0;this.dataRoot.eachBefore(r=>{r.data.f==="_"&&(r.data.u=!0),r.data.nid=t++}),this.dataRoot.children.forEach(r=>{const[i,s]=this.getFeatureNameValue(r.data.f);if(this.featureCount.has(i))this.featureCount.set(i,this.featureCount.get(i)+r.value),this.featureValueCount.get(i).has(s)?this.featureValueCount.get(i).set(s,this.featureValueCount.get(i).get(s)+r.value):this.featureValueCount.get(i).set(s,r.value);else{this.featureCount.set(i,r.value);const o=new Map;o.set(s,r.value),this.featureValueCount.set(i,o)}}),this.featureCount.set("",0),this.colorScale=ne(this,Wr,Pc).call(this),this.dataRoot=this.dataRoot.sort((r,i)=>{const s=this.getFeatureInfo(r.data.f).name,o=this.getFeatureInfo(i.data.f).name,a=this.featureCount.get(s),l=this.featureCount.get(o),c=R.lch(this.getFeatureColor(r.data.f)).l,u=R.lch(this.getFeatureColor(i.data.f)).l;return a!==void 0&&l!==void 0?l-a||c-u:(console.warn(`Encountered unrecorded keys ${s} ${o}`),0)}),this.featureOrder=this.dataRoot.children.map(r=>parseInt(r.data.f)),this.featureMap.forEach((r,i)=>{this.featureOrder.includes(i)||this.featureOrder.push(i)});const n=R.partition()(this.dataRoot);return n.eachAfter(r=>{var i;if(r.data.f==="_")r.uniqueTreeIDs=new Set([r.data.t]);else{const s=new Set;(i=r.children)==null||i.forEach(o=>{var a;(a=o.uniqueTreeIDs)==null||a.forEach(l=>{s.add(l)})}),r.uniqueTreeIDs=s}}),n.each(r=>{var i;r.treeNum=((i=r.uniqueTreeIDs)==null?void 0:i.size)||0,r.uniqueTreeIDs=null}),n},Wr=new WeakSet,Pc=function(){const t=[],n=[],s=[R.lch(49.184,30.07,260.445),R.lch(68.968,73.064,62.176),R.lch(56.278,61.87,27.615),R.lch(60.11,50.293,135.863),R.lch(82.442,65.798,87.008),R.lch(69.948,22.911,191.071),R.lch(57.703,28.677,334.556),R.lch(52.777,22.881,53.64),R.lch(75.303,39.883,16.269)];return Array.from(this.featureCount.keys()).filter(l=>l!=="").sort((l,c)=>this.featureCount.get(c)-this.featureCount.get(l)).forEach((l,c)=>{c>8&&console.error("Number of feature is greater than 9");const u=R.lch(R.color(s[c%8])),f=Array.from(this.featureValueCount.get(l).keys()).sort((d,v)=>this.featureValueCount.get(l).get(v)-this.featureValueCount.get(l).get(d)),h=f.length;if(u.l+h*20<=92)f.forEach((d,v)=>{const g=`${l}:${d}`,p=R.lch(u.l+v*20,u.c,u.h);t.push(g),n.push(p.formatHsl())});else{const d=(92-u.l)/h;f.forEach((v,g)=>{const p=`${l}:${v}`,m=R.lch(u.l+g*d,u.c,u.h);t.push(p),n.push(m.formatHsl())})}}),R.scaleOrdinal(n).domain(t)},Ur=new WeakSet,Ec=function(){this.sunburstStore.subscribe(t=>{switch(this.sunburstStoreValue=t,this.sunburstStoreValue.action){case Lt.DepthChanged:{this.sunburstStoreValue.action=Lt.None;const n=1/(this.sunburstStoreValue.depthMax+1),r=this.arcDomainStack.length>0?this.yScale.domain()[0]:0;this.arcZoom({x0:this.xScale.domain()[0],x1:this.xScale.domain()[1],y0:r,y1:(this.sunburstStoreValue.depthHigh+1)*n},500),this.sunburstStore.set(this.sunburstStoreValue);break}case Lt.None:break;default:console.error("Unknown case in sunburstStore action")}}),this.sunburstStoreValue.depthMax=this.partition.height,this.sunburstStoreValue.depthLow=1,this.sunburstStoreValue.depthHigh=this.sunburstStoreValue.depthMax-3,this.sunburstStoreValue.action=Lt.None,this.sunburstStoreValue.depthColors=new Array(this.sunburstStoreValue.depthMax).fill(""),this.sunburstStore.set(this.sunburstStoreValue)},Or=new WeakSet,Hc=function(){this.treeWindowStore.subscribe(t=>{this.treeWindowStoreValue=t}),this.treeWindowStoreValue.getFeatureColor=this.getFeatureColor,this.treeWindowStore.set(this.treeWindowStoreValue)},Br=new WeakSet,Nc=function(){this.pinnedTreeStore.subscribe(t=>{this.pinnedTreeStoreValue=t}),this.pinnedTreeStoreValue.getFeatureColor=this.getFeatureColor,this.pinnedTreeStoreValue.getFeatureInfo=t=>this.getFeatureInfo(t),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)},Yr=new WeakSet,Rc=function(){this.searchStore.subscribe(t=>{this.searchStoreValue=t,this.viewInitialized&&this.searchStoreValue.shown&&(this.searchStoreValue.curAccuracyHigh!==this.localAccuracyHigh||this.searchStoreValue.curAccuracyLow!==this.localAccuracyLow)?(this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localAccuracyLow=this.searchStoreValue.curAccuracyLow,this.syncAccuracyRange()):(this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localAccuracyLow=this.searchStoreValue.curAccuracyLow);const n=[...this.localHeightRange].every(i=>this.searchStoreValue.curHeightRange.has(i))&&this.localHeightRange.size===this.searchStoreValue.curHeightRange.size;this.viewInitialized&&this.searchStoreValue.shown&&!n?(this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]),this.syncHeightRange()):this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]);const r=[...this.searchStoreValue.curDepthFeatures.entries()].every(i=>this.localDepthFeatures.has(i[0])?M6(this.localDepthFeatures.get(i[0]),i[1]):!1);this.viewInitialized&&this.searchStoreValue.shown&&!r?(this.localDepthFeatures=Gi(this.searchStoreValue.curDepthFeatures),this.syncDepthFeatures()):this.localDepthFeatures=Gi(this.searchStoreValue.curDepthFeatures)}),this.searchStoreValue.getFeatureColor=this.getFeatureColor,this.searchStoreValue.featureMap=this.featureMap,this.searchStoreValue.featureOrder=this.featureOrder;for(let t=1;t<this.partition.height;t++){const n=new Set([...this.featureMap.keys()].map(r=>r));this.searchStoreValue.curDepthFeatures.set(t,n)}this.searchStore.set(this.searchStoreValue)},Gr=new WeakSet,Wc=function(t){let n=!1;this.arcDomainStack.length>0&&(n=this.curHeadNode.depth-this.arcDomainStack[this.arcDomainStack.length-1].node.depth!==1);const r=this.svg.select("g.content-group").selectAll("g.mid-circle-group").data([0]).join("g").attr("class","mid-circle-group").raise(),i=this.curHeadNode.ancestors().filter(u=>u.depth!==0),s=R.scaleLinear().domain([t.y0,t.y1]).range([0,this.maxRadius]),o=s(this.curHeadNode.y1)-s(this.curHeadNode.y0),a=i.map(u=>u.depth),l=R.scaleLinear().domain([R.min(a)-1,R.max(a)]).range([0,o]),c=l(1);r.selectAll("g.mid-circle").data(i,u=>u.value).join(u=>{const f=u.append("g").attr("class","mid-circle").on("click",h=>this.arcClicked(h,null));return f.append("circle").attr("r",0).style("fill",h=>this.getFeatureColor(h.data.f)).call(h=>h.transition().duration(0).delay(n?cr-100:cr+100).attr("r",d=>l(d.depth))),f.append("path").attr("class","mid-circle-text-arc").attr("id",h=>`mid-circle-text-arc-${h.depth}`).attr("d",h=>{const d=[Math.PI*.5,Math.PI*2.5],v=c*(h.depth-.5),g=R.path();return g.arc(0,0,v,d[0],d[1],!1),g.toString()}),f.append("title").text(h=>this.getFeatureInfo(h.data.f).nameValue),f},u=>{const f=u;return f.select("circle").transition("zoom").duration(cr).ease(R.easeCubicInOut).attr("r",h=>l(h.depth)),f.select("path").attr("d",h=>{const d=[Math.PI*.5,Math.PI*2.5],v=c*(h.depth-.5),g=R.path();return g.arc(0,0,v,d[0],d[1],!1),g.toString()}),f})};const Gi=e=>{const t=new Map;return e.forEach((n,r)=>{t.set(r,new Set([...n]))}),t},xn="src/components/sunburst/Sunburst.svelte";function em(e){dt(e,"svelte-1i7twhg",`@use 'sass:math';.sunburst.svelte-1i7twhg{width:100%;height:100%;border-bottom-left-radius:5px;border-bottom-right-radius:5px;display:flex;justify-content:center;align-items:center}.sunburst.svelte-1i7twhg .arc.highlighted{stroke:#fcfcfc;stroke-width:2px}.sunburst.svelte-1i7twhg .arc.leaf{fill:#e0e0e0}.sunburst.svelte-1i7twhg .text-arc{visibility:hidden;stroke:#c62828;fill:none}.sunburst.svelte-1i7twhg .text-line{visibility:hidden;stroke:#00695b;fill:none}.sunburst.svelte-1i7twhg text.feature-name{text-anchor:middle;font-family:'Lato';line-height:1;color:#212121;user-select:none;-webkit-user-select:none;cursor:default;pointer-events:none;animation-name:svelte-1i7twhg-fade-in;animation-duration:200ms;animation-timing-function:cubic-bezier(0.645, 0.045, 0.355, 1)}.sunburst.svelte-1i7twhg text.feature-name textPath{dominant-baseline:middle}.sunburst.svelte-1i7twhg g.mid-circle-group circle{transition:transform 300ms ease-in-out;stroke:#fcfcfc;stroke-width:1px}.sunburst.svelte-1i7twhg g.mid-circle-group path.mid-circle-text-arc{fill:none}@keyframes svelte-1i7twhg-fade-in{from{opacity:0}to{opacity:1}}.stat-overlay.svelte-1i7twhg{display:flex;flex-direction:row;align-items:flex-start;gap:6px;position:absolute;left:0px;bottom:0px;user-select:none;-webkit-user-select:none;text-align:start;font-size:0.85rem;line-height:1;padding:4px 6px 5px 6px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top-right-radius:5px;background-color:rgba(238, 238, 238, 0.5);color:#616161}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3VuYnVyc3Quc3ZlbHRlIiwibWFwcGluZ3MiOiJBQXdFa0IsS0FBQSxXQUFBLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiU3VuYnVyc3Quc3ZlbHRlIl19 */`)}function Ms(e){var p,m;let t,n,r,i,s,o=(((p=e[1])==null?void 0:p.curHeadNode.value)|0)+"",a,l,c,u,f=(((m=e[1])==null?void 0:m.curHeadNode.treeNum)|0)+"",h,d,v;const g={c:function(){var w,_;t=A("div"),n=$t("svg"),r=Z(),i=A("div"),s=A("span"),a=me(o),l=me(" paths"),c=Z(),u=A("span"),h=me(f),d=me(" trees"),S(n,"class","sunburst-svg"),D(n,xn,132,2,2989),S(s,"class","rule-stat"),D(s,xn,139,4,3230),S(u,"class","tree-stat"),D(u,xn,140,4,3305),S(i,"class","stat-overlay svelte-1i7twhg"),S(i,"title",v=`There are ${(w=e[1])==null?void 0:w.curHeadNode.value} decision paths `.concat(`and ${(_=e[1])==null?void 0:_.curHeadNode.treeNum} decisions trees in the current selection.`)),D(i,xn,133,2,3020),S(t,"class","sunburst svelte-1i7twhg"),D(t,xn,131,0,2942)},l:function(w){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(w,_){pe(w,t,_),b(t,n),b(t,r),b(t,i),b(i,s),b(s,a),b(s,l),b(i,c),b(i,u),b(u,h),b(u,d),e[8](t)},p:function(w,[_]){var k,C,z,P;_&2&&o!==(o=(((k=w[1])==null?void 0:k.curHeadNode.value)|0)+"")&&Re(a,o),_&2&&f!==(f=(((C=w[1])==null?void 0:C.curHeadNode.treeNum)|0)+"")&&Re(h,f),_&2&&v!==(v=`There are ${(z=w[1])==null?void 0:z.curHeadNode.value} decision paths `.concat(`and ${(P=w[1])==null?void 0:P.curHeadNode.treeNum} decisions trees in the current selection.`))&&S(i,"title",v)},i:ce,o:ce,d:function(w){w&&ue(t),e[8](null)}};return te("SvelteRegisterBlock",{block:g,id:Ms.name,type:"component",source:"",ctx:e}),g}function tm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("Sunburst",r,[]);let{data:s=null}=t,{sunburstStore:o=null}=t,{treeWindowStore:a=null}=t,{pinnedTreeStore:l=null}=t,{searchStore:c=null}=t,u=null,f=!1;const h=_e.layout.sunburstWidth,d=_e.layout.sunburstWidth;let v=null;const g=()=>{n(1,v)};Te(()=>{n(7,f=!0)});const p=()=>{u&&s&&o&&a&&c&&l&&n(1,v=new Na({component:u,data:s,sunburstStore:o,treeWindowStore:a,pinnedTreeStore:l,searchStore:c,sunburstUpdated:g,width:h,height:d}))},m=["data","sunburstStore","treeWindowStore","pinnedTreeStore","searchStore"];Object.keys(t).forEach(w=>{!~m.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<Sunburst> was created with unknown prop '${w}'`)});function y(w){Ne[w?"unshift":"push"](()=>{u=w,n(0,u)})}return e.$$set=w=>{"data"in w&&n(2,s=w.data),"sunburstStore"in w&&n(3,o=w.sunburstStore),"treeWindowStore"in w&&n(4,a=w.treeWindowStore),"pinnedTreeStore"in w&&n(5,l=w.pinnedTreeStore),"searchStore"in w&&n(6,c=w.searchStore)},e.$capture_state=()=>({Sunburst:Na,onMount:Te,config:_e,data:s,sunburstStore:o,treeWindowStore:a,pinnedTreeStore:l,searchStore:c,component:u,mounted:f,width:h,height:d,sunburst:v,sunburstUpdated:g,initView:p}),e.$inject_state=w=>{"data"in w&&n(2,s=w.data),"sunburstStore"in w&&n(3,o=w.sunburstStore),"treeWindowStore"in w&&n(4,a=w.treeWindowStore),"pinnedTreeStore"in w&&n(5,l=w.pinnedTreeStore),"searchStore"in w&&n(6,c=w.searchStore),"component"in w&&n(0,u=w.component),"mounted"in w&&n(7,f=w.mounted),"sunburst"in w&&n(1,v=w.sunburst)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&253&&s&&o&&a&&l&&c&&f&&u&&p()},[u,v,s,o,a,l,c,f,y]}class Uc extends nt{constructor(t){super(t);et(this,t,tm,Ms,Ge,{data:2,sunburstStore:3,treeWindowStore:4,pinnedTreeStore:5,searchStore:6},em),te("SvelteRegisterComponent",{component:this,tagName:"Sunburst_1",options:t,id:Ms.name})}get data(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sunburstStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sunburstStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get treeWindowStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set treeWindowStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get searchStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set searchStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Xr,Oc,Zr,Bc,Qr,Yc;class Ra{constructor({component:t,treeMapMap:n,featureMap:r,treeWindowStore:i,treeWindowUpdated:s,width:o=150,height:a=150}){ge(this,Xr);ge(this,Zr);ge(this,Qr);V(this,"treeMap");V(this,"curTreeID");V(this,"curAncestorFs");V(this,"treeWindowStore");V(this,"treeWindowStoreValue");V(this,"treeWindowUpdated");V(this,"svg");V(this,"padding");V(this,"width");V(this,"height");V(this,"getStyle",()=>`left: ${this.treeWindowStoreValue.x}px;
      top: ${this.treeWindowStoreValue.y}px;`);V(this,"shouldHidePinLabel",()=>localStorage.getItem("treeWindowPinnedOnce")===null?(localStorage.setItem("treeWindowPinnedOnce","false"),!1):localStorage.getItem("treeWindowPinnedOnce")==="true");this.treeMap=n,this.curTreeID=0,this.curAncestorFs=[],this.treeWindowUpdated=s,this.treeWindowStore=i,this.treeWindowStoreValue=to(),ne(this,Xr,Oc).call(this,r),this.svg=R.select(t).select("svg.tree-svg").attr("width",o).attr("height",a).attr("viewbox",`0 0 ${o} ${a}`).attr("preserveAspectRatio","none"),this.padding={top:20,bottom:20,left:0,right:0},this.width=o-this.padding.left-this.padding.right,this.height=a-this.padding.top-this.padding.bottom}get tree(){const t=this.treeMap.get(this.curTreeID);return t!==void 0?t[0]:(console.warn(`No such tree on the record ${this.curTreeID}`),null)}get treeMetric(){const t=this.treeMap.get(this.curTreeID);return t!==void 0?vi(t[2],4):null}}Xr=new WeakSet,Oc=function(t){this.treeWindowStore.subscribe(n=>{this.treeWindowStoreValue=n,this.svg!==void 0&&(this.treeWindowStoreValue.treeID!==this.curTreeID||this.treeWindowStoreValue.ancestorFs.length!==this.curAncestorFs.length||!this.treeWindowStoreValue.ancestorFs.every((r,i)=>r===this.curAncestorFs[i]))&&this.treeMap.get(this.treeWindowStoreValue.treeID)&&(this.curTreeID=this.treeWindowStoreValue.treeID,this.curAncestorFs=[...this.treeWindowStoreValue.ancestorFs],ne(this,Zr,Bc).call(this)),this.treeWindowUpdated()}),this.treeWindowStoreValue.featureMap=t,this.treeWindowStoreValue.treeMap=this.treeMap,this.treeWindowStore.set(this.treeWindowStoreValue)},Zr=new WeakSet,Bc=function(){this.svg.selectAll("g.content").remove(),ne(this,Qr,Yc).call(this)},Qr=new WeakSet,Yc=function(){if(this.tree===null){console.warn("Trying to draw a tree that does not exist");return}const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=R.hierarchy(this.tree,g=>g.c),r=7,i=r*1,s=R.tree().size([this.width,this.height])(n),o=t.append("g").attr("class","link-group");o.selectAll("path.link").data(s.links()).join("path").attr("class",g=>`link link-${g.source.data.f[0]}`).attr("id",g=>{const p=g.source.ancestors().length>1?g.source.ancestors()[1].data.f[0]:"r",m=g.source.data.f[0],y=g.target.data.f[0];return g.target.data.f[0]==="+"?`link-${p}-${m}-p`:g.target.data.f[0]==="-"?`link-${p}-${m}-n`:`link-${p}-${m}-${y}`}).attr("d",g=>R.line()([[g.source.x,g.source.y],[g.target.x,g.target.y]]));const l=t.append("g").attr("class","node-group").selectAll("g").data(s.descendants()).join("g").attr("class","node").attr("transform",g=>`translate(${g.x}, ${g.y})`),c=new Set(["-","+"]);l.filter(g=>!c.has(g.data.f[0])).append("circle").attr("r",r).style("fill",g=>this.treeWindowStoreValue.getFeatureColor?this.treeWindowStoreValue.getFeatureColor(g.data.f[0]):_e.colors["gray-500"]),l.filter(g=>c.has(g.data.f[0])).append("rect").attr("x",-i).attr("y",-i).attr("rx",2).attr("ry",2).attr("width",2*i).attr("height",2*i),l.filter(g=>c.has(g.data.f[0])).append("text").attr("dy",.5).text(g=>g.data.f[0]);for(let g=0;g<this.curAncestorFs.length-1;g++){const p=g===0?"r":this.curAncestorFs[g-1],m=this.curAncestorFs[g],y=this.curAncestorFs[g+1];this.curAncestorFs[g+1]==="_"?(o.selectAll(`#link-${p}-${m}-p`).classed("highlighted",!0),o.selectAll(`#link-${p}-${m}-n`).classed("highlighted",!0)):o.selectAll(`#link-${p}-${m}-${y}`).classed("highlighted",!0)}const u=o.selectAll(`.link-${this.curAncestorFs[0]}`).data(),f=5,h=-1,d=[{x:(u[0].source.x+u[0].target.x)/2-f,y:(u[0].source.y+u[0].target.y)/2+h},{x:(u[1].source.x+u[1].target.x)/2+f,y:(u[1].source.y+u[1].target.y)/2+h}];t.append("g").attr("class","label-group").selectAll("text.split-label").data(d).join("text").attr("class","split-label").classed("split-label-left",(g,p)=>p===0).attr("x",g=>g.x).attr("y",g=>g.y).text((g,p)=>p===0?"true":"false")};var Gc='<svg viewBox="0 0 48 63" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M45.606-7.813c-.033.782.309 1.278 1.025 1.49.716.211 1.351.073 1.904-.415l5.713-5.762 6.348 15.771c.162.391.431.668.805.831.375.162.741.179 1.099.048l4.102-1.709c.39-.162.642-.431.756-.805.114-.375.074-.757-.122-1.148l-6.738-15.527 8.008-.488c.781-.033 1.318-.35 1.611-.953.293-.602.163-1.212-.39-1.831L48.828-39.356c-.553-.553-1.131-.707-1.733-.463-.602.244-.904.74-.904 1.489l-.585 30.517Z" style="fill-rule:nonzero" transform="translate(-18.934 59.052) scale(.91051)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.43013 0 0 1.46942 -3373.023 -6348.854)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.01125 -1.01125 1.03904 1.03904 -6884.807 -2079.508)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(0 -1.43013 1.46942 0 -6348.578 3420.756)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(-1.01125 -1.01125 1.03904 -1.03904 -2079.243 6931.533)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.01125 1.01125 -1.03904 1.03904 2129.287 -6885.076)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(0 1.43013 -1.46942 0 6396.933 -3375.343)"/></svg>';const{Object:nm}=$s,st="src/components/tree-window/TreeWindow.svelte";function rm(e){dt(e,"svelte-1pe4zbq",`@use 'sass:math';.tree-window.svelte-1pe4zbq.svelte-1pe4zbq{position:absolute;z-index:2;background-color:#fcfcfc;border-radius:5px;box-shadow:0px 0px 5px rgba(0, 0, 0, 0.1), 0px 0px 4px rgba(0, 0, 0, 0.07), 0px 0px 10px rgba(0, 0, 0, 0.07);display:none;flex-direction:column;align-items:center}.tree-window.show.svelte-1pe4zbq.svelte-1pe4zbq{display:flex}.tree-header.svelte-1pe4zbq.svelte-1pe4zbq{width:100%;padding:2px 10px;height:26px;font-size:0.9rem;text-align:center;border-top-left-radius:5px;border-top-right-radius:5px;color:#616161;background-color:#eeeeee;display:flex;position:relative;flex-direction:row;justify-content:center;align-items:baseline;gap:3px}.tree-header.svelte-1pe4zbq .tree-name.svelte-1pe4zbq{font-weight:600}.content.svelte-1pe4zbq.svelte-1pe4zbq{display:flex;position:relative}.label-container.svelte-1pe4zbq.svelte-1pe4zbq{position:absolute;overflow:hidden;top:0px;right:0px;width:60px;height:60px;z-index:1}.label-container.no-display.svelte-1pe4zbq.svelte-1pe4zbq{display:none}.label.svelte-1pe4zbq.svelte-1pe4zbq{position:absolute;top:4px;right:0px;padding:1px 5px 1px 3px;border-top-left-radius:5px;border-bottom-left-radius:5px;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:2px;text-align:center;font-size:0.9rem;line-height:1;color:#394aab;background-color:rgba(197, 202, 233, 0.3)}.label.svelte-1pe4zbq .svg-icon.svelte-1pe4zbq{display:flex;justify-content:center;align-items:center;fill:#394aab}.label.svelte-1pe4zbq .svg-icon.svelte-1pe4zbq svg{width:1rem;height:1rem}.tree-svg.svelte-1pe4zbq.svelte-1pe4zbq{stroke-linecap:round;stroke-linejoin:round}.tree-svg.svelte-1pe4zbq path.link{fill:none;stroke:#616161;stroke-width:1px}.tree-svg.svelte-1pe4zbq path.link.highlighted{stroke-width:2px;stroke:#757575;stroke-dasharray:2px 5px;animation:svelte-1pe4zbq-dash 60s infinite linear}.tree-svg.svelte-1pe4zbq .node rect{fill:#fcfcfc;stroke:#616161;stroke-width:1px}.tree-svg.svelte-1pe4zbq .node text{fill:#616161;dominant-baseline:middle;text-anchor:middle}.tree-svg.svelte-1pe4zbq text.split-label{text-anchor:start;dominant-baseline:auto;fill:#616161;font-weight:300;font-size:0.8rem}.tree-svg.svelte-1pe4zbq text.split-label.split-label-left{text-anchor:end}@keyframes svelte-1pe4zbq-dash{to{stroke-dashoffset:-1000}}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJlZVdpbmRvdy5zdmVsdGUiLCJtYXBwaW5ncyI6IkFBdURrQixLQUFBLFdBQUEsQ0FBQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJUcmVlV2luZG93LnN2ZWx0ZSJdfQ== */`)}function Cs(e){var P,E;let t,n,r,i,s=((P=e[1])==null?void 0:P.treeWindowStoreValue.treeID)+"",o,a,l,c,u=((E=e[1])==null?void 0:E.treeMetric)+"",f,h,d,v,g,p,m,y,w,_,k,C;const z={c:function(){var q,j,M;t=A("div"),n=A("div"),r=A("span"),i=me("Tree "),o=me(s),a=Z(),l=A("span"),c=me("("),f=me(u),h=me(")"),d=Z(),v=A("div"),g=A("div"),p=A("div"),m=A("div"),y=Z(),w=A("span"),w.textContent="pin",_=Z(),k=$t("svg"),S(r,"class","tree-name svelte-1pe4zbq"),D(r,st,156,4,3651),S(l,"class","tree-acc"),D(l,st,160,4,3746),S(n,"class","tree-header svelte-1pe4zbq"),D(n,st,155,2,3621),S(m,"class","svg-icon svelte-1pe4zbq"),D(m,st,169,8,3976),D(w,st,172,8,4050),S(p,"class","label svelte-1pe4zbq"),D(p,st,168,6,3948),S(g,"class","label-container svelte-1pe4zbq"),ve(g,"no-display",(q=e[1])==null?void 0:q.shouldHidePinLabel()),D(g,st,164,4,3843),S(k,"class","tree-svg svelte-1pe4zbq"),D(k,st,176,4,4096),S(v,"class","content svelte-1pe4zbq"),D(v,st,163,2,3817),S(t,"class","tree-window svelte-1pe4zbq"),S(t,"style",C=(j=e[1])==null?void 0:j.getStyle()),ve(t,"show",(M=e[1])==null?void 0:M.treeWindowStoreValue.show),D(t,st,149,0,3480)},l:function(q){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(q,j){pe(q,t,j),b(t,n),b(n,r),b(r,i),b(r,o),b(n,a),b(n,l),b(l,c),b(l,f),b(l,h),b(t,d),b(t,v),b(v,g),b(g,p),b(p,m),m.innerHTML=Gc,b(p,y),b(p,w),b(v,_),b(v,k),e[6](t)},p:function(q,[j]){var M,x,I,T,F;j&2&&s!==(s=((M=q[1])==null?void 0:M.treeWindowStoreValue.treeID)+"")&&Re(o,s),j&2&&u!==(u=((x=q[1])==null?void 0:x.treeMetric)+"")&&Re(f,u),j&2&&ve(g,"no-display",(I=q[1])==null?void 0:I.shouldHidePinLabel()),j&2&&C!==(C=(T=q[1])==null?void 0:T.getStyle())&&S(t,"style",C),j&2&&ve(t,"show",(F=q[1])==null?void 0:F.treeWindowStoreValue.show)},i:ce,o:ce,d:function(q){q&&ue(t),e[6](null)}};return te("SvelteRegisterBlock",{block:z,id:Cs.name,type:"component",source:"",ctx:e}),z}function im(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("TreeWindow",r,[]);let{data:s=null}=t,{featureMap:o=null}=t,{treeWindowStore:a=null}=t,l=null,c=!1,u=null;Te(()=>{n(5,c=!0)});const f=()=>{n(1,u)},h=()=>{if(l&&s&&o&&a){const g=s.treeMap,p=new Map;Object.keys(g).forEach(m=>{p.set(+m,g[+m])}),n(1,u=new Ra({component:l,treeMapMap:p,featureMap:o,treeWindowStore:a,treeWindowUpdated:f}))}},d=["data","featureMap","treeWindowStore"];nm.keys(t).forEach(g=>{!~d.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<TreeWindow> was created with unknown prop '${g}'`)});function v(g){Ne[g?"unshift":"push"](()=>{l=g,n(0,l)})}return e.$$set=g=>{"data"in g&&n(2,s=g.data),"featureMap"in g&&n(3,o=g.featureMap),"treeWindowStore"in g&&n(4,a=g.treeWindowStore)},e.$capture_state=()=>({onMount:Te,TreeWindow:Ra,iconClick:Gc,data:s,featureMap:o,treeWindowStore:a,component:l,mounted:c,treeWindow:u,treeWindowUpdated:f,initView:h}),e.$inject_state=g=>{"data"in g&&n(2,s=g.data),"featureMap"in g&&n(3,o=g.featureMap),"treeWindowStore"in g&&n(4,a=g.treeWindowStore),"component"in g&&n(0,l=g.component),"mounted"in g&&n(5,c=g.mounted),"treeWindow"in g&&n(1,u=g.treeWindow)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&61&&s&&o&&a&&c&&l&&h()},[l,u,s,o,a,c,v]}class Xc extends nt{constructor(t){super(t);et(this,t,im,Cs,Ge,{data:2,featureMap:3,treeWindowStore:4},rm),te("SvelteRegisterComponent",{component:this,tagName:"TreeWindow_1",options:t,id:Cs.name})}get data(){throw new Error("<TreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<TreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get featureMap(){throw new Error("<TreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set featureMap(t){throw new Error("<TreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get treeWindowStore(){throw new Error("<TreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set treeWindowStore(t){throw new Error("<TreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var vt,At,Jr,Zc,Ys,sm,Kr,Qc,$r,Jc;class Wa{constructor({component:t,pinnedTree:n,pinnedTreeStore:r,favoritesStore:i,pinnedTreeWindowUpdated:s,width:o=200,height:a=200}){ge(this,vt);ge(this,Jr);ge(this,Ys);ge(this,Kr);ge(this,$r);V(this,"pinnedTree");V(this,"pinnedTreeWindowUpdated");V(this,"svg");V(this,"padding");V(this,"width");V(this,"height");V(this,"pinnedTreeStore");V(this,"pinnedTreeStoreValue");V(this,"pinnedTreeStoreUnsubscriber");V(this,"favoritesStore");V(this,"favoritesStoreValue");V(this,"favoritesStoreUnsubscriber");V(this,"sankey",!1);V(this,"hidden",!0);V(this,"endPos");V(this,"node");V(this,"playLaunchingAnimation",()=>{const t=this.pinnedTree.startPos.width/this.endPos.width,n=this.pinnedTree.startPos.height/this.endPos.height,r=this.pinnedTree.startPos.x-this.endPos.x,i=this.pinnedTree.startPos.y-this.endPos.y;this.node.animate([{transformOrigin:"top left",opacity:0,transform:`
            translate(${r}px, ${i}px)
            scale(${t}, ${n})
          `},{transformOrigin:"top left",opacity:1,transform:"none"}],{duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",fill:"none"})});V(this,"getStyle",()=>`
      left: ${this.pinnedTree.x}px;      top: ${this.pinnedTree.y}px;`);V(this,"alterLayout",()=>{this.sankey?(ne(this,Kr,Qc).call(this),this.sankey=!1):(ne(this,$r,Jc).call(this),this.sankey=!0)});V(this,"heartClicked",async t=>{if(t.preventDefault(),t.stopPropagation(),ne(this,vt,At).call(this),this.pinnedTree.isFav=!this.pinnedTree.isFav,this.pinnedTreeWindowUpdated(),this.pinnedTree.isFav){await Ks();const n=R.select(".hidden-heart");n.transition().duration(400).ease(R.easeCubicInOut).style("transform","scale(1)").style("opacity",1).on("end",()=>{n.classed("pulse",!0),setTimeout(()=>{n.classed("pulse",!1).transition().duration(400).style("transform","scale(0)").style("opacity",0)},1500)});const r=R.select(this.node).select(".icon-heart").classed("play-animation",!0).on("animationend",()=>{r.classed("play-animation",!1)});new Set(this.favoritesStoreValue.favTrees.map(s=>s.pinnedTree.treeID)).has(this.pinnedTree.treeID)||this.favoritesStoreValue.favTrees.push({pinnedTree:this.pinnedTree,pinnedTreeUpdated:()=>{this.pinnedTreeWindowUpdated()},getFeatureColor:this.pinnedTreeStoreValue.getFeatureColor===null?s=>_e.colors["gray-500"]:this.pinnedTreeStoreValue.getFeatureColor})}else{const r=[...this.favoritesStoreValue.favTrees.map(i=>i.pinnedTree.treeID)].indexOf(this.pinnedTree.treeID);r>-1&&this.favoritesStoreValue.favTrees.splice(r,1)}this.favoritesStore.set(this.favoritesStoreValue),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)});V(this,"noteClicked",t=>{t.preventDefault(),t.stopPropagation(),ne(this,vt,At).call(this);const n=R.select(this.node).select(".note-window");n.classed("show",!n.classed("show"))});V(this,"closeClicked",t=>{t.preventDefault(),t.stopPropagation();let n=!1;if(this.pinnedTreeStoreValue.lastActiveTreeID!==null&&(n=this.pinnedTreeStoreValue.lastActiveTreeID===this.pinnedTree.treeID),this.pinnedTree.isFav)this.pinnedTree.isPinned=!1;else{const r=this.pinnedTreeStoreValue.pinnedTrees.indexOf(this.pinnedTree);r>-1?this.pinnedTreeStoreValue.pinnedTrees.splice(r,1):console.warn("Trying to delete a tree that does not exist!")}if(n){let r=!1;for(let i=this.pinnedTreeStoreValue.pinnedTrees.length-1;i>=0;i--)if(this.pinnedTreeStoreValue.pinnedTrees[i].isPinned){this.pinnedTreeStoreValue.lastActiveTreeID=this.pinnedTreeStoreValue.pinnedTrees[i].treeID,r=!0;break}r||(this.pinnedTreeStoreValue.lastActiveTreeID=null)}this.pinnedTreeStore.set(this.pinnedTreeStoreValue)});V(this,"cancelEvent",t=>{t.preventDefault(),t.stopPropagation()});V(this,"headerMousedownHandler",t=>{t.preventDefault(),t.stopPropagation(),ne(this,vt,At).call(this);const n={x:t.pageX,y:t.pageY},r=s=>{s.preventDefault(),s.stopPropagation();const o=this.node.offsetLeft+s.pageX-n.x,a=this.node.offsetTop+s.pageY-n.y;n.x=s.pageX,n.y=s.pageY,this.node.style.left=`${o}px`,this.node.style.top=`${a}px`},i=()=>{document.removeEventListener("mousemove",r,!0),document.removeEventListener("mouseup",i,!0),document.body.style.cursor="default",this.pinnedTree.x=parseFloat(this.node.style.left),this.pinnedTree.y=parseFloat(this.node.style.top)};document.addEventListener("mousemove",r,!0),document.addEventListener("mouseup",i,!0),document.body.style.cursor="move"});V(this,"contentMousedownHandler",t=>{ne(this,vt,At).call(this)});V(this,"switchToggled",t=>{t.stopPropagation(),t.preventDefault();const n=R.select(t.currentTarget);n.attr("aria-checked",n.attr("aria-checked")==="true"?"false":!0),this.alterLayout()});this.pinnedTree=n,this.pinnedTreeWindowUpdated=s,this.width=o,this.height=a,this.node=t,this.pinnedTree.jiggle=()=>{ne(this,vt,At).call(this),this.node.classList.add("jiggle"),this.node.onanimationend=()=>{this.node.classList.remove("jiggle")}},this.pinnedTreeStore=r,this.pinnedTreeStoreValue=sn(),this.pinnedTreeStoreUnsubscriber=this.pinnedTreeStore.subscribe(c=>{this.pinnedTreeStoreValue=c}),this.favoritesStore=i,this.favoritesStoreValue=nn(),this.favoritesStoreUnsubscriber=this.favoritesStore.subscribe(c=>{this.favoritesStoreValue=c}),ne(this,vt,At).call(this),this.svg=R.select(t).select("svg.tree-svg").attr("width",o).attr("height",a).attr("viewbox",`0 0 ${o} ${a}`).attr("preserveAspectRatio","none"),this.padding={top:20,bottom:20,left:0,right:0},this.width=o-this.padding.left-this.padding.right,this.height=a-this.padding.top-this.padding.bottom,ne(this,Jr,Zc).call(this);const l=R.select(t).node().getBoundingClientRect();this.endPos={x:this.pinnedTree.x,y:this.pinnedTree.y,width:l.width,height:l.height},this.hidden=!1,this.pinnedTreeWindowUpdated(),this.playLaunchingAnimation()}}vt=new WeakSet,At=function(){var n;const t=this.node.parentNode;(n=t==null?void 0:t.parentNode)==null||n.appendChild(t),this.pinnedTreeStoreValue.lastActiveTreeID=this.pinnedTree.treeID},Jr=new WeakSet,Zc=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=R.hierarchy(this.pinnedTree.tree,g=>g.c),r=7,i=r*1,s=R.tree().size([this.width,this.height])(n),o=t.append("g").attr("class","link-group");o.selectAll("path.link").data(s.links()).join("path").attr("class",g=>`link link-${g.source.data.f[0]}`).attr("id",g=>g.target.data.f[0]==="+"?`link-${g.source.data.f[0]}-p`:g.target.data.f[0]==="-"?`link-${g.source.data.f[0]}-n`:`link-${g.source.data.f[0]}-${g.target.data.f[0]}`).attr("d",g=>R.line()([[g.source.x,g.source.y],[g.target.x,g.target.y]]));const l=t.append("g").attr("class","node-group").selectAll("g").data(s.descendants()).join("g").attr("class","node").attr("transform",g=>`translate(${g.x}, ${g.y})`),c=new Set(["-","+"]);l.filter(g=>!c.has(g.data.f[0])).append("rect").attr("class","node-rect").attr("x",-i).attr("y",-i).attr("rx",r).attr("ry",r).attr("width",2*i).attr("height",2*i).style("fill",g=>this.pinnedTreeStoreValue.getFeatureColor?this.pinnedTreeStoreValue.getFeatureColor(g.data.f[0]):_e.colors["gray-500"]),l.filter(g=>!c.has(g.data.f[0])).append("title").text(g=>this.pinnedTreeStoreValue.getFeatureInfo?this.pinnedTreeStoreValue.getFeatureInfo(g.data.f[0]).nameValue:""),l.filter(g=>c.has(g.data.f[0])).append("rect").attr("class","leaf-rect").attr("x",-i).attr("y",-i).attr("rx",2).attr("ry",2).attr("width",2*i).attr("height",2*i),l.filter(g=>c.has(g.data.f[0])).append("text").attr("dy",.5).text(g=>g.data.f[0]);const u=o.selectAll(`.link-${this.pinnedTree.tree.f[0]}`).data(),f=5,h=-1,d=[{x:(u[0].source.x+u[0].target.x)/2-f,y:(u[0].source.y+u[0].target.y)/2+h},{x:(u[1].source.x+u[1].target.x)/2+f,y:(u[1].source.y+u[1].target.y)/2+h}];t.append("g").attr("class","label-group").selectAll("text.split-label").data(d).join("text").attr("class","split-label").classed("split-label-left",(g,p)=>p===0).attr("x",g=>g.x).attr("y",g=>g.y).text((g,p)=>p===0?"true":"false")},Ys=new WeakSet,sm=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=R.hierarchy(this.pinnedTree.tree,p=>p.c),i=7*1,s=R.tree().size([this.width,this.height])(n),o=t.append("g").attr("class","link-group"),a=t.append("g").attr("class","node-group"),l={top:this.padding.top,bottom:this.padding.bottom,left:20,right:20},c=s.data.f[1],u=R.scaleLinear().domain([0,c]).range([0,this.width+this.padding.left+this.padding.right-l.left-l.right]),f=[];let h=0,d=-1;s.descendants().forEach(p=>{const m=Object.assign(p);m.depth!==d&&(h=m.parent===null?l.left:m.parent.x,d=m.depth),m.x=h,m.width=u(m.data.f[1]),h+=m.width,f.push(m)});const v=a.selectAll("g").data(f).join("g").attr("class","node").attr("transform",p=>`translate(${p.x}, ${p.y})`),g=new Set(["-","+"]);v.filter(p=>!g.has(p.data.f[0])).append("rect").attr("class","node-rect sankey").attr("x",0).attr("y",-i).attr("width",p=>p.width).attr("height",2*i).attr("rx",p=>p.width<16?1:2).attr("ry",p=>p.width<16?1:2).style("fill",p=>this.pinnedTreeStoreValue.getFeatureColor?this.pinnedTreeStoreValue.getFeatureColor(p.data.f[0]):_e.colors["gray-500"]),v.filter(p=>g.has(p.data.f[0])).append("rect").attr("class","leaf-rect").attr("x",0).attr("y",-i).attr("rx",p=>p.width<16?1:2).attr("ry",p=>p.width<16?1:2).attr("width",p=>p.width).attr("height",2*i),v.filter(p=>g.has(p.data.f[0])).append("text").attr("x",p=>p.width/2).attr("dy",.5).text(p=>p.data.f[0]).style("opacity",p=>p.width<16?0:1),o.selectAll("path.link").data(s.links()).join("path").attr("class",p=>`link link-${p.source.data.f[0]}`).attr("id",p=>p.target.data.f[0]==="+"?`link-${p.source.data.f[0]}-p`:p.target.data.f[0]==="-"?`link-${p.source.data.f[0]}-n`:`link-${p.source.data.f[0]}-${p.target.data.f[0]}`).attr("d",p=>{const m=p.source,y=p.target;return R.line()([[m.x+m.width/2,m.y],[y.x+y.width/2,y.y-i]])})},Kr=new WeakSet,Qc=function(){const t=this.svg.select("g.content"),n=R.hierarchy(this.pinnedTree.tree,f=>f.c),r=7,i=r*1,s=R.tree().size([this.width,this.height])(n),o=R.transition().duration(400).ease(R.easeCubicInOut);t.select(".link-group").selectAll("path.link").data(s.links()).join("path").transition(o).attr("d",f=>R.line()([[f.source.x,f.source.y],[f.target.x,f.target.y]]));const c=t.select(".node-group").selectAll("g.node").data(s.descendants()).join("g");c.transition(o).attr("transform",f=>`translate(${f.x}, ${f.y})`);const u=new Set(["-","+"]);c.filter(f=>!u.has(f.data.f[0])).select("rect.node-rect").classed("sankey",!1).transition(o).attr("x",-i).attr("y",-i).attr("rx",r).attr("ry",r).attr("width",2*i).attr("height",2*i),c.filter(f=>u.has(f.data.f[0])).select("rect.leaf-rect").attr("class","leaf-rect").transition(o).attr("x",-i).attr("y",-i).attr("rx",2).attr("ry",2).attr("width",2*i).attr("height",2*i),c.filter(f=>u.has(f.data.f[0])).select("text").transition(o).attr("x",0).attr("dy",.5).style("opacity",1),t.select(".label-group").style("display","unset").style("opacity",0).transition(o).style("opacity",1)},$r=new WeakSet,Jc=function(){const t=this.svg.select(".content"),n=R.hierarchy(this.pinnedTree.tree,m=>m.c),i=7*1,s=R.tree().size([this.width,this.height])(n),o=t.select(".link-group"),a=t.select(".node-group"),l={top:this.padding.top,bottom:this.padding.bottom,left:20,right:20},c=s.data.f[1],u=R.scaleLinear().domain([0,c]).range([0,this.width+this.padding.left+this.padding.right-l.left-l.right]),f=[];let h=0,d=-1;s.descendants().forEach(m=>{const y=Object.assign(m);y.depth!==d&&(h=y.parent===null?l.left:y.parent.x,d=y.depth),y.x=h,y.width=u(y.data.f[1]),h+=y.width,f.push(y)});const v=R.transition().duration(400).ease(R.easeCubicInOut),g=a.selectAll("g.node").data(f).join("g");g.transition(v).attr("transform",m=>`translate(${m.x}, ${m.y})`);const p=new Set(["-","+"]);g.filter(m=>!p.has(m.data.f[0])).select("rect.node-rect").classed("sankey",!0).transition(v).attr("x",0).attr("y",-i).attr("width",m=>m.width).attr("height",2*i).attr("rx",m=>m.width<16?1:2).attr("ry",m=>m.width<16?1:2),g.filter(m=>p.has(m.data.f[0])).select("rect.leaf-rect").transition(v).attr("x",0).attr("y",-i).attr("rx",m=>m.width<16?1:2).attr("ry",m=>m.width<16?1:2).attr("width",m=>m.width).attr("height",2*i),g.filter(m=>p.has(m.data.f[0])).select("text").transition(v).attr("x",m=>m.width/2).attr("dy",.5).text(m=>m.data.f[0]).style("opacity",m=>m.width<16?0:1),o.selectAll("path.link").data(s.links()).join("path").transition(v).attr("d",m=>{const y=m.source,w=m.target;return R.line()([[y.x+y.width/2,y.y],[w.x+w.width/2,w.y-i]])}),t.select(".label-group").transition(v).style("opacity",0)};var Kc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.343 13.657A8 8 0 1113.657 2.343 8 8 0 012.343 13.657zM6.03 4.97a.75.75 0 00-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 101.06 1.06L8 9.06l1.97 1.97a.75.75 0 101.06-1.06L9.06 8l1.97-1.97a.75.75 0 10-1.06-1.06L8 6.94 6.03 4.97z"></path></svg>',wi='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zm2.33-11.5c-1.22 0-1.83.5-2.323 1.136C7.513 5 6.903 4.5 5.682 4.5c-1.028 0-2.169.784-2.169 2.5 0 1.499 1.493 3.433 3.246 4.517.52.321.89.479 1.248.484.357-.005.728-.163 1.247-.484C11.007 10.433 12.5 8.5 12.5 7c0-1.716-1.14-2.5-2.17-2.5z"></path></svg>',$c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zM4 5a1 1 0 011-1h6a1 1 0 011 1v5a1 1 0 01-1 1H8.707l-1.853 1.854A.5.5 0 016 12.5V11H5a1 1 0 01-1-1V5z"></path></svg>',eu=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3641,-31)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-heart-circle-clicked">
                <g transform="matrix(3.03726,0,0,3.03726,3642.35,31.6476)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16Z" style="fill:rgb(244,67,54);"/>
                </g>
                <g transform="matrix(3.03726,0,0,3.03726,3642.35,31.6476)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16ZM10.33,4.5C9.11,4.5 8.5,5 8.007,5.636C7.513,5 6.903,4.5 5.682,4.5C4.654,4.5 3.513,5.284 3.513,7C3.513,8.499 5.006,10.433 6.759,11.517C7.279,11.838 7.649,11.996 8.007,12.001C8.364,11.996 8.735,11.838 9.254,11.517C11.007,10.433 12.5,8.5 12.5,7C12.5,5.284 11.36,4.5 10.33,4.5Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,tu=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3843,-44)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-note-circle-clicked" transform="matrix(1,0,0,1,-0.0850173,-0.438976)">
                <g transform="matrix(1,0,0,1,3843.92,44.439)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16Z" style="fill:hsl(123,46.2%,33.53%);"/>
                </g>
                <g transform="matrix(1,0,0,1,3843.92,44.439)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16ZM4,5C4,4.451 4.451,4 5,4L11,4C11.549,4 12,4.451 12,5L12,10C12,10.549 11.549,11 11,11L8.707,11L6.854,12.854C6.76,12.948 6.633,13.001 6.5,13.001C6.226,13.001 6,12.775 6,12.501L6,11L5,11C4.451,11 4,10.549 4,10L4,5Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`;const xe="src/components/tree-window/PinnedTreeWindow.svelte";function om(e){dt(e,"svelte-1fqhrwt",`@use 'sass:math';.pinned-tree-window.svelte-1fqhrwt.svelte-1fqhrwt{position:absolute;width:200px;z-index:2;background-color:#fcfcfc;border-radius:5px;box-shadow:0px 0px 5px rgba(0, 0, 0, 0.1), 0px 0px 4px rgba(0, 0, 0, 0.07), 0px 0px 10px rgba(0, 0, 0, 0.07);display:flex;flex-direction:column;align-items:center}.pinned-tree-window.hidden.svelte-1fqhrwt.svelte-1fqhrwt{visibility:hidden}.pinned-tree-window.jiggle.svelte-1fqhrwt.svelte-1fqhrwt{animation:svelte-1fqhrwt-jiggle 800ms forwards cubic-bezier(0.215, 0.61, 0.355, 1)}.tree-header.svelte-1fqhrwt.svelte-1fqhrwt{width:100%;padding:2px 0px;height:26px;font-size:0.9rem;border-top-left-radius:5px;border-top-right-radius:5px;color:whitesmoke;background-color:#424242;cursor:move;user-select:none;-webkit-user-select:none;display:flex;position:relative;flex-direction:row;justify-content:center;gap:3px}.tree-header.svelte-1fqhrwt .tree-info.svelte-1fqhrwt{flex-grow:1;line-height:1;padding-left:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:flex;justify-content:flex-start;align-items:center;gap:4px}.tree-header.svelte-1fqhrwt .tree-info .tree-name.svelte-1fqhrwt{font-weight:600}.tree-header.svelte-1fqhrwt .tree-info .tree-acc.svelte-1fqhrwt{font-size:0.8125rem}.tree-header.svelte-1fqhrwt .control-buttons.svelte-1fqhrwt{flex-grow:0;display:flex;flex-direction:row;align-items:center;height:100%;padding-right:7px;gap:4px}.tree-header.svelte-1fqhrwt .control-buttons .svg-icon.svelte-1fqhrwt{display:flex;justify-content:center;align-items:center;cursor:pointer;fill:#e0e0e0;transition:background-color 100ms ease-in-out, fill 100ms ease-in-out, color 100ms ease-in-out}.tree-header.svelte-1fqhrwt .control-buttons .svg-icon.svelte-1fqhrwt svg{width:14px;height:14px}.tree-header.svelte-1fqhrwt .control-buttons .svg-icon.svelte-1fqhrwt:hover{fill:#f2f2f2}.tree-header.svelte-1fqhrwt .control-buttons .svg-icon.svelte-1fqhrwt:active{fill:white}.control-note.svelte-1fqhrwt.svelte-1fqhrwt{position:relative}.control-note.svelte-1fqhrwt .note-window.svelte-1fqhrwt{position:absolute;bottom:100%;left:50%;transform:translateX(-50%) translateY(-9px) scale(0);width:130px;height:65px;padding:1px;background-color:#fcfcfc;border-radius:10px;border:1px solid rgba(0, 0, 0, 0.12);box-shadow:0 8px 24px rgba(141, 150, 160, 0.2);z-index:3;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1), border-color 150ms cubic-bezier(0.4, 0, 0.2, 1);transform-origin:50% 100%}.control-note.svelte-1fqhrwt .note-window .input-wrapper.svelte-1fqhrwt{width:100%;height:100%;border-radius:10px;overflow:hidden;position:relative;z-index:1}.control-note.svelte-1fqhrwt .note-window .input-wrapper .note-window-input.svelte-1fqhrwt{width:100%;height:100%;padding:0.4em;margin:0px;border:none;outline:none;box-shadow:none;resize:none;font-size:0.85rem;color:#616161;background-color:#fcfcfc}.control-note.svelte-1fqhrwt .note-window.show.svelte-1fqhrwt{transform:translateX(-50%) translateY(-9px) scale(1)}.control-note.svelte-1fqhrwt .note-window.svelte-1fqhrwt:hover{border-color:#bdbdbd}.control-note.svelte-1fqhrwt .note-window.svelte-1fqhrwt:hover::before{border-color:#bdbdbd}.control-note.svelte-1fqhrwt .note-window.svelte-1fqhrwt::before{position:absolute;content:'';width:10px;height:10px;bottom:0;left:50%;border-bottom:1px solid rgba(0, 0, 0, 0.12);border-right:1px solid rgba(0, 0, 0, 0.12);transform:translate(-50%, 60%) rotate(45deg);background-color:inherit;transition:border-color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.icon-heart.play-animation.svelte-1fqhrwt.svelte-1fqhrwt{animation:svelte-1fqhrwt-heart-animation 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275) both}@keyframes svelte-1fqhrwt-heart-animation{0%{transform:scale(1)}50%{transform:scale(1.5)}}.content.svelte-1fqhrwt.svelte-1fqhrwt{display:flex;position:relative}.tree-svg.svelte-1fqhrwt.svelte-1fqhrwt{stroke-linecap:round;stroke-linejoin:round}.tree-svg.svelte-1fqhrwt path.link{fill:none;stroke:#616161;stroke-width:1px}.tree-svg.svelte-1fqhrwt path.link.highlighted{stroke-width:2px;stroke:#757575;stroke-dasharray:2px 5px;animation:svelte-1fqhrwt-dash 60s infinite linear}.tree-svg.svelte-1fqhrwt .node rect{transition:stroke 400ms cubic-bezier(0.645, 0.045, 0.355, 1)}.tree-svg.svelte-1fqhrwt .node .leaf-rect{fill:#fcfcfc;stroke:#616161;stroke-width:1px}.tree-svg.svelte-1fqhrwt .node .node-rect{stroke:#fcfcfc;stroke-width:1px}.tree-svg.svelte-1fqhrwt .node .node-rect.sankey{stroke:#616161;stroke-width:1px}.tree-svg.svelte-1fqhrwt .node text{fill:#fcfcfc;fill:#616161;dominant-baseline:middle;text-anchor:middle}.tree-svg.svelte-1fqhrwt text.split-label{text-anchor:start;dominant-baseline:auto;fill:#616161;font-weight:300;font-size:0.8rem}.tree-svg.svelte-1fqhrwt text.split-label.split-label-left{text-anchor:end}.control-footer.svelte-1fqhrwt.svelte-1fqhrwt{padding:5px 7px;color:#757575;font-size:0.875rem;line-height:1;border-top:1px solid rgba(0, 0, 0, 0.12);width:100%;display:flex;justify-content:center;align-items:center}.switch.svelte-1fqhrwt.svelte-1fqhrwt{display:flex;align-items:flex-start;gap:8px;padding:0;margin:0;font-size:0.875rem;background-color:transparent;color:#9e9e9e;border:none}.switch.svelte-1fqhrwt .switch-track.svelte-1fqhrwt{cursor:pointer;background-color:#9e9e9e;transition:400ms cubic-bezier(0.645, 0.045, 0.355, 1);border-radius:34px;height:15px;width:32px;position:relative;margin-top:1px}.switch.svelte-1fqhrwt .switch-track.svelte-1fqhrwt::before{content:'';position:absolute;height:10px;width:10px;margin:0px 3px;left:0px;top:50%;transform:translateY(-50%);background-color:#fcfcfc;transition:400ms cubic-bezier(0.645, 0.045, 0.355, 1);border-radius:50%}.pinned-tree-window .switch[aria-checked='true'] .switch-track.svelte-1fqhrwt.svelte-1fqhrwt{background-color:#388e3b}.pinned-tree-window .switch[aria-checked='true'] .switch-track.svelte-1fqhrwt.svelte-1fqhrwt:before{left:16px}@keyframes svelte-1fqhrwt-dash{to{stroke-dashoffset:-1000}}@keyframes svelte-1fqhrwt-jiggle{0%{transform:scale(0.9)}20%{transform:scale(1.1)}40%{transform:scale(0.95)}60%{transform:scale(1.05)}80%{transform:scale(0.975)}100%{transform:scale(1)}}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGlubmVkVHJlZVdpbmRvdy5zdmVsdGUiLCJtYXBwaW5ncyI6IkFBb0VrQixLQUFBLFdBQUEsQ0FBQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJQaW5uZWRUcmVlV2luZG93LnN2ZWx0ZSJdfQ== */`)}function nu(e){let t;const n={c:function(){t=A("div"),S(t,"class","svg-icon svelte-1fqhrwt"),D(t,xe,336,10,9337)},m:function(i,s){pe(i,t,s),t.innerHTML=wi},p:ce,d:function(i){i&&ue(t)}};return te("SvelteRegisterBlock",{block:n,id:nu.name,type:"else",source:"(336:8) {:else}",ctx:e}),n}function ru(e){let t;const n={c:function(){t=A("div"),S(t,"class","svg-icon icon-heart svelte-1fqhrwt"),ve(t,"play-animation",!1),D(t,xe,332,10,9188)},m:function(i,s){pe(i,t,s),t.innerHTML=eu},p:ce,d:function(i){i&&ue(t)}};return te("SvelteRegisterBlock",{block:n,id:ru.name,type:"if",source:"(332:8) {#if pinnedTreeWindow?.pinnedTree.isFav}",ctx:e}),n}function iu(e){let t;const n={c:function(){t=A("div"),S(t,"class","svg-icon svelte-1fqhrwt"),D(t,xe,355,10,9815)},m:function(i,s){pe(i,t,s),t.innerHTML=tu},p:ce,d:function(i){i&&ue(t)}};return te("SvelteRegisterBlock",{block:n,id:iu.name,type:"else",source:"(355:8) {:else}",ctx:e}),n}function su(e){let t;const n={c:function(){t=A("div"),S(t,"class","svg-icon svelte-1fqhrwt"),D(t,xe,351,10,9714)},m:function(i,s){pe(i,t,s),t.innerHTML=$c},p:ce,d:function(i){i&&ue(t)}};return te("SvelteRegisterBlock",{block:n,id:su.name,type:"if",source:"(351:8) {#if pinnedTreeWindow?.pinnedTree.note === ''}",ctx:e}),n}function Vs(e){let t,n,r;const i={c:function(){t=A("textarea"),S(t,"class","note-window-input svelte-1fqhrwt"),S(t,"name","note-input"),S(t,"placeholder","Leave a comment."),D(t,xe,366,14,10154)},m:function(o,a){pe(o,t,a),_r(t,e[1].pinnedTree.note),n||(r=[ae(t,"input",e[10],!1,!1,!1),ae(t,"input",e[11])],n=!0)},p:function(o,a){a&2&&_r(t,o[1].pinnedTree.note)},d:function(o){o&&ue(t),n=!1,Pe(r)}};return te("SvelteRegisterBlock",{block:i,id:Vs.name,type:"if",source:"(366:12) {#if pinnedTreeWindow !== null}",ctx:e}),i}function Ds(e){var de,oe;let t,n,r,i,s,o=((de=e[1])==null?void 0:de.pinnedTree.treeID)+"",a,l,c,u,f=((oe=e[1])==null?void 0:oe.pinnedTree.treeMetric)+"",h,d,v,g,p,m,y,w,_,k,C,z,P,E,L,q,j,M,x,I,T,F,W,O,B,X,U,ie,$;function se(we,ee){var Y;return(Y=we[1])!=null&&Y.pinnedTree.isFav?ru:nu}let le=se(e),Q=le(e);function J(we,ee){var Y;return((Y=we[1])==null?void 0:Y.pinnedTree.note)===""?su:iu}let H=J(e),G=H(e),K=e[1]!==null&&Vs(e);const N={c:function(){var ee,Y,he,Ee,be,ke;t=A("div"),n=A("div"),r=A("div"),i=A("span"),s=me("Tree "),a=me(o),l=Z(),c=A("span"),u=me("("),h=me(f),d=me(")"),g=Z(),p=A("div"),m=A("div"),Q.c(),y=Z(),w=A("div"),G.c(),_=Z(),k=A("div"),C=A("div"),K&&K.c(),z=Z(),P=A("div"),E=A("div"),L=Z(),q=A("div"),j=$t("svg"),M=Z(),x=A("div"),I=A("button"),T=A("label"),F=me("Scaled by sample size"),O=Z(),B=A("div"),S(i,"class","tree-name svelte-1fqhrwt"),D(i,xe,315,6,8694),S(c,"class","tree-acc svelte-1fqhrwt"),D(c,xe,319,6,8791),S(r,"class","tree-info svelte-1fqhrwt"),S(r,"title",v=`Tree ${(ee=e[1])==null?void 0:ee.pinnedTree.treeID} - Accuracy ${(Y=e[1])==null?void 0:Y.pinnedTree.treeMetric}`),D(r,xe,311,4,8539),S(m,"class","control-fav"),S(m,"title","Add to my favorites"),D(m,xe,325,6,8933),S(C,"class","input-wrapper svelte-1fqhrwt"),D(C,xe,361,10,9984),S(k,"class","note-window svelte-1fqhrwt"),S(k,"title",""),ve(k,"show",!1),D(k,xe,360,8,9920),S(w,"class","control-note svelte-1fqhrwt"),S(w,"title","Leave a comment"),D(w,xe,342,6,9447),S(E,"class","svg-icon svelte-1fqhrwt"),D(E,xe,384,8,10686),S(P,"class","control-close"),S(P,"title","Close the window"),D(P,xe,378,6,10483),S(p,"class","control-buttons svelte-1fqhrwt"),D(p,xe,324,4,8897),S(n,"class","tree-header svelte-1fqhrwt"),D(n,xe,306,2,8381),S(j,"class","tree-svg svelte-1fqhrwt"),D(j,xe,395,4,10896),S(q,"class","content svelte-1fqhrwt"),D(q,xe,391,2,10794),S(T,"class","switch-label"),S(T,"for",W=`switch-${(he=e[1])==null?void 0:he.pinnedTree.treeID}`),D(T,xe,405,6,11151),S(B,"class","switch-track svelte-1fqhrwt"),S(B,"id",X=`switch-${(Ee=e[1])==null?void 0:Ee.pinnedTree.treeID}`),D(B,xe,410,6,11301),S(I,"class","switch svelte-1fqhrwt"),S(I,"aria-checked","false"),S(I,"title","Toggle to visualize sample size as node width"),D(I,xe,399,4,10966),S(x,"class","control-footer svelte-1fqhrwt"),D(x,xe,398,2,10933),S(t,"class","pinned-tree-window svelte-1fqhrwt"),S(t,"style",U=(be=e[1])==null?void 0:be.getStyle()),ve(t,"hidden",(ke=e[1])==null?void 0:ke.hidden),ve(t,"jiggle",!1),D(t,xe,299,0,8215)},l:function(ee){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(ee,Y){pe(ee,t,Y),b(t,n),b(n,r),b(r,i),b(i,s),b(i,a),b(r,l),b(r,c),b(c,u),b(c,h),b(c,d),b(n,g),b(n,p),b(p,m),Q.m(m,null),b(p,y),b(p,w),G.m(w,null),b(w,_),b(w,k),b(k,C),K&&K.m(C,null),b(p,z),b(p,P),b(P,E),E.innerHTML=Kc,b(t,L),b(t,q),b(q,j),b(t,M),b(t,x),b(x,I),b(I,T),b(T,F),b(I,O),b(I,B),e[20](t),ie||($=[ae(m,"click",e[8],!1,!1,!1),ae(m,"mousedown",e[9],!1,!1,!1),ae(C,"click",e[12],!1,!1,!1),ae(w,"click",e[13],!1,!1,!1),ae(w,"mousedown",am,!1,!1,!1),ae(P,"click",e[14],!1,!1,!1),ae(P,"mousedown",e[15],!1,!1,!1),ae(n,"mousedown",e[16],!1,!1,!1),ae(n,"click",e[17],!1,!1,!1),ae(q,"mousedown",e[18],!1,!1,!1),ae(I,"click",e[19],!1,!1,!1)],ie=!0)},p:function(ee,[Y]){var he,Ee,be,ke,fn,dn,pn,We;Y&2&&o!==(o=((he=ee[1])==null?void 0:he.pinnedTree.treeID)+"")&&Re(a,o),Y&2&&f!==(f=((Ee=ee[1])==null?void 0:Ee.pinnedTree.treeMetric)+"")&&Re(h,f),Y&2&&v!==(v=`Tree ${(be=ee[1])==null?void 0:be.pinnedTree.treeID} - Accuracy ${(ke=ee[1])==null?void 0:ke.pinnedTree.treeMetric}`)&&S(r,"title",v),le===(le=se(ee))&&Q?Q.p(ee,Y):(Q.d(1),Q=le(ee),Q&&(Q.c(),Q.m(m,null))),H===(H=J(ee))&&G?G.p(ee,Y):(G.d(1),G=H(ee),G&&(G.c(),G.m(w,_))),ee[1]!==null?K?K.p(ee,Y):(K=Vs(ee),K.c(),K.m(C,null)):K&&(K.d(1),K=null),Y&2&&W!==(W=`switch-${(fn=ee[1])==null?void 0:fn.pinnedTree.treeID}`)&&S(T,"for",W),Y&2&&X!==(X=`switch-${(dn=ee[1])==null?void 0:dn.pinnedTree.treeID}`)&&S(B,"id",X),Y&2&&U!==(U=(pn=ee[1])==null?void 0:pn.getStyle())&&S(t,"style",U),Y&2&&ve(t,"hidden",(We=ee[1])==null?void 0:We.hidden)},i:ce,o:ce,d:function(ee){ee&&ue(t),Q.d(),G.d(),K&&K.d(),e[20](null),ie=!1,Pe($)}};return te("SvelteRegisterBlock",{block:N,id:Ds.name,type:"component",source:"",ctx:e}),N}const am=e=>{e.stopPropagation()};function lm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("PinnedTreeWindow",r,[]);let{pinnedTree:s=null}=t,{pinnedTreeStore:o=null}=t,{favoritesStore:a=null}=t,l=null,c=!1,u=null,f=!1;Te(()=>{n(6,c=!0)}),Tr(()=>{u==null||u.pinnedTreeStoreUnsubscriber(),u==null||u.favoritesStoreUnsubscriber()});const h=()=>{n(1,u)},d=()=>{n(7,f=!0),l&&s&&o&&a&&n(1,u=new Wa({component:l,pinnedTree:s,pinnedTreeStore:o,favoritesStore:a,pinnedTreeWindowUpdated:h}))},v=M=>{M.stopPropagation(),a==null||a.update(x=>x)},g=["pinnedTree","pinnedTreeStore","favoritesStore"];Object.keys(t).forEach(M=>{!~g.indexOf(M)&&M.slice(0,2)!=="$$"&&M!=="slot"&&console.warn(`<PinnedTreeWindow> was created with unknown prop '${M}'`)});const p=M=>u==null?void 0:u.heartClicked(M),m=M=>u==null?void 0:u.cancelEvent(M),y=M=>v(M);function w(){u.pinnedTree.note=this.value,n(1,u)}const _=M=>u==null?void 0:u.cancelEvent(M),k=M=>u==null?void 0:u.noteClicked(M),C=M=>u==null?void 0:u.closeClicked(M),z=M=>u==null?void 0:u.cancelEvent(M),P=M=>u==null?void 0:u.headerMousedownHandler(M),E=M=>u==null?void 0:u.cancelEvent(M),L=M=>u==null?void 0:u.contentMousedownHandler(M),q=M=>u==null?void 0:u.switchToggled(M);function j(M){Ne[M?"unshift":"push"](()=>{l=M,n(0,l)})}return e.$$set=M=>{"pinnedTree"in M&&n(3,s=M.pinnedTree),"pinnedTreeStore"in M&&n(4,o=M.pinnedTreeStore),"favoritesStore"in M&&n(5,a=M.favoritesStore)},e.$capture_state=()=>({onMount:Te,onDestroy:Tr,PinnedTreeWindow:Wa,iconCloseCircle:Kc,iconHeartCircle:wi,iconNoteCircle:$c,iconHeartCircleClicked:eu,iconNoteCircleClicked:tu,pinnedTree:s,pinnedTreeStore:o,favoritesStore:a,component:l,mounted:c,pinnedTreeWindow:u,initialized:f,pinnedTreeWindowUpdated:h,initView:d,noteChanged:v}),e.$inject_state=M=>{"pinnedTree"in M&&n(3,s=M.pinnedTree),"pinnedTreeStore"in M&&n(4,o=M.pinnedTreeStore),"favoritesStore"in M&&n(5,a=M.favoritesStore),"component"in M&&n(0,l=M.component),"mounted"in M&&n(6,c=M.mounted),"pinnedTreeWindow"in M&&n(1,u=M.pinnedTreeWindow),"initialized"in M&&n(7,f=M.initialized)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&249&&s&&c&&l&&o&&a&&!f&&d()},[l,u,v,s,o,a,c,f,p,m,y,w,_,k,C,z,P,E,L,q,j]}class ou extends nt{constructor(t){super(t);et(this,t,lm,Ds,Ge,{pinnedTree:3,pinnedTreeStore:4,favoritesStore:5},om),te("SvelteRegisterComponent",{component:this,tagName:"PinnedTreeWindow_1",options:t,id:Ds.name})}get pinnedTree(){throw new Error("<PinnedTreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTree(t){throw new Error("<PinnedTreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<PinnedTreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<PinnedTreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get favoritesStore(){throw new Error("<PinnedTreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<PinnedTreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var ei,au;class Ua{constructor({favTree:t,component:n,textAreaNode:r,favoritesStore:i,pinnedTreeStore:s}){ge(this,ei);V(this,"favTree");V(this,"textAreaNode");V(this,"favoritesStore");V(this,"favoritesStoreValue");V(this,"favoritesStoreUnsubscriber");V(this,"pinnedTreeStore");V(this,"pinnedTreeStoreValue");V(this,"PinnedTreeStoreValueUnsubscriber");V(this,"svg");V(this,"padding");V(this,"width");V(this,"height");V(this,"adjustTextAreaHeight",async()=>{await Ks(),this.textAreaNode.style.removeProperty("height"),this.textAreaNode.style.height=`${this.textAreaNode.scrollHeight}px`});V(this,"noteChanged",t=>{t.stopPropagation(),this.favTree.pinnedTreeUpdated(),this.adjustTextAreaHeight()});V(this,"deleteClicked",t=>{t.preventDefault(),t.stopPropagation();let n=-1;for(let o=0;o<this.pinnedTreeStoreValue.pinnedTrees.length;o++)if(this.pinnedTreeStoreValue.pinnedTrees[o].treeID===this.favTree.pinnedTree.treeID){n=o;break}const r=this.pinnedTreeStoreValue.pinnedTrees[n];r.isPinned?r.isFav=!1:this.pinnedTreeStoreValue.pinnedTrees.splice(n,1),this.pinnedTreeStore.set(this.pinnedTreeStoreValue);const s=[...this.favoritesStoreValue.favTrees.map(o=>o.pinnedTree.treeID)].indexOf(this.favTree.pinnedTree.treeID);s>-1&&this.favoritesStoreValue.favTrees.splice(s,1),this.favoritesStore.set(this.favoritesStoreValue)});V(this,"thumbnailClicked",t=>{t.preventDefault(),t.stopPropagation();for(let n=0;n<this.pinnedTreeStoreValue.pinnedTrees.length;n++){const r=this.pinnedTreeStoreValue.pinnedTrees[n];if(r.treeID===this.favTree.pinnedTree.treeID){if(r.isPinned)r.jiggle();else{const i=this.svg.node().getBoundingClientRect(),s={x:i.left,y:i.top,width:i.width,height:i.height};r.startPos=s,r.isPinned=!0,this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}break}}});this.favTree=t,this.textAreaNode=r,this.favoritesStore=i,this.favoritesStoreValue=nn(),this.favoritesStoreUnsubscriber=this.favoritesStore.subscribe(l=>{this.favoritesStoreValue=l,this.favoritesStoreValue.shown&&this.adjustTextAreaHeight()}),this.pinnedTreeStore=s,this.pinnedTreeStoreValue=sn(),this.PinnedTreeStoreValueUnsubscriber=this.pinnedTreeStore.subscribe(l=>{this.pinnedTreeStoreValue=l});const o=70,a=70;this.svg=R.select(n).select("svg.tree-svg").attr("width",o).attr("height",a).attr("viewbox",`0 0 ${o} ${a}`).attr("preserveAspectRatio","none"),this.padding={top:10,bottom:10,left:0,right:0},this.width=o-this.padding.left-this.padding.right,this.height=a-this.padding.top-this.padding.bottom,ne(this,ei,au).call(this)}}ei=new WeakSet,au=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=R.hierarchy(this.favTree.pinnedTree.tree,u=>u.c),r=4,i=4,s=R.tree().size([this.width,this.height])(n);t.append("g").attr("class","link-group").selectAll("path.link").data(s.links()).join("path").attr("class",u=>`link link-${u.source.data.f[0]}`).attr("id",u=>{const f=u.source.ancestors().length>1?u.source.ancestors()[1].data.f[0]:"r",h=u.source.data.f[0],d=u.target.data.f[0];return u.target.data.f[0]==="+"?`link-${f}-${h}-p`:u.target.data.f[0]==="-"?`link-${f}-${h}-n`:`link-${f}-${h}-${d}`}).attr("d",u=>R.line()([[u.source.x,u.source.y],[u.target.x,u.target.y]]));const l=t.append("g").attr("class","node-group").selectAll("g").data(s.descendants()).join("g").attr("class","node").attr("transform",u=>`translate(${u.x}, ${u.y})`),c=new Set(["-","+"]);l.filter(u=>!c.has(u.data.f[0])).append("circle").attr("r",r).style("fill",u=>this.favTree.getFeatureColor(u.data.f[0])),l.filter(u=>c.has(u.data.f[0])).append("rect").attr("x",-i).attr("y",-i).attr("rx",1).attr("ry",1).attr("width",2*i).attr("height",2*i),l.filter(u=>c.has(u.data.f[0])).append("text").attr("dy",.5).text(u=>u.data.f[0])};var lu='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="40"/><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="40" d="M80 112h352"/><path d="M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="40"/></svg>';const Oe="src/components/favorites-panel/FavoritesRow.svelte";function cm(e){dt(e,"svelte-3q22q9",`@use 'sass:math';.tree.svelte-3q22q9.svelte-3q22q9{display:flex;justify-content:flex-start;gap:8px;padding:16px 16px 0px 16px;font-size:14px;user-select:none;-webkit-user-select:none}.tree.svelte-3q22q9 .tree-left.svelte-3q22q9{flex-shrink:0;display:flex}.tree.svelte-3q22q9 .tree-right.svelte-3q22q9{display:flex;flex-direction:column;flex-grow:1}.tree.svelte-3q22q9 .tree-right .tree-info.svelte-3q22q9{display:flex;flex-direction:row;align-items:center;justify-content:space-between;line-height:1;padding-bottom:7px}.tree.svelte-3q22q9 .tree-right .tree-info .tree-info-left.svelte-3q22q9{display:flex;align-items:baseline;gap:3px}.tree.svelte-3q22q9 .tree-right .tree-info .tree-info-left .tree-name.svelte-3q22q9{font-weight:600}.tree.svelte-3q22q9 .tree-right .tree-info .svg-icon.svelte-3q22q9{display:flex;align-items:center;justify-content:center;color:#9e9e9e;cursor:pointer;pointer-events:fill}.tree.svelte-3q22q9 .tree-right .tree-info .svg-icon.svelte-3q22q9 svg{width:0.875rem;height:0.875rem}.tree.svelte-3q22q9 .tree-right .tree-info .svg-icon.svelte-3q22q9:hover{color:#424242}.tree.svelte-3q22q9 .tree-right .tree-info .svg-icon.svelte-3q22q9:active{color:#212121}.tree.svelte-3q22q9 .tree-right .tree-note.svelte-3q22q9{border:1px solid #e0e0e0;border-radius:4px;transition:border-color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.tree.svelte-3q22q9 .tree-right .tree-note.svelte-3q22q9:hover{border:1px solid #bdbdbd}.tree.svelte-3q22q9 .tree-right .tree-note .note-window-input.svelte-3q22q9{width:100%;padding:0.4em;margin:0px;border-radius:4px;border:none;outline:none;box-shadow:none;resize:none;font-size:14px;color:#616161;background-color:#fcfcfc}.tree-svg.svelte-3q22q9.svelte-3q22q9{border:1px solid #e0e0e0;border-radius:4px;width:70px;height:70px;cursor:pointer;stroke-linecap:round;stroke-linejoin:round;transition:border-color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.tree-svg.svelte-3q22q9.svelte-3q22q9:hover{border:1px solid #bdbdbd}.tree-svg.svelte-3q22q9.svelte-3q22q9:active{border:1px solid #9e9e9e}.tree-svg.svelte-3q22q9 path.link{fill:none;stroke:#757575;stroke-width:1px}.tree-svg.svelte-3q22q9 .node rect{fill:#fcfcfc;stroke:#9e9e9e;stroke-width:1px}.tree-svg.svelte-3q22q9 .node text{fill:#757575;font-size:10px;dominant-baseline:middle;text-anchor:middle}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmF2b3JpdGVzUm93LnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUEyRGtCLEtBQUEsV0FBQSxDQUFBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkZhdm9yaXRlc1Jvdy5zdmVsdGUiXX0= */`)}function qs(e){let t,n,r;const i={c:function(){t=A("textarea"),S(t,"class","note-window-input svelte-3q22q9"),S(t,"name","note-input"),S(t,"placeholder","Leave a comment."),D(t,Oe,161,8,4358)},m:function(o,a){pe(o,t,a),e[10](t),_r(t,e[0].pinnedTree.note),n||(r=[ae(t,"input",e[11],!1,!1,!1),ae(t,"input",e[12])],n=!0)},p:function(o,a){a&1&&_r(t,o[0].pinnedTree.note)},d:function(o){o&&ue(t),e[10](null),n=!1,Pe(r)}};return te("SvelteRegisterBlock",{block:i,id:qs.name,type:"if",source:"(161:6) {#if favTree !== null}",ctx:e}),i}function As(e){var q,j;let t,n,r,i,s,o,a,l,c,u=((q=e[3])==null?void 0:q.favTree.pinnedTree.treeID)+"",f,h,d,v,g=((j=e[3])==null?void 0:j.favTree.pinnedTree.treeMetric)+"",p,m,y,w,_,k,C,z,P,E=e[0]!==null&&qs(e);const L={c:function(){t=A("div"),n=A("div"),r=$t("svg"),i=Z(),s=A("div"),o=A("div"),a=A("div"),l=A("span"),c=me("Tree "),f=me(u),h=Z(),d=A("span"),v=me("("),p=me(g),m=me(")"),y=Z(),w=A("div"),_=A("div"),k=Z(),C=A("div"),E&&E.c(),S(r,"class","tree-svg svelte-3q22q9"),D(r,Oe,138,4,3710),S(n,"class","tree-left svelte-3q22q9"),D(n,Oe,137,2,3682),S(l,"class","tree-name svelte-3q22q9"),D(l,Oe,144,8,3892),S(d,"class","tree-metric"),D(d,Oe,147,8,3997),S(a,"class","tree-info-left svelte-3q22q9"),D(a,Oe,143,6,3855),S(_,"class","svg-icon svelte-3q22q9"),D(_,Oe,153,8,4155),S(w,"class","tree-info-right"),D(w,Oe,152,6,4117),S(o,"class","tree-info svelte-3q22q9"),D(o,Oe,142,4,3825),S(C,"class","tree-note svelte-3q22q9"),D(C,Oe,159,4,4297),S(s,"class","tree-right svelte-3q22q9"),D(s,Oe,141,2,3796),S(t,"class","tree svelte-3q22q9"),D(t,Oe,136,0,3639)},l:function(x){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(x,I){pe(x,t,I),b(t,n),b(n,r),b(t,i),b(t,s),b(s,o),b(o,a),b(a,l),b(l,c),b(l,f),b(a,h),b(a,d),b(d,v),b(d,p),b(d,m),b(o,y),b(o,w),b(w,_),_.innerHTML=lu,b(s,k),b(s,C),E&&E.m(C,null),e[13](t),z||(P=[ae(r,"click",e[8],!1,!1,!1),ae(_,"click",e[9],!1,!1,!1)],z=!0)},p:function(x,[I]){var T,F;I&8&&u!==(u=((T=x[3])==null?void 0:T.favTree.pinnedTree.treeID)+"")&&Re(f,u),I&8&&g!==(g=((F=x[3])==null?void 0:F.favTree.pinnedTree.treeMetric)+"")&&Re(p,g),x[0]!==null?E?E.p(x,I):(E=qs(x),E.c(),E.m(C,null)):E&&(E.d(1),E=null)},i:ce,o:ce,d:function(x){x&&ue(t),E&&E.d(),e[13](null),z=!1,Pe(P)}};return te("SvelteRegisterBlock",{block:L,id:As.name,type:"component",source:"",ctx:e}),L}function um(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("FavoritesRow",r,[]);let{favTree:s=null}=t,{favoritesStore:o=null}=t,{pinnedTreeStore:a=null}=t,l=null,c=null,u=!1,f=!1,h=null;Te(()=>{n(6,u=!0)}),Tr(()=>{h==null||h.favoritesStoreUnsubscriber(),h==null||h.PinnedTreeStoreValueUnsubscriber()});const d=()=>{s&&c&&l&&o&&a&&n(3,h=new Ua({favTree:s,component:l,textAreaNode:c,favoritesStore:o,pinnedTreeStore:a})),n(7,f=!0)},v=["favTree","favoritesStore","pinnedTreeStore"];Object.keys(t).forEach(k=>{!~v.indexOf(k)&&k.slice(0,2)!=="$$"&&k!=="slot"&&console.warn(`<FavoritesRow> was created with unknown prop '${k}'`)});const g=k=>h==null?void 0:h.thumbnailClicked(k),p=k=>h==null?void 0:h.deleteClicked(k);function m(k){Ne[k?"unshift":"push"](()=>{c=k,n(2,c)})}const y=k=>h.noteChanged(k);function w(){s.pinnedTree.note=this.value,n(0,s)}function _(k){Ne[k?"unshift":"push"](()=>{l=k,n(1,l)})}return e.$$set=k=>{"favTree"in k&&n(0,s=k.favTree),"favoritesStore"in k&&n(4,o=k.favoritesStore),"pinnedTreeStore"in k&&n(5,a=k.pinnedTreeStore)},e.$capture_state=()=>({FavoritesRow:Ua,onMount:Te,onDestroy:Tr,deleteIcon:lu,favTree:s,favoritesStore:o,pinnedTreeStore:a,component:l,textAreaNode:c,mounted:u,initialized:f,favoriteRow:h,initView:d}),e.$inject_state=k=>{"favTree"in k&&n(0,s=k.favTree),"favoritesStore"in k&&n(4,o=k.favoritesStore),"pinnedTreeStore"in k&&n(5,a=k.pinnedTreeStore),"component"in k&&n(1,l=k.component),"textAreaNode"in k&&n(2,c=k.textAreaNode),"mounted"in k&&n(6,u=k.mounted),"initialized"in k&&n(7,f=k.initialized),"favoriteRow"in k&&n(3,h=k.favoriteRow)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&247&&s&&c&&l&&o&&a&&u&&!f&&d()},[s,l,c,h,o,a,u,f,g,p,m,y,w,_]}class cu extends nt{constructor(t){super(t);et(this,t,um,As,Ge,{favTree:0,favoritesStore:4,pinnedTreeStore:5},cm),te("SvelteRegisterComponent",{component:this,tagName:"FavoritesRow_1",options:t,id:As.name})}get favTree(){throw new Error("<FavoritesRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favTree(t){throw new Error("<FavoritesRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get favoritesStore(){throw new Error("<FavoritesRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<FavoritesRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<FavoritesRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<FavoritesRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Oa=(e,t)=>{e.stopPropagation(),e.preventDefault();const n=JSON.parse(JSON.stringify(t.favTrees)),r=[];n.forEach(i=>{delete i.getFeatureColor,delete i.pinnedTreeUpdated,delete i.pinnedTree.isPinned,delete i.pinnedTree.isFav,delete i.pinnedTree.jiggle,delete i.pinnedTree.x,delete i.pinnedTree.y,delete i.pinnedTree.startPos,r.push(i.pinnedTree)}),T6(r,null,"favorite-trees.json")};function uu(e,{from:t,to:n},r={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[o,a]=i.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*o/n.width-(n.left+o),c=t.top+t.height*a/n.height-(n.top+a),{delay:u=0,duration:f=d=>Math.sqrt(d)*120,easing:h=nh}=r;return{delay:u,duration:Xs(f)?f(Math.sqrt(l*l+c*c)):f,easing:h,css:(d,v)=>{const g=v*l,p=v*c,m=d+v*t.width/n.width,y=d+v*t.height/n.height;return`transform: ${s} translate(${g}px, ${p}px) scale(${m}, ${y});`}}}var yi='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>',hu='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z"></path></svg>';const Be="src/components/favorites-panel/FavoritesPanel.svelte";function hm(e){dt(e,"svelte-1a60hd0",`@use 'sass:math';.favorites-panel.svelte-1a60hd0.svelte-1a60hd0{display:none;flex-direction:column;align-items:center;width:268px;min-height:300px;max-height:615px;border-radius:5px;background-color:#fcfcfc}.favorites-panel.shown.svelte-1a60hd0.svelte-1a60hd0{display:flex}.header.svelte-1a60hd0.svelte-1a60hd0{height:32px;width:100%;flex-shrink:0;background-color:#424242;border-top-left-radius:5px;border-top-right-radius:5px;color:#fcfcfc;padding:0px 16px;display:flex;align-items:center;justify-content:flex-start}.header.svelte-1a60hd0 .header-title.svelte-1a60hd0{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;cursor:default;user-select:none;-webkit-user-select:none}.header.svelte-1a60hd0 .header-title .icons.svelte-1a60hd0{display:flex;flex-direction:row;align-items:center;gap:4px}.header.svelte-1a60hd0 .header-title .icons .svg-icon.svelte-1a60hd0{display:flex;align-items:center;justify-content:center;color:#bdbdbd;fill:#bdbdbd;cursor:pointer;pointer-events:fill}.header.svelte-1a60hd0 .header-title .icons .svg-icon.svelte-1a60hd0 svg{width:1rem;height:1rem}.header.svelte-1a60hd0 .header-title .icons .svg-icon.close-icon.svelte-1a60hd0 svg{width:1.0625rem;height:1.0625rem}.header.svelte-1a60hd0 .header-title .icons .svg-icon.svelte-1a60hd0:hover{color:#fafafa;fill:#fafafa}.header.svelte-1a60hd0 .header-title .icons .svg-icon.svelte-1a60hd0:active{color:white;fill:white}.tree-list.svelte-1a60hd0.svelte-1a60hd0{display:flex;flex-direction:column;align-items:stretch;width:100%;flex-grow:1;overflow-y:auto}.tree-wrapper.svelte-1a60hd0.svelte-1a60hd0{position:relative;padding-bottom:10px;border-bottom:1px solid rgba(158, 158, 158, 0.2)}.tree-placeholder.svelte-1a60hd0.svelte-1a60hd0{position:absolute;width:100%;height:calc(100% - 32px);top:32px;display:flex;align-items:center;justify-content:center;text-align:center;color:#757575;padding:19px}.tree-placeholder.svelte-1a60hd0 .tree-placeholder-text.svelte-1a60hd0{display:inline-flex;flex-wrap:wrap;justify-content:center;align-items:center}.tree-placeholder.svelte-1a60hd0 .svg-icon.svelte-1a60hd0{display:flex;align-items:center;justify-content:center;pointer-events:fill;vertical-align:bottom;color:#616161;fill:#616161;width:1rem;height:1rem;margin-left:5px;margin-top:1px}.tree-placeholder.svelte-1a60hd0 .svg-icon.svelte-1a60hd0 svg{width:1rem;height:1rem}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmF2b3JpdGVzUGFuZWwuc3ZlbHRlIiwibWFwcGluZ3MiOiJBQWdEa0IsS0FBQSxXQUFBLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRmF2b3JpdGVzUGFuZWwuc3ZlbHRlIl19 */`)}function ur(e,t,n){const r=e.slice();return r[10]=t[n],r}function Ls(e){let t,n,r,i;const s=[du,fu],o=[];function a(c,u){return c[4].favTrees.length===0?0:1}t=a(e),n=o[t]=s[t](e);const l={c:function(){n.c(),r=Ki()},m:function(u,f){o[t].m(u,f),pe(u,r,f),i=!0},p:function(u,f){let h=t;t=a(u),t===h?o[t].p(u,f):(en(),Se(o[h],1,1,()=>{o[h]=null}),tn(),n=o[t],n?n.p(u,f):(n=o[t]=s[t](u),n.c()),ye(n,1),n.m(r.parentNode,r))},i:function(u){i||(ye(n),i=!0)},o:function(u){Se(n),i=!1},d:function(u){o[t].d(u),u&&ue(r)}};return te("SvelteRegisterBlock",{block:l,id:Ls.name,type:"if",source:"(165:2) {#if initialized}",ctx:e}),l}function fu(e){let t,n=[],r=new Map,i,s=e[4].favTrees;at(s);const o=l=>l[10].pinnedTree.treeID;Cr(e,s,ur,o);for(let l=0;l<s.length;l+=1){let c=ur(e,s,l),u=o(c);r.set(u,n[l]=zs(u,c))}const a={c:function(){t=A("div");for(let c=0;c<n.length;c+=1)n[c].c();S(t,"class","tree-list svelte-1a60hd0"),D(t,Be,174,6,4667)},m:function(c,u){pe(c,t,u);for(let f=0;f<n.length;f+=1)n[f].m(t,null);i=!0},p:function(c,u){if(u&19){s=c[4].favTrees,at(s),en();for(let f=0;f<n.length;f+=1)n[f].r();Cr(c,s,ur,o),n=ml(n,u,o,1,c,s,r,t,Ku,zs,null,ur);for(let f=0;f<n.length;f+=1)n[f].a();tn()}},i:function(c){if(!i){for(let u=0;u<s.length;u+=1)ye(n[u]);i=!0}},o:function(c){for(let u=0;u<n.length;u+=1)Se(n[u]);i=!1},d:function(c){c&&ue(t);for(let u=0;u<n.length;u+=1)n[u].d()}};return te("SvelteRegisterBlock",{block:a,id:fu.name,type:"else",source:"(174:4) {:else}",ctx:e}),a}function du(e){let t,n,r,i,s;const o={c:function(){t=A("div"),n=A("div"),r=me("Click the heart button "),i=A("span"),s=me(" on tree windows to add favorite trees."),S(i,"class","svg-icon svelte-1a60hd0"),D(i,Be,168,33,4506),S(n,"class","tree-placeholder-text svelte-1a60hd0"),D(n,Be,167,8,4437),S(t,"class","tree-placeholder svelte-1a60hd0"),D(t,Be,166,6,4398)},m:function(l,c){pe(l,t,c),b(t,n),b(n,r),b(n,i),i.innerHTML=wi,b(n,s)},p:ce,i:ce,o:ce,d:function(l){l&&ue(t)}};return te("SvelteRegisterBlock",{block:o,id:du.name,type:"if",source:"(166:4) {#if favoritesStoreValue.favTrees.length === 0}",ctx:e}),o}function zs(e,t){let n,r,i,s,o,a=ce,l;r=new cu({props:{favTree:t[10],favoritesStore:t[0],pinnedTreeStore:t[1]},$$inline:!0});const c={key:e,first:null,c:function(){n=A("div"),ut(r.$$.fragment),i=Z(),S(n,"class","tree-wrapper svelte-1a60hd0"),D(n,Be,176,10,4785),this.first=n},m:function(f,h){pe(f,n,h),Ke(r,n,null),b(n,i),l=!0},p:function(f,h){t=f;const d={};h&16&&(d.favTree=t[10]),h&1&&(d.favoritesStore=t[0]),h&2&&(d.pinnedTreeStore=t[1]),r.$set(d)},r:function(){o=n.getBoundingClientRect()},f:function(){Xu(n),a(),cl(n,o)},a:function(){a(),a=Gu(n,o,uu,{duration:300})},i:function(f){l||(ye(r.$$.fragment,f),s&&s.end(1),l=!0)},o:function(f){Se(r.$$.fragment,f),s=pl(n,ui,{duration:200}),l=!1},d:function(f){f&&ue(n),$e(r),f&&s&&s.end()}};return te("SvelteRegisterBlock",{block:c,id:zs.name,type:"each",source:"(176:8) {#each favoritesStoreValue.favTrees as favTree (favTree.pinnedTree.treeID)}",ctx:t}),c}function Is(e){let t,n,r,i,s,o,a,l,c,u,f,h,d,v=e[2]&&Ls(e);const g={c:function(){t=A("div"),n=A("div"),r=A("div"),i=A("div"),i.textContent="My Favorite Trees",s=Z(),o=A("div"),a=A("div"),l=Z(),c=A("div"),u=Z(),v&&v.c(),S(i,"class","title"),D(i,Be,149,6,3946),S(a,"class","svg-icon svelte-1a60hd0"),D(a,Be,151,8,4023),S(c,"class","svg-icon close-icon svelte-1a60hd0"),D(c,Be,157,8,4185),S(o,"class","icons svelte-1a60hd0"),D(o,Be,150,6,3995),S(r,"class","header-title svelte-1a60hd0"),D(r,Be,148,4,3913),S(n,"class","header svelte-1a60hd0"),D(n,Be,147,2,3888),S(t,"class","favorites-panel svelte-1a60hd0"),ve(t,"shown",e[4].shown),D(t,Be,142,0,3787)},l:function(m){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(m,y){pe(m,t,y),b(t,n),b(n,r),b(r,i),b(r,s),b(r,o),b(o,a),a.innerHTML=hu,b(o,l),b(o,c),c.innerHTML=yi,b(t,u),v&&v.m(t,null),e[8](t),f=!0,h||(d=[ae(a,"click",e[7],!1,!1,!1),ae(c,"click",e[5],!1,!1,!1)],h=!0)},p:function(m,[y]){m[2]?v?(v.p(m,y),y&4&&ye(v,1)):(v=Ls(m),v.c(),ye(v,1),v.m(t,null)):v&&(en(),Se(v,1,1,()=>{v=null}),tn()),y&16&&ve(t,"shown",m[4].shown)},i:function(m){f||(ye(v),f=!0)},o:function(m){Se(v),f=!1},d:function(m){m&&ue(t),v&&v.d(),e[8](null),h=!1,Pe(d)}};return te("SvelteRegisterBlock",{block:g,id:Is.name,type:"component",source:"",ctx:e}),g}function fm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("FavoritesPanel",r,[]);let{favoritesStore:s=null}=t,{pinnedTreeStore:o=null}=t,a=null,l=!1,c=!1,u=nn();Te(()=>{n(6,l=!0)});const f=()=>{s&&o&&s.subscribe(p=>{n(4,u=p)}),n(2,c=!0)},h=p=>{p.stopPropagation(),p.preventDefault(),n(4,u.shown=!1,u),s==null||s.set(u)},d=["favoritesStore","pinnedTreeStore"];Object.keys(t).forEach(p=>{!~d.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&console.warn(`<FavoritesPanel> was created with unknown prop '${p}'`)});const v=p=>Oa(p,u);function g(p){Ne[p?"unshift":"push"](()=>{a=p,n(3,a)})}return e.$$set=p=>{"favoritesStore"in p&&n(0,s=p.favoritesStore),"pinnedTreeStore"in p&&n(1,o=p.pinnedTreeStore)},e.$capture_state=()=>({FavoritesRow:cu,downloadClicked:Oa,getFavoritesStoreDefaultValue:nn,onMount:Te,flip:uu,fade:ui,closeIcon:yi,downloadIcon:hu,heartDemoIcon:wi,favoritesStore:s,pinnedTreeStore:o,component:a,mounted:l,initialized:c,favoritesStoreValue:u,initView:f,closeClicked:h}),e.$inject_state=p=>{"favoritesStore"in p&&n(0,s=p.favoritesStore),"pinnedTreeStore"in p&&n(1,o=p.pinnedTreeStore),"component"in p&&n(3,a=p.component),"mounted"in p&&n(6,l=p.mounted),"initialized"in p&&n(2,c=p.initialized),"favoritesStoreValue"in p&&n(4,u=p.favoritesStoreValue)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&71&&s&&o&&l&&!c&&f()},[s,o,c,a,u,h,l,v,g]}class pu extends nt{constructor(t){super(t);et(this,t,fm,Is,Ge,{favoritesStore:0,pinnedTreeStore:1},hm),te("SvelteRegisterComponent",{component:this,tagName:"FavoritesPanel",options:t,id:Is.name})}get favoritesStore(){throw new Error("<FavoritesPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<FavoritesPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<FavoritesPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<FavoritesPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ba=R.format(",.3~f"),Ya="slider-left-thumb",Ga="slider-right-thumb",Xi=268,Zi=16,ot=8,Qi={default:6,original:6*1.8};var ti,gu,ni,mu,ri,vu,xt,Bt,Un,Fs,On,js,Bn,Ps,ii,wu,si,yu,oi,bu,ai,xu,li,_u,ci,Su;class Xa{constructor(t,n,r,i){ge(this,ti);ge(this,ni);ge(this,ri);ge(this,xt);ge(this,Un);ge(this,On);ge(this,Bn);ge(this,ii);ge(this,si);ge(this,oi);ge(this,ai);ge(this,li);ge(this,ci);V(this,"component");V(this,"accuracyRow");V(this,"accuracySVG",null);V(this,"heightRow");V(this,"heightSVG",null);V(this,"data");V(this,"treeMapMap");V(this,"accuracyDensities");V(this,"heightDensities");V(this,"accuracyXScale");V(this,"accuracyYScale");V(this,"densityClip");V(this,"heightXScale");V(this,"heightYScale");V(this,"searchStore");V(this,"searchStoreValue");V(this,"curAccuracyLow");V(this,"curAccuracyHigh");V(this,"accuracyLow");V(this,"accuracyHigh");V(this,"searchUpdated");V(this,"refreshAccuracy",()=>{ne(this,xt,Bt).call(this,"slider-left-thumb",this.accuracyLow),ne(this,xt,Bt).call(this,"slider-right-thumb",this.accuracyHigh)});V(this,"refreshHeight",()=>{var t;console.log("refreshing height");for(const n of this.heightXScale.domain()){const r=R.select(this.component).select(`#height-checkbox-${n}`);r.property("checked")||((t=this.heightSVG)==null||t.select(`#bar-${n}`).classed("selected",!0),r.property("checked",!0),this.searchStoreValue.curHeightRange.add(n))}this.searchStore.set(this.searchStoreValue)});V(this,"refreshDepth",t=>{const n=R.select(this.component).select(`#level-row-${t} .level-content`),r=this.searchStoreValue.curDepthFeatures.get(t);if(r===void 0){console.warn(`Unknown depth ${t}`);return}for(const i of this.searchStoreValue.featureOrder){const s=n.select(`#depth-check-box-label-${t}-${i}`).select(".depth-checkbox");s.property("checked")||(s.property("checked",!0),r.add(i))}this.searchStoreValue.curDepthFeatures.set(t,r),this.searchStore.set(this.searchStoreValue)});this.component=t,this.searchUpdated=r,this.searchStore=i,this.searchStoreValue=rn(),this.searchStore.subscribe(o=>{this.searchStoreValue=o,this.searchUpdated()}),this.accuracyRow=R.select(t).select(".accuracy-row"),this.heightRow=R.select(t).select(".height-row"),this.curAccuracyLow=0,this.curAccuracyHigh=1,this.accuracyLow=0,this.accuracyHigh=1,this.data=n,this.treeMapMap=new Map,Object.keys(n.treeMap).forEach(o=>{this.treeMapMap.set(+o,n.treeMap[+o])});const s=ne(this,ti,gu).call(this);this.accuracyDensities=s.accuracyDensities,this.heightDensities=s.heightDensities,this.accuracyXScale=R.scaleLinear(),this.accuracyYScale=R.scaleLinear(),this.densityClip=null,this.accuracySVG=ne(this,ni,mu).call(this),ne(this,ri,vu).call(this),this.heightXScale=R.scaleBand(),this.heightYScale=R.scaleLinear(),this.heightSVG=ne(this,ii,wu).call(this),ne(this,si,yu).call(this),ne(this,ai,xu).call(this)}}ti=new WeakSet,gu=function(){const t=[];for(const h in this.data.treeMap)t.push(this.data.treeMap[h][2]);const n=t.length,r=50,i=R.bin().thresholds(r)(t),s=[];i.forEach(h=>{s.push({x:h.x0===void 0?0:h.x0,y:h.length/n})});const o=s[1].x-s[0].x;s.unshift({x:s[0].x-o,y:0}),s.push({x:s.slice(-1)[0].x+o,y:0}),this.curAccuracyLow=s[0].x,this.curAccuracyHigh=s.slice(-1)[0].x,this.accuracyLow=this.curAccuracyLow,this.accuracyHigh=this.curAccuracyHigh;const a=new Map;R.hierarchy(this.data.trie,h=>h.c).eachBefore(h=>{if(h.data.t!==void 0){const d=h.data.t;a.has(d)?a.set(d,Math.max(a.get(d),h.depth)):a.set(d,h.depth)}});const c=new Map;for(const[h,d]of this.treeMapMap){const v=new Map;R.hierarchy(d[0],p=>p.c).each(p=>{p.data.f[0]!=="+"&&p.data.f[0]!=="-"&&(v.has(p.depth+1)?v.get(p.depth+1).add(parseInt(p.data.f[0])):v.set(p.depth+1,new Set([parseInt(p.data.f[0])])))}),c.set(h,v)}const u=new Map;Array.from(a.values()).forEach(h=>{u.has(h)?u.set(h,u.get(h)+1):u.set(h,1)});const f=[];return u.forEach((h,d)=>{f.push({x:d,y:h/n})}),f.sort((h,d)=>h.x-d.x),this.searchStoreValue.treeHeightMap=a,this.searchStoreValue.treeDepthFeaturesMap=c,this.searchStore.set(this.searchStoreValue),{accuracyDensities:s,heightDensities:f}},ni=new WeakSet,mu=function(){const t=Xi-Zi*2,n=30,r=55,i=15,s=r+i+n,o=this.accuracyRow.select(".svg-accuracy").attr("width",t).attr("height",s),a={top:0,left:ot,right:ot,bottom:0,histTop:2},l=t-a.left-a.right;o.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",r-a.top).style("fill","none").style("stroke",_e.colors["gray-300"]);const c=o.append("g").attr("class","hist-group").attr("transform",`translate(${ot}, ${a.top})`);this.accuracyXScale=R.scaleLinear().domain([this.accuracyDensities[0].x,this.accuracyDensities.slice(-1)[0].x]).range([0,l]);const u=Math.max(...this.accuracyDensities.map(C=>C.y));this.accuracyYScale=R.scaleLinear().domain([0,u]).range([r-a.bottom-a.top,a.histTop]);const f=R.line().curve(R.curveBasis).x(C=>this.accuracyXScale(C.x)).y(C=>this.accuracyYScale(C.y)),d=c.append("path").attr("class","area-path").datum(this.accuracyDensities).attr("d",f).clone(!0).classed("selected",!0);this.densityClip=c.append("clipPath").attr("id","accuracy-density-clip").append("rect").style("fill","hsla(100, 50%, 50%, 0.1)").attr("x",this.accuracyXScale(this.curAccuracyLow)).attr("width",this.accuracyXScale(this.curAccuracyHigh)-this.accuracyXScale(this.curAccuracyLow)).attr("height",r),d.attr("clip-path","url(#accuracy-density-clip)");const v=o.append("g").attr("class","tick-group").attr("transform",`translate(${ot}, ${r+i})`),g=v.append("g").attr("class","tick-back-group"),p=v.append("g").attr("class","tick-top-group"),m=30,y=[],w=this.accuracyDensities[1].x-this.accuracyDensities[0].x,_=this.accuracyLow+w,k=this.accuracyHigh;for(let C=0;C<=m;C++)y.push(_+(k-_)*C/m);return p.selectAll("g.tick").data(y).join("g").attr("class","tick").attr("transform",C=>`translate(${this.accuracyXScale(C)}, 0)`).append("line").attr("y2",Qi.default),ne(this,Bn,Ps).call(this),g.append("text").attr("class","label-min-value").attr("x",-4).attr("y",Qi.default*2.2).style("text-anchor","start").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",_e.colors["gray-500"]).text(Ba(this.accuracyLow)),g.append("text").attr("class","label-max-value").attr("x",l+4).attr("y",Qi.default*2.2).style("text-anchor","end").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",_e.colors["gray-500"]).text(Ba(this.accuracyHigh)),o},ri=new WeakSet,vu=function(){ne(this,xt,Bt).call(this,Ya,this.curAccuracyLow),ne(this,xt,Bt).call(this,Ga,this.curAccuracyHigh),this.accuracyRow.select(`#${Ya}`).on("mousedown",t=>ne(this,Un,Fs).call(this,t)),this.accuracyRow.select(`#${Ga}`).on("mousedown",t=>ne(this,Un,Fs).call(this,t)),ne(this,On,js).call(this)},xt=new WeakSet,Bt=function(t,n){switch(n=Math.min(Math.max(n,this.accuracyLow),this.accuracyHigh),n=vi(n,3),t){case"slider-left-thumb":n=Math.min(this.curAccuracyHigh,n);break;case"slider-right-thumb":n=Math.max(this.curAccuracyLow,n);break;default:console.warn("Unknown thumb type in moveThumb()");break}const r=this.accuracyRow.select(`#${t}`).attr("data-curValue",n),i=Xi-2*Zi-2*ot;let s=(n-this.accuracyLow)/(this.accuracyHigh-this.accuracyLow)*i;switch(t){case"slider-left-thumb":s-=ot,this.curAccuracyLow=n,this.searchStoreValue.curAccuracyLow=this.curAccuracyLow;break;case"slider-right-thumb":this.curAccuracyHigh=n,this.searchStoreValue.curAccuracyHigh=this.curAccuracyHigh;break;default:console.warn("Unknown thumb type in moveThumb()");break}this.searchStore.set(this.searchStoreValue),r.style("left",`${s}px`),ne(this,On,js).call(this),ne(this,Bn,Ps).call(this),this.searchUpdated()},Un=new WeakSet,Fs=function(t){t.preventDefault(),t.stopPropagation();const n=t.target;if(n===null||!n.id.includes("thumb"))return;const r=n.parentNode,i=r.getBoundingClientRect().width;n.focus();const s=a=>{a.preventDefault(),a.stopPropagation();const l=a.pageX-r.getBoundingClientRect().x,c=this.accuracyLow+(this.accuracyHigh-this.accuracyLow)*l/i;ne(this,xt,Bt).call(this,n.id,c)},o=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o),document.body.style.cursor="default",n.blur()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",o),document.body.style.cursor="grabbing"},On=new WeakSet,js=function(){const t=this.accuracyRow.select("#slider-left-thumb"),n=this.accuracyRow.select("#slider-right-thumb"),r=parseFloat(t.style("left")),s=parseFloat(n.style("left"))-r;this.accuracyRow.select(".track .range-track").style("left",`${r+ot}px`).style("width",`${s}px`),this.densityClip!==null&&this.densityClip.attr("x",this.accuracyXScale(this.curAccuracyLow)).attr("width",this.accuracyXScale(this.curAccuracyHigh)-this.accuracyXScale(this.curAccuracyLow))},Bn=new WeakSet,Ps=function(){if(this.accuracySVG===null)return;const t=this.accuracySVG.select("g.tick-top-group").selectAll("g.tick");t.filter(n=>n>=this.curAccuracyLow&&n<=this.curAccuracyHigh).classed("out-range",!1),t.filter(n=>n<this.curAccuracyLow||n>this.curAccuracyHigh).classed("out-range",!0),this.curAccuracyHigh===this.curAccuracyLow&&this.accuracySVG.select("g.tick-top-group").selectAll("g.tick").classed("out-range",!0)},ii=new WeakSet,wu=function(){const t=Xi-Zi*2,n=0,r=55,s=r+0+n,o=this.heightRow.select(".svg-height").attr("width",t).attr("height",s),a={top:0,left:ot,right:ot,bottom:0,histTop:20},l=t-a.left-a.right;o.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",r-a.top).style("fill","none").style("stroke",_e.colors["gray-300"]);const c=o.append("g").attr("class","hist-group").attr("transform",`translate(${ot}, ${a.top})`);this.heightXScale=R.scaleBand().domain(this.heightDensities.map(d=>d.x)).range([0,l]).paddingInner(.35);const u=Math.max(...this.heightDensities.map(d=>d.y));this.heightYScale=R.scaleLinear().domain([0,u]).range([r-a.bottom-a.top,a.histTop]);const f=c.selectAll("g.bar").data(this.heightDensities).join("g").attr("class","bar selected").attr("id",d=>`bar-${d.x}`).attr("transform",d=>`translate(${this.heightXScale(d.x)}, ${0})`);return f.append("rect").attr("x",0).attr("y",d=>this.heightYScale(d.y)).attr("width",this.heightXScale.bandwidth()).attr("height",d=>this.heightYScale(0)-this.heightYScale(d.y)),f.append("text").attr("x",this.heightXScale.bandwidth()/2).attr("y",d=>this.heightYScale(d.y)-5).append("tspan").text(d=>`(${R.format(".0%")(d.y)})`),f.append("title").text(d=>`Height: ${d.x} (${R.format(".4%")(d.y)})`),this.searchStoreValue.curHeightRange=new Set(this.heightXScale.domain()),this.searchStore.set(this.searchStoreValue),o},si=new WeakSet,yu=function(){const t=R.select(this.component).select(".height-checkboxes");this.heightDensities.forEach(n=>{t.append("label").attr("class","height-checkbox-label").attr("for",`height-checkbox-${n.x}`).text(n.x).style("left",`${this.heightXScale(n.x)+this.heightXScale.bandwidth()/2+13}px`),t.append("input").attr("type","checkbox").property("checked",!0).attr("class","height-checkbox").attr("id",`height-checkbox-${n.x}`).style("left",`${this.heightXScale(n.x)+this.heightXScale.bandwidth()/2-4}px`).on("change",i=>ne(this,oi,bu).call(this,i,n.x))})},oi=new WeakSet,bu=function(t,n){var i;t.preventDefault();const r=t.target;(i=this.heightSVG)==null||i.select(`#bar-${n}`).classed("selected",r.checked),r.checked?this.searchStoreValue.curHeightRange.add(n):this.searchStoreValue.curHeightRange.delete(n),this.searchStore.set(this.searchStoreValue)},ai=new WeakSet,xu=async function(){await Ks();for(const t of this.searchStoreValue.curDepthFeatures.keys())ne(this,ci,Su).call(this,t)},li=new WeakSet,_u=function(t,n,r){t.preventDefault();const i=t.target,s=this.searchStoreValue.curDepthFeatures.get(n);if(s===void 0){console.error(`Unknown depth ${n}`);return}i.checked?s.add(r):s.delete(r),this.searchStoreValue.curDepthFeatures.set(n,s),this.searchStore.set(this.searchStoreValue)},ci=new WeakSet,Su=function(t){const n=R.select(this.component).select(`#level-row-${t} .level-content`);this.searchStoreValue.featureOrder.forEach(r=>{var c,u;const i=n.append("label").attr("class","depth-checkbox-label").attr("id",`depth-check-box-label-${t}-${r}`),s=i.append("input").attr("type","checkbox").property("checked",!0).attr("class","depth-checkbox");let o=this.searchStoreValue.featureMap.get(r);o===void 0&&(o=["","",""],console.error(`Cannot find feature ${r} in featureMap`)),i.append("span").text(`${o[2]} ${o[1]}`),i.attr("title",`Show/hide trees using "${o[0]} ${o[1]}" at depth ${t}`);let a="initial";const l=(u=(c=this.searchStoreValue).getFeatureColor)==null?void 0:u.call(c,String(r));l!==void 0&&(a=l),s.style("accent-color",a),s.on("change",f=>ne(this,li,_u).call(this,f,t,r))})};var ku=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 75 131" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-907,-4228)">
        <g transform="matrix(1,0,0,1.4297,0,4061.32)">
            <g transform="matrix(1.93064,0,0,1.35038,-2646,-5771.08)">
                <g id="range-thumb-right">
                    <path d="M1840.41,4360.03L1878.97,4360.03L1878.97,4427.36L1840.41,4403.12L1840.41,4360.03Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,Tu=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 76 131" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-808,-4228)">
        <g transform="matrix(1,0,0,1.4297,0,4061.32)">
            <g transform="matrix(1.93064,0,0,1.35038,-2744.28,-5771.08)">
                <g id="range-thumb-left">
                    <path d="M1840.41,4360.03L1878.97,4360.03L1878.97,4403.12L1840.41,4427.36L1840.41,4360.03Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,Mu='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"/></svg>',Nr='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208 114.69 0 208-93.31 208-208 0-114.87-93.13-208-208-208zm0 313a94 94 0 010-188h4.21l-14.11-14.1a14 14 0 0119.8-19.8l40 40a14 14 0 010 19.8l-40 40a14 14 0 01-19.8-19.8l18-18c-2.38-.1-5.1-.1-8.1-.1a66 66 0 1066 66 14 14 0 0128 0 94.11 94.11 0 01-94 94z"/></svg>';const{Object:dm,console:pm}=$s,re="src/components/search-panel/SearchPanel.svelte";function gm(e){dt(e,"svelte-oi7qxj",`@use 'sass:math';.search-panel.svelte-oi7qxj.svelte-oi7qxj{display:none;flex-direction:column;align-items:center;width:268px;min-height:300px;max-height:615px;border-radius:5px;background-color:#fcfcfc;user-select:none;-webkit-user-select:none}.search-panel.shown.svelte-oi7qxj.svelte-oi7qxj{display:flex}.header.svelte-oi7qxj.svelte-oi7qxj{height:32px;width:100%;flex-shrink:0;background-color:#424242;border-top-left-radius:5px;border-top-right-radius:5px;color:#fcfcfc;padding:0px 16px;display:flex;align-items:center;justify-content:flex-start}.header.svelte-oi7qxj .header-title.svelte-oi7qxj{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;cursor:default;user-select:none;-webkit-user-select:none}.header.svelte-oi7qxj .header-title .icons.svelte-oi7qxj{display:flex;flex-direction:row;align-items:center;gap:4px}.header.svelte-oi7qxj .header-title .icons .svg-icon.svelte-oi7qxj{display:flex;align-items:center;justify-content:center;color:#bdbdbd;fill:#bdbdbd;cursor:pointer;pointer-events:fill}.header.svelte-oi7qxj .header-title .icons .svg-icon.svelte-oi7qxj svg{width:1rem;height:1rem}.header.svelte-oi7qxj .header-title .icons .svg-icon.close-icon.svelte-oi7qxj svg{width:1.0625rem;height:1.0625rem}.header.svelte-oi7qxj .header-title .icons .svg-icon.svelte-oi7qxj:hover{color:#fafafa;fill:#fafafa}.header.svelte-oi7qxj .header-title .icons .svg-icon.svelte-oi7qxj:active{color:white;fill:white}.search-list.svelte-oi7qxj.svelte-oi7qxj{display:flex;flex-direction:column;align-items:stretch;gap:10px;flex-grow:1;width:100%;overflow-y:auto;overflow-x:hidden;padding:5px 0;font-size:0.9375rem}.search-list.svelte-oi7qxj .row.svelte-oi7qxj{position:relative;padding:0 16px;border-bottom:1px solid rgba(0, 0, 0, 0.08)}.search-list.svelte-oi7qxj .row .row-title.svelte-oi7qxj{font-weight:500;display:flex;justify-content:space-between;align-items:center;width:100%;padding-bottom:2px}.search-list.svelte-oi7qxj .row .title-icons.svelte-oi7qxj{display:flex;align-items:center;gap:3px}.search-list.svelte-oi7qxj .row .title-icon.svelte-oi7qxj{display:flex;align-items:center;justify-content:center;color:#bdbdbd;fill:#bdbdbd;cursor:pointer;pointer-events:fill;transition:color cubic-bezier(0.645, 0.045, 0.355, 1) 100ms, fill cubic-bezier(0.645, 0.045, 0.355, 1) 100ms, transform cubic-bezier(0.645, 0.045, 0.355, 1) 100ms}.search-list.svelte-oi7qxj .row .title-icon.svelte-oi7qxj svg{width:0.875rem;height:0.875rem}.search-list.svelte-oi7qxj .row .title-icon.svelte-oi7qxj:hover{color:#9e9e9e;fill:#9e9e9e}.search-list.svelte-oi7qxj .row .title-icon.svelte-oi7qxj:active{color:#616161;fill:#616161}.search-list.svelte-oi7qxj .row .title-icon.refresh-button.svelte-oi7qxj svg{width:1.125rem;height:1.125rem}.search-list.svelte-oi7qxj .row.svelte-oi7qxj:last-child{border-bottom:none}.accuracy-row.svelte-oi7qxj.svelte-oi7qxj{display:flex;flex-direction:column;align-items:flex-start}.accuracy-row.svelte-oi7qxj .accuracy-content.svelte-oi7qxj{width:100%;position:relative}.feature-hist.svelte-oi7qxj.svelte-oi7qxj{position:relative;width:100%}.feature-slider.svelte-oi7qxj.svelte-oi7qxj{position:absolute;top:60px;width:100%;display:flex;flex-direction:column;z-index:1}.feature-slider.svelte-oi7qxj .track.svelte-oi7qxj{width:calc(100% - 16px);background-color:#eeeeee;border-top:1px solid white;border-bottom:1px solid white;position:absolute;left:8px;height:8px}.feature-slider.svelte-oi7qxj .track .range-track.svelte-oi7qxj{position:absolute;height:6px;background-color:#c8e6c8}.feature-slider.svelte-oi7qxj .svg-icon.thumb.svelte-oi7qxj{position:absolute;padding:0;margin:0px;bottom:-11px;color:#43a046;fill:#43a046;cursor:grab}.feature-slider.svelte-oi7qxj .svg-icon.thumb.svelte-oi7qxj svg{width:8px}.feature-slider.svelte-oi7qxj .svg-icon.thumb.svelte-oi7qxj::before{content:'';display:inline-block;position:absolute;z-index:1;width:5px;height:5px;border-radius:50%;background:currentColor;opacity:0.2;left:50%;top:50%;margin-top:-2.5px;margin-left:-2.5px;-webkit-backface-visibility:hidden;-webkit-transform:translateZ(0);transform:scale(0.1);transition:transform 300ms ease-in-out}.feature-slider.svelte-oi7qxj .svg-icon.thumb.svelte-oi7qxj:hover::before{transform:scale(5)}.feature-slider.svelte-oi7qxj .svg-icon.thumb:hover .thumb-label.svelte-oi7qxj{transition-delay:200ms;transform:translateX(-50%) translateY(100%) scale(1)}.feature-slider.svelte-oi7qxj .svg-icon.thumb.svelte-oi7qxj:focus{cursor:grabbing;outline:none}.feature-slider.svelte-oi7qxj .svg-icon.thumb.svelte-oi7qxj:focus::before{transform:scale(7)}.feature-slider.svelte-oi7qxj .svg-icon.thumb:focus .thumb-label.svelte-oi7qxj{transform:translateX(-50%) translateY(100%) scale(1)}.thumb-label.svelte-oi7qxj.svelte-oi7qxj{position:absolute;top:5px;left:50%;font-size:0.8rem;font-variant:font-variant-numeric;border-radius:2px;line-height:1.2;white-space:nowrap;background-color:#9e9e9e;color:white;-webkit-backface-visibility:hidden;-webkit-transform:translateZ(0);transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transform-origin:top center;transform:translateX(-50%) translateY(100%) scale(0);display:flex;align-items:center;justify-content:center;padding:0.25rem}.thumb-label.svelte-oi7qxj.svelte-oi7qxj::before{position:absolute;content:'';width:8px;height:8px;bottom:0;left:50%;transform:translate(-50%, -220%) rotate(45deg);background-color:inherit}.svg-accuracy.svelte-oi7qxj .area-path{fill:#e0e0e0}.svg-accuracy.svelte-oi7qxj .area-path.selected{fill:#43a046}.svg-accuracy.svelte-oi7qxj .tick line{stroke:#c8e6c8;-webkit-backface-visibility:hidden;-webkit-transform:translateZ(0);transform:scaleY(1.8);transition:transform 300ms ease-in-out}.svg-accuracy.svelte-oi7qxj .tick.out-range line{stroke:#eeeeee;transform:scaleY(1)}.height-content.svelte-oi7qxj.svelte-oi7qxj{display:flex;flex-direction:column;gap:5px}.height-content.svelte-oi7qxj .feature-hist.svelte-oi7qxj{display:flex}.height-content.svelte-oi7qxj .height-checkboxes.svelte-oi7qxj{width:100%;height:25px;position:relative}.height-content.svelte-oi7qxj .height-checkboxes.svelte-oi7qxj .height-checkbox{position:absolute;accent-color:#43a046}.height-content.svelte-oi7qxj .height-checkboxes.svelte-oi7qxj .height-checkbox-label{position:absolute;font-size:0.9em;color:#9e9e9e;line-height:1}.svg-height.svelte-oi7qxj .bar rect{fill:#e0e0e0;transition:fill 100ms}.svg-height.svelte-oi7qxj .bar.selected rect{fill:#43a046}.svg-height.svelte-oi7qxj .bar text{font-size:11px;text-anchor:middle;fill:#bdbdbd;user-select:none;-webkit-user-select:none;font-variant:font-variant-numeric;transition:fill 100ms}.svg-height.svelte-oi7qxj .bar.selected text{fill:#66bb69}.svg-height.svelte-oi7qxj .bar.selected .text-height{font-weight:800}.level-row.svelte-oi7qxj .level-summary.svelte-oi7qxj{font-size:0.875rem;color:#9e9e9e;line-height:1;padding:2px 0 12px 0;display:flex}.level-row.svelte-oi7qxj .level-content.svelte-oi7qxj{display:flex;flex-direction:row;column-gap:9px;row-gap:7px;flex-wrap:wrap;font-size:0.8125rem;padding:6px 0 12px 0;display:none}.level-row.svelte-oi7qxj .level-content.svelte-oi7qxj .depth-checkbox{margin:0}.level-row.svelte-oi7qxj .level-content.svelte-oi7qxj .depth-checkbox-label{line-height:1.2}.level-row.svelte-oi7qxj .level-content.svelte-oi7qxj .depth-checkbox-label span{padding-left:4px;line-height:1;color:#616161}.level-row.svelte-oi7qxj .title-icon.refresh-button.svelte-oi7qxj{display:none;animation:svelte-oi7qxj-fade-in 100ms cubic-bezier(0.645, 0.045, 0.355, 1)}.level-row.svelte-oi7qxj .detail-button.svelte-oi7qxj{transform:rotate(0deg)}.level-row.show-detail.svelte-oi7qxj .level-summary.svelte-oi7qxj{display:none}.level-row.show-detail.svelte-oi7qxj .level-content.svelte-oi7qxj{display:flex}.level-row.show-detail.svelte-oi7qxj .detail-button.svelte-oi7qxj{transform:rotate(180deg)}.level-row.show-detail.svelte-oi7qxj .refresh-button.svelte-oi7qxj{display:flex}@keyframes svelte-oi7qxj-fade-in{from{opacity:0}to{opacity:1}}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VhcmNoUGFuZWwuc3ZlbHRlIiwibWFwcGluZ3MiOiJBQXdIa0IsS0FBQSxXQUFBLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiU2VhcmNoUGFuZWwuc3ZlbHRlIl19 */`)}function Za(e,t,n){const r=e.slice();return r[20]=t[n],r}function Es(e){var P,E,L,q;let t,n,r,i=`Depth ${e[20]}`,s,o,a,l,c,u,f,h,d=((P=e[3].curDepthFeatures.get(e[20]))==null?void 0:P.size)===Object.keys((E=e[0])==null?void 0:E.featureMap).length?"Include all features":`Include ${(L=e[3].curDepthFeatures.get(e[20]))==null?void 0:L.size} out of ${Object.keys((q=e[0])==null?void 0:q.featureMap).length} features`,v,g,p,m,y,w,_;function k(...j){return e[15](e[20],...j)}function C(...j){return e[16](e[20],...j)}const z={c:function(){t=A("div"),n=A("div"),r=A("span"),s=me(i),o=Z(),a=A("div"),l=A("span"),c=Z(),u=A("span"),f=Z(),h=A("div"),v=me(d),g=Z(),p=A("div"),m=Z(),D(r,re,514,10,14087),S(l,"class","title-icon refresh-button svelte-oi7qxj"),S(l,"title","Reset the filter"),D(l,re,516,12,14167),S(u,"class","title-icon detail-button svelte-oi7qxj"),S(u,"title","Show details"),S(u,"data-detail","false"),D(u,re,524,12,14419),S(a,"class","title-icons svelte-oi7qxj"),D(a,re,515,10,14129),S(n,"class","row-title svelte-oi7qxj"),D(n,re,513,8,14053),S(h,"class","level-summary svelte-oi7qxj"),D(h,re,534,8,14700),S(p,"class","level-content svelte-oi7qxj"),D(p,re,542,8,15068),S(t,"class","row level-row svelte-oi7qxj"),S(t,"id",y=`level-row-${e[20]}`),ve(t,"show-detail",e[4].has(e[20])),D(t,re,508,6,13912)},m:function(M,x){pe(M,t,x),b(t,n),b(n,r),b(r,s),b(n,o),b(n,a),b(a,l),l.innerHTML=Nr,b(a,c),b(a,u),u.innerHTML=Mu,b(t,f),b(t,h),b(h,v),b(t,g),b(t,p),b(t,m),w||(_=[ae(l,"click",k,!1,!1,!1),ae(u,"click",C,!1,!1,!1)],w=!0)},p:function(M,x){var I,T,F,W;e=M,x&8&&i!==(i=`Depth ${e[20]}`)&&Re(s,i),x&9&&d!==(d=((I=e[3].curDepthFeatures.get(e[20]))==null?void 0:I.size)===Object.keys((T=e[0])==null?void 0:T.featureMap).length?"Include all features":`Include ${(F=e[3].curDepthFeatures.get(e[20]))==null?void 0:F.size} out of ${Object.keys((W=e[0])==null?void 0:W.featureMap).length} features`)&&Re(v,d),x&8&&y!==(y=`level-row-${e[20]}`)&&S(t,"id",y),x&24&&ve(t,"show-detail",e[4].has(e[20]))},d:function(M){M&&ue(t),w=!1,Pe(_)}};return te("SvelteRegisterBlock",{block:z,id:Es.name,type:"each",source:"(508:4) {#each [...searchStoreValue.curDepthFeatures.keys()] as depth}",ctx:e}),z}function Hs(e){var dn,pn;let t,n,r,i,s,o,a,l,c,u,f,h,d,v,g,p,m,y,w,_,k,C,z,P,E,L,q=e[6]((dn=e[2])==null?void 0:dn.curAccuracyLow)+"",j,M,x,I,T,F,W,O=e[6]((pn=e[2])==null?void 0:pn.curAccuracyHigh)+"",B,X,U,ie,$,se,le,Q,J,H,G,K,N,de,oe,we,ee,Y,he,Ee,be=[...e[3].curDepthFeatures.keys()];at(be);let ke=[];for(let We=0;We<be.length;We+=1)ke[We]=Es(Za(e,be,We));const fn={c:function(){t=A("div"),n=A("div"),r=A("div"),i=A("div"),i.textContent="Search Trees",s=Z(),o=A("div"),a=A("div"),l=Z(),c=A("div"),u=A("div"),f=A("div"),h=A("span"),h.textContent="Accuracy",d=Z(),v=A("div"),g=A("span"),p=Z(),m=A("div"),y=A("div"),w=A("div"),_=A("div"),k=Z(),C=A("div"),z=new es,P=Z(),E=A("div"),L=A("span"),j=me(q),M=Z(),x=A("div"),I=new es,T=Z(),F=A("div"),W=A("span"),B=me(O),X=Z(),U=A("div"),ie=$t("svg"),$=Z(),se=A("div"),le=A("div"),Q=A("span"),Q.textContent="Height",J=Z(),H=A("div"),G=A("span"),K=Z(),N=A("div"),de=A("div"),oe=$t("svg"),we=Z(),ee=A("div"),Y=Z();for(let De=0;De<ke.length;De+=1)ke[De].c();S(i,"class","title"),D(i,re,418,6,11319),S(a,"class","svg-icon close-icon svelte-oi7qxj"),D(a,re,420,8,11391),S(o,"class","icons svelte-oi7qxj"),D(o,re,419,6,11363),S(r,"class","header-title svelte-oi7qxj"),D(r,re,417,4,11286),S(n,"class","header svelte-oi7qxj"),D(n,re,416,2,11261),D(h,re,430,8,11627),S(g,"class","title-icon refresh-button svelte-oi7qxj"),S(g,"title","Reset the filter"),D(g,re,432,10,11693),S(v,"class","title-icons svelte-oi7qxj"),D(v,re,431,8,11657),S(f,"class","row-title svelte-oi7qxj"),D(f,re,429,6,11595),S(_,"class","range-track svelte-oi7qxj"),D(_,re,450,12,12184),z.a=P,S(L,"class","thumb-label-span"),D(L,re,459,16,12508),S(E,"class","thumb-label thumb-label-left svelte-oi7qxj"),D(E,re,458,14,12449),S(C,"id","slider-left-thumb"),S(C,"tabindex","-1"),$i(C,"left","0px"),S(C,"class","svg-icon icon-range-thumb-left thumb svelte-oi7qxj"),D(C,re,451,12,12224),I.a=T,S(W,"class","thumb-label-span"),D(W,re,472,16,12963),S(F,"class","thumb-label thumb-label-right svelte-oi7qxj"),D(F,re,471,14,12903),S(x,"id","slider-right-thumb"),S(x,"tabindex","-1"),$i(x,"left","0px"),S(x,"class","svg-icon icon-range-thumb-right thumb svelte-oi7qxj"),D(x,re,464,12,12675),S(w,"class","track svelte-oi7qxj"),D(w,re,449,10,12152),S(y,"class","feature-slider svelte-oi7qxj"),D(y,re,442,8,11989),S(ie,"class","svg-accuracy svelte-oi7qxj"),D(ie,re,481,10,13197),S(U,"class","feature-hist svelte-oi7qxj"),D(U,re,480,8,13160),S(m,"class","accuracy-content svelte-oi7qxj"),D(m,re,441,6,11950),S(u,"class","row accuracy-row svelte-oi7qxj"),D(u,re,428,4,11558),D(Q,re,488,8,13337),S(G,"class","title-icon refresh-button svelte-oi7qxj"),S(G,"title","Reset the filter"),D(G,re,490,10,13401),S(H,"class","title-icons svelte-oi7qxj"),D(H,re,489,8,13365),S(le,"class","row-title svelte-oi7qxj"),D(le,re,487,6,13305),S(oe,"class","svg-height svelte-oi7qxj"),D(oe,re,501,10,13730),S(de,"class","feature-hist svelte-oi7qxj"),D(de,re,500,8,13693),S(ee,"class","height-checkboxes svelte-oi7qxj"),D(ee,re,503,8,13780),S(N,"class","height-content svelte-oi7qxj"),D(N,re,499,6,13656),S(se,"class","row height-row svelte-oi7qxj"),D(se,re,486,4,13270),S(c,"class","search-list svelte-oi7qxj"),D(c,re,427,2,11528),S(t,"class","search-panel svelte-oi7qxj"),ve(t,"shown",e[3].shown),D(t,re,411,0,11166)},l:function(De){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(De,Vt){pe(De,t,Vt),b(t,n),b(n,r),b(r,i),b(r,s),b(r,o),b(o,a),a.innerHTML=yi,b(t,l),b(t,c),b(c,u),b(u,f),b(f,h),b(f,d),b(f,v),b(v,g),g.innerHTML=Nr,b(u,p),b(u,m),b(m,y),b(y,w),b(w,_),b(w,k),b(w,C),z.m(ku,C),b(C,P),b(C,E),b(E,L),b(L,j),b(w,M),b(w,x),I.m(Tu,x),b(x,T),b(x,F),b(F,W),b(W,B),b(m,X),b(m,U),b(U,ie),b(c,$),b(c,se),b(se,le),b(le,Q),b(le,J),b(le,H),b(H,G),G.innerHTML=Nr,b(se,K),b(se,N),b(N,de),b(de,oe),b(N,we),b(N,ee),b(c,Y);for(let Nt=0;Nt<ke.length;Nt+=1)ke[Nt].m(c,null);e[17](t),he||(Ee=[ae(a,"click",e[7],!1,!1,!1),ae(g,"click",e[13],!1,!1,!1),ae(y,"click",mm,!1,!1,!1),ae(G,"click",e[14],!1,!1,!1)],he=!0)},p:function(De,[Vt]){var Nt,To;if(Vt&4&&q!==(q=De[6]((Nt=De[2])==null?void 0:Nt.curAccuracyLow)+"")&&Re(j,q),Vt&4&&O!==(O=De[6]((To=De[2])==null?void 0:To.curAccuracyHigh)+"")&&Re(B,O),Vt&825){be=[...De[3].curDepthFeatures.keys()],at(be);let Ue;for(Ue=0;Ue<be.length;Ue+=1){const Mo=Za(De,be,Ue);ke[Ue]?ke[Ue].p(Mo,Vt):(ke[Ue]=Es(Mo),ke[Ue].c(),ke[Ue].m(c,null))}for(;Ue<ke.length;Ue+=1)ke[Ue].d(1);ke.length=be.length}Vt&8&&ve(t,"shown",De[3].shown)},i:ce,o:ce,d:function(De){De&&ue(t),Ji(ke,De),e[17](null),he=!1,Pe(Ee)}};return te("SvelteRegisterBlock",{block:fn,id:Hs.name,type:"component",source:"",ctx:e}),fn}const mm=e=>{e.preventDefault(),e.stopPropagation()};function vm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("SearchPanel",r,[]);let{data:s=null}=t,{searchStore:o=null}=t,a=null,l=!1,c=!1,u=null,f=rn(),h=new Set;var d;(function(L){L[L.Accuracy=0]="Accuracy",L[L.Height=1]="Height",L[L.Depth=2]="Depth"})(d||(d={}));const v=R.format(",.3f");Te(()=>{n(11,l=!0)});const g=()=>{n(2,u)},p=L=>{L.stopPropagation(),L.preventDefault(),n(3,f.shown=!1,f),o==null||o.set(f)},m=(L,q)=>{L.stopPropagation(),L.preventDefault();const j=L.currentTarget;j.dataset.detail==="false"?(j.dataset.detail="true",h.add(q)):(j.dataset.detail="false",h.delete(q)),n(4,h)},y=(L,q,j=null)=>{if(u!==null)switch(L.preventDefault(),q){case d.Accuracy:{u.refreshAccuracy();break}case d.Depth:{j!==null&&u.refreshDepth(j);break}case d.Height:{u.refreshHeight();break}default:console.warn("Unexpected case for refreshClicked()")}},w=()=>{n(12,c=!0),o&&a&&s&&(o.subscribe(L=>{n(3,f=L)}),n(2,u=new Xa(a,s,g,o)))},_=["data","searchStore"];dm.keys(t).forEach(L=>{!~_.indexOf(L)&&L.slice(0,2)!=="$$"&&L!=="slot"&&pm.warn(`<SearchPanel> was created with unknown prop '${L}'`)});const k=L=>y(L,d.Accuracy),C=L=>y(L,d.Height),z=(L,q)=>y(q,d.Depth,L),P=(L,q)=>m(q,L);function E(L){Ne[L?"unshift":"push"](()=>{a=L,n(1,a)})}return e.$$set=L=>{"data"in L&&n(0,s=L.data),"searchStore"in L&&n(10,o=L.searchStore)},e.$capture_state=()=>({d3:R,getSearchStoreDefaultValue:rn,onMount:Te,SearchPanel:Xa,closeIcon:yi,thumbLeftIcon:ku,thumbRightIcon:Tu,downIcon:Mu,refreshIcon:Nr,data:s,searchStore:o,component:a,mounted:l,initialized:c,searchPanel:u,searchStoreValue:f,depthWithDetails:h,RefreshLocation:d,formatter:v,searchUpdated:g,closeClicked:p,detailClicked:m,refreshClicked:y,initView:w}),e.$inject_state=L=>{"data"in L&&n(0,s=L.data),"searchStore"in L&&n(10,o=L.searchStore),"component"in L&&n(1,a=L.component),"mounted"in L&&n(11,l=L.mounted),"initialized"in L&&n(12,c=L.initialized),"searchPanel"in L&&n(2,u=L.searchPanel),"searchStoreValue"in L&&n(3,f=L.searchStoreValue),"depthWithDetails"in L&&n(4,h=L.depthWithDetails),"RefreshLocation"in L&&n(5,d=L.RefreshLocation)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&7171&&s&&o&&l&&!c&&a&&w()},[s,a,u,f,h,d,v,p,m,y,o,l,c,k,C,z,P,E]}class Cu extends nt{constructor(t){super(t);et(this,t,vm,Hs,Ge,{data:0,searchStore:10},gm),te("SvelteRegisterComponent",{component:this,tagName:"SearchPanel_1",options:t,id:Hs.name})}get data(){throw new Error("<SearchPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<SearchPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get searchStore(){throw new Error("<SearchPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set searchStore(t){throw new Error("<SearchPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class Qa{constructor(t,n,r,i){V(this,"component");V(this,"inputElem");V(this,"dropzoneUpdated");V(this,"initDataFromDropzone");V(this,"isDragging",!1);V(this,"dragElement",null);V(this,"errorMessage"," ");V(this,"clickHandler",()=>{var t;(t=this.inputElem)==null||t.click()});V(this,"dragEnterHandler",t=>{t.preventDefault(),this.isDragging=!0,this.dragElement=t.target,this.dropzoneUpdated()});V(this,"dragOverHandler",t=>{t.preventDefault()});V(this,"dragLeaveHandler",t=>{t.preventDefault(),this.dragElement===t.target&&(this.isDragging=!1,this.dropzoneUpdated())});V(this,"dropHandler",async t=>{var i;t.preventDefault();let n=null,r=null;(i=t.dataTransfer)!=null&&i.items?t.dataTransfer.items[0].kind==="file"&&(r=t.dataTransfer.items[0].getAsFile(),n=await this.validateFile(r)):(r=t.dataTransfer.files[0],n=await this.validateFile(r)),this.isDragging=!1,this.dropzoneUpdated(),n&&this.initDataFromDropzone(n)});V(this,"inputChanged",async t=>{t.preventDefault();let n=null;const r=t.target.files;if(r!==null){const i=r[0];n=await this.validateFile(i),console.log(n)}!n||this.initDataFromDropzone(n)});V(this,"inputClicked",()=>{});V(this,"readJSON",t=>new Promise((n,r)=>{const i=new FileReader;i.onload=()=>{i.result?n(JSON.parse(i.result)):n(null)},i.onerror=r,i.readAsText(t)}));V(this,"validateFile",async t=>t.type!=="application/json"?(this.errorMessage="It is not a JSON file",this.dropzoneUpdated(),null):await this.readJSON(t));this.component=t,this.inputElem=n,this.dropzoneUpdated=r,this.initDataFromDropzone=i}}var bi=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 346 346" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-5570,-6461)">
        <g transform="matrix(1.49616,0,0,1,-2856.48,922)">
            <g id="timbertrek-logo">
                <g transform="matrix(0.660497,0,0,0.988207,1497.7,1465.12)">
                    <circle cx="6434.56" cy="4297.56" r="174.558" style="fill:rgb(66,66,66);"/>
                    <path d="M6434.56,4123C6530.9,4123 6609.12,4201.22 6609.12,4297.56C6609.12,4393.9 6530.9,4472.12 6434.56,4472.12C6338.22,4472.12 6260,4393.9 6260,4297.56C6260,4201.22 6338.22,4123 6434.56,4123ZM6434.56,4131.31C6526.31,4131.31 6600.81,4205.81 6600.81,4297.56C6600.81,4389.31 6526.31,4463.81 6434.56,4463.81C6342.81,4463.81 6268.31,4389.31 6268.31,4297.56C6268.31,4205.81 6342.81,4131.31 6434.56,4131.31Z" style="fill:rgb(123,123,123);"/>
                </g>
                <g transform="matrix(0.628201,0,0,0.939888,2139.91,-523.818)">
                    <path d="M5691.27,6656.44L5660.64,6656.44L5742.98,6526.8L5823.36,6656.44L5792.72,6656.44L5820.76,6721.2L5742.66,6679.85L5663.24,6721.12L5691.27,6656.44ZM5742.89,6571.51L5742.89,6652.51L5790.28,6676.11L5742.89,6571.51Z" style="fill:white;"/>
                </g>
                <g>
                    <g transform="matrix(-0.445586,6.73401e-17,-1.13133e-16,-1.66667,8499.43,14925.7)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(1.15018e-15,-0.666667,1.11396,4.44089e-15,-410.51,9829)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(0.445586,3.52496e-15,-6.0106e-15,1.66667,2996,-3501.67)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(-3.52474e-15,0.666667,-1.11396,-1.33227e-14,11905.9,1595)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                </g>
                <g transform="matrix(0.668379,0,0,1,1554.3,-396)">
                    <g transform="matrix(-0.61592,-0.255122,0.637806,-1.5398,6551.69,16195.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.471405,-0.471405,1.17851,-1.17851,2670.11,15534.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.255122,-0.61592,1.5398,-0.637806,-662.81,13437.5)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.255122,-0.61592,1.5398,0.637806,-3813.83,6385.69)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.471405,-0.471405,1.17851,1.17851,-3152.2,2504.11)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.61592,-0.255122,0.637806,1.5398,-1055.53,-828.81)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.61592,0.255122,-0.637806,1.5398,5996.31,-3979.83)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.471405,0.471405,-1.17851,1.17851,9877.89,-3318.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.255122,0.61592,-1.5398,0.637806,13210.8,-1221.53)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.255122,0.61592,-1.5398,-0.637806,16361.8,5830.31)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.471405,0.471405,-1.17851,-1.17851,15700.2,9711.89)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.61592,0.255122,-0.637806,-1.5398,13603.5,13044.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                </g>
                <g transform="matrix(0.660497,0,0,0.988207,1497.7,1465.12)">
                    <path d="M6434.56,4123C6530.9,4123 6609.12,4201.22 6609.12,4297.56C6609.12,4393.9 6530.9,4472.12 6434.56,4472.12C6338.22,4472.12 6260,4393.9 6260,4297.56C6260,4201.22 6338.22,4123 6434.56,4123ZM6434.56,4135.65C6523.92,4135.65 6596.47,4208.2 6596.47,4297.56C6596.47,4386.92 6523.92,4459.47 6434.56,4459.47C6345.2,4459.47 6272.65,4386.92 6272.65,4297.56C6272.65,4208.2 6345.2,4135.65 6434.56,4135.65Z" style="fill:rgb(128,128,128);"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`;const bt="src/components/dropzone/Dropzone.svelte";function wm(e){dt(e,"svelte-1bmklt6",`@use 'sass:math';.dropzone-tab.svelte-1bmklt6.svelte-1bmklt6{height:100%;width:100%;display:flex;flex-direction:column;background-color:#fcfcfc;padding:12px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.dropzone.svelte-1bmklt6.svelte-1bmklt6{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;border:3px dashed #dbdbdb;border-radius:3px;transition:border 300ms ease-in-out;padding:0 10px;gap:18px}.dropzone.drag-over.svelte-1bmklt6.svelte-1bmklt6{border:3px dashed #64b7f6}.dropzone.svelte-1bmklt6 .svg-icon.svelte-1bmklt6{display:flex;align-items:center;justify-content:center;pointer-events:fill;opacity:0.2;margin-bottom:20px;animation:svelte-1bmklt6-circling 50000ms linear 0ms infinite}.dropzone.svelte-1bmklt6 .svg-icon.svelte-1bmklt6 svg{height:9rem}.drop-message.svelte-1bmklt6.svelte-1bmklt6{text-align:center;color:gray;cursor:default}.help-message.svelte-1bmklt6.svelte-1bmklt6{text-align:center;font-size:0.9em;color:gray;padding:2px 8px;background:rgba(21, 104, 192, 0.1);border-radius:5px}.help-message.svelte-1bmklt6.svelte-1bmklt6:hover{background:rgba(21, 104, 192, 0.2)}.help-message.svelte-1bmklt6:hover a.svelte-1bmklt6{text-decoration:none}.help-message.svelte-1bmklt6 a.svelte-1bmklt6{font-style:italic;color:#595959}.error-message.svelte-1bmklt6.svelte-1bmklt6{font-size:0.9em;color:#c75757;text-align:center;white-space:pre-wrap}@keyframes svelte-1bmklt6-circling{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRHJvcHpvbmUuc3ZlbHRlIiwibWFwcGluZ3MiOiJBQTJDa0IsS0FBQSxXQUFBLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRHJvcHpvbmUuc3ZlbHRlIl19 */`)}function Ns(e){var y;let t,n,r,i,s,o,a,l,c,u,f=((y=e[2])==null?void 0:y.errorMessage)+"",h,d,v,g,p;const m={c:function(){var _;t=A("div"),n=A("div"),r=A("div"),i=Z(),s=A("div"),s.textContent="Drop a Rashomon trie file (.json) here to start",o=Z(),a=A("div"),l=A("a"),l.textContent="How to generate this file?",c=Z(),u=A("span"),h=me(f),d=Z(),v=A("input"),S(r,"class","svg-icon svelte-1bmklt6"),D(r,bt,108,4,2586),S(s,"class","drop-message svelte-1bmklt6"),D(s,bt,111,4,2647),S(l,"href","https://gist.github.com/xiaohk/875b5374840c66689eb42a4b8820c3b5"),S(l,"target","_blank"),S(l,"class","svelte-1bmklt6"),D(l,bt,121,6,2849),S(a,"class","help-message svelte-1bmklt6"),D(a,bt,115,4,2744),S(u,"class","error-message svelte-1bmklt6"),D(u,bt,127,4,3009),S(v,"accept","json"),S(v,"type","file"),S(v,"autocomplete","off"),$i(v,"display","none"),D(v,bt,131,4,3086),S(n,"class","dropzone svelte-1bmklt6"),ve(n,"drag-over",(_=e[2])==null?void 0:_.isDragging),D(n,bt,99,2,2260),S(t,"class","dropzone-tab svelte-1bmklt6"),D(t,bt,98,0,2209)},l:function(_){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(_,k){pe(_,t,k),b(t,n),b(n,r),r.innerHTML=bi,b(n,i),b(n,s),b(n,o),b(n,a),b(a,l),b(n,c),b(n,u),b(u,h),b(n,d),b(n,v),e[8](v),e[14](t),g||(p=[ae(a,"click",ym,!1,!1,!1),ae(v,"change",e[6],!1,!1,!1),ae(v,"click",e[7],!1,!1,!1),ae(n,"click",e[9],!1,!1,!1),ae(n,"dragenter",e[10],!1,!1,!1),ae(n,"dragover",e[11],!1,!1,!1),ae(n,"dragleave",e[12],!1,!1,!1),ae(n,"drop",e[13],!1,!1,!1)],g=!0)},p:function(_,[k]){var C,z;k&4&&f!==(f=((C=_[2])==null?void 0:C.errorMessage)+"")&&Re(h,f),k&4&&ve(n,"drag-over",(z=_[2])==null?void 0:z.isDragging)},i:ce,o:ce,d:function(_){_&&ue(t),e[8](null),e[14](null),g=!1,Pe(p)}};return te("SvelteRegisterBlock",{block:m,id:Ns.name,type:"component",source:"",ctx:e}),m}const ym=e=>{e.stopPropagation()};function bm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("Dropzone",r,[]);let{initDataFromDropzone:s}=t,o=null,a=null,l=null,c=!1,u=!1;Te(()=>{n(4,c=!0)});const f=()=>{n(2,l)},h=()=>{c&&o&&a&&(n(2,l=new Qa(o,a,f,s)),n(5,u=!0))},d=["initDataFromDropzone"];Object.keys(t).forEach(z=>{!~d.indexOf(z)&&z.slice(0,2)!=="$$"&&z!=="slot"&&console.warn(`<Dropzone> was created with unknown prop '${z}'`)});const v=z=>l==null?void 0:l.inputChanged(z),g=z=>l==null?void 0:l.inputClicked();function p(z){Ne[z?"unshift":"push"](()=>{a=z,n(1,a)})}const m=z=>l==null?void 0:l.clickHandler(),y=z=>l==null?void 0:l.dragEnterHandler(z),w=z=>l==null?void 0:l.dragOverHandler(z),_=z=>l==null?void 0:l.dragLeaveHandler(z),k=z=>l==null?void 0:l.dropHandler(z);function C(z){Ne[z?"unshift":"push"](()=>{o=z,n(0,o)})}return e.$$set=z=>{"initDataFromDropzone"in z&&n(3,s=z.initDataFromDropzone)},e.$capture_state=()=>({onMount:Te,Dropzone:Qa,logoIcon:bi,initDataFromDropzone:s,component:o,inputElem:a,dropzone:l,mounted:c,initialized:u,dropzoneUpdated:f,initView:h}),e.$inject_state=z=>{"initDataFromDropzone"in z&&n(3,s=z.initDataFromDropzone),"component"in z&&n(0,o=z.component),"inputElem"in z&&n(1,a=z.inputElem),"dropzone"in z&&n(2,l=z.dropzone),"mounted"in z&&n(4,c=z.mounted),"initialized"in z&&n(5,u=z.initialized)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&59&&c&&o&&a&&s&&!u&&h()},[o,a,l,s,c,u,v,g,p,m,y,w,_,k,C]}class Vu extends nt{constructor(t){super(t);et(this,t,bm,Ns,Ge,{initDataFromDropzone:3},wm),te("SvelteRegisterComponent",{component:this,tagName:"Dropzone_1",options:t,id:Ns.name});const{ctx:n}=this.$$,r=t.props||{};n[3]===void 0&&!("initDataFromDropzone"in r)&&console.warn("<Dropzone> was created without expected prop 'initDataFromDropzone'")}get initDataFromDropzone(){throw new Error("<Dropzone>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initDataFromDropzone(t){throw new Error("<Dropzone>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Du='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>',qu=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 66 82" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3896,-24)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-file" transform="matrix(1,0,0,0.996062,3887.07,100.115)">
                <path d="M27.49,-23.779C26.644,-23.779 25.944,-24.048 25.391,-24.585C24.837,-25.122 24.561,-25.781 24.561,-26.563C24.561,-27.376 24.837,-28.052 25.391,-28.589C25.944,-29.126 26.644,-29.395 27.49,-29.395L57.129,-29.395C57.975,-29.395 58.675,-29.126 59.228,-28.589C59.782,-28.052 60.059,-27.376 60.059,-26.563C60.059,-25.781 59.782,-25.122 59.228,-24.585C58.675,-24.048 57.975,-23.779 57.129,-23.779L27.49,-23.779ZM27.49,-9.082C26.644,-9.082 25.944,-9.351 25.391,-9.888C24.837,-10.425 24.561,-11.1 24.561,-11.914C24.561,-12.695 24.837,-13.363 25.391,-13.916C25.944,-14.469 26.644,-14.746 27.49,-14.746L57.129,-14.746C57.975,-14.746 58.675,-14.469 59.228,-13.916C59.782,-13.363 60.059,-12.695 60.059,-11.914C60.059,-11.1 59.782,-10.425 59.228,-9.888C58.675,-9.351 57.975,-9.082 57.129,-9.082L27.49,-9.082ZM22.022,5.908L62.5,5.908C66.602,5.908 69.678,4.867 71.729,2.783C73.779,0.7 74.805,-2.409 74.805,-6.543L74.805,-40.43L46.875,-40.43C41.797,-40.43 39.258,-42.969 39.258,-48.047L39.258,-76.416L22.022,-76.416C17.92,-76.416 14.852,-75.374 12.817,-73.291C10.783,-71.208 9.766,-68.099 9.766,-63.965L9.766,-6.543C9.766,-2.376 10.783,0.741 12.817,2.808C14.852,4.875 17.92,5.908 22.022,5.908ZM46.875,-46.143L74.365,-46.143C74.235,-47.054 73.877,-47.957 73.291,-48.853C72.705,-49.748 71.891,-50.716 70.85,-51.758L50.586,-72.461C49.577,-73.503 48.617,-74.325 47.705,-74.927C46.794,-75.529 45.882,-75.911 44.971,-76.074L44.971,-48.047C44.971,-46.777 45.605,-46.143 46.875,-46.143Z" style="fill-rule:nonzero;"/>
            </g>
        </g>
    </g>
</svg>
`;const{Map:xm,Object:_m,console:Sm}=$s,Me="src/components/timber/Timber.svelte";function km(e){dt(e,"svelte-1ma266y",`@use 'sass:math';.timbertrek-page.svelte-1ma266y.svelte-1ma266y{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;border-bottom:1px solid rgba(0, 0, 0, 0.12);background-image:linear-gradient(#eeeeee 1px, transparent 1px), linear-gradient(to right, #eeeeee 1px, white 1px);background-size:25px 25px}.timbertrek.svelte-1ma266y.svelte-1ma266y{border:1px solid rgba(0, 0, 0, 0.12);background:#fcfcfc;border-radius:5px;box-shadow:0px 0px 2px rgba(0, 0, 0, 0.03), 0px 0px 10px rgba(0, 0, 0, 0.05);position:relative;z-index:1;display:flex;flex-direction:column;width:650px;height:726px}.header.svelte-1ma266y.svelte-1ma266y{height:40px;border-bottom:1px solid rgba(0, 0, 0, 0.12);padding:0px 16px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:#424242;border-top-left-radius:5px;border-top-right-radius:5px}.header.svelte-1ma266y .right-icons.svelte-1ma266y{display:flex;align-items:center;flex-direction:row-reverse;gap:8px}.header.svelte-1ma266y .svg-icon.svelte-1ma266y{display:flex;align-items:center;justify-content:center;fill:#eeeeee;color:#eeeeee;transition:fill 100ms cubic-bezier(0.645, 0.045, 0.355, 1);cursor:pointer;pointer-events:fill;margin-top:2px}.header.svelte-1ma266y .svg-icon.svelte-1ma266y svg{height:19px}.header.svelte-1ma266y .svg-icon.svelte-1ma266y:hover{fill:#9e9e9e;color:#9e9e9e}.header.svelte-1ma266y .svg-icon.svelte-1ma266y:active{fill:#757575;color:#757575}.header.svelte-1ma266y .svg-icon.paper-icon.svelte-1ma266y{margin-top:1px}.header.svelte-1ma266y .svg-icon.paper-icon.svelte-1ma266y svg{height:15px}.logo.svelte-1ma266y.svelte-1ma266y{display:flex;flex-direction:row;align-items:center;gap:6px}.logo.svelte-1ma266y .svg-icon.svelte-1ma266y{margin:0;cursor:default;fill:unset}.logo.svelte-1ma266y .svg-icon.svelte-1ma266y svg{width:24px;height:24px}.logo-text.svelte-1ma266y.svelte-1ma266y{display:flex;flex-direction:row;align-items:baseline;user-select:none;-webkit-user-select:none;gap:6px}.logo-text.svelte-1ma266y .logo-icon.svelte-1ma266y{font-size:1.1rem;font-weight:600;color:#fafafa}.logo-text.svelte-1ma266y .logo-tag.svelte-1ma266y{font-size:1rem;font-weight:300;color:#e0e0e0}.content.svelte-1ma266y.svelte-1ma266y{display:flex;flex-direction:column;width:100%;height:100%}.sunburst.svelte-1ma266y.svelte-1ma266y{width:650px;height:650px}.sidebar.svelte-1ma266y.svelte-1ma266y{position:absolute;right:-2px;top:44px;transform:translateX(calc(100% - 2px));box-shadow:0px 0px 3px 0px rgba(0, 0, 0, 0.07), 0px 0px 10px 0px rgba(0, 0, 0, 0.12);border-radius:5px}.dev-bar.svelte-1ma266y.svelte-1ma266y{position:absolute;bottom:5px;right:5px}.dev-bar.svelte-1ma266y .button.svelte-1ma266y{display:flex;flex-direction:row;align-items:flex-end;gap:3px;border-radius:5px;padding:0px 5px;user-select:none;-webkit-user-select:none;cursor:default;color:#616161;font-size:0.9rem;border:1px solid #e0e0e0;background-color:#fafafa;transition:background-color 100ms ease-in-out, fill 100ms ease-in-out, color 100ms ease-in-out}.dev-bar.svelte-1ma266y .button.svelte-1ma266y:hover{background-color:#ededed}.dev-bar.svelte-1ma266y .button.svelte-1ma266y:active{background-color:#e0e0e0}.pinned-tree-window-wrapper.svelte-1ma266y.svelte-1ma266y{z-index:1}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGltYmVyLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUF5RWtCLEtBQUEsV0FBQSxDQUFBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIlRpbWJlci5zdmVsdGUiXX0= */`)}function hr(e,t,n){const r=e.slice();return r[13]=t[n],r}function Au(e){let t,n,r,i,s,o;n=new Ic({props:{favoritesStore:e[5],sunburstStore:e[6],searchStore:e[9]},$$inline:!0}),s=new Uc({props:{data:e[1],sunburstStore:e[6],treeWindowStore:e[7],pinnedTreeStore:e[8],searchStore:e[9]},$$inline:!0});const a={c:function(){t=A("div"),ut(n.$$.fragment),r=Z(),i=A("div"),ut(s.$$.fragment),S(t,"class","toolbar"),D(t,Me,233,8,6373),S(i,"class","sunburst svelte-1ma266y"),D(i,Me,237,8,6488)},m:function(c,u){pe(c,t,u),Ke(n,t,null),pe(c,r,u),pe(c,i,u),Ke(s,i,null),o=!0},p:function(c,u){const f={};u&2&&(f.data=c[1]),s.$set(f)},i:function(c){o||(ye(n.$$.fragment,c),ye(s.$$.fragment,c),o=!0)},o:function(c){Se(n.$$.fragment,c),Se(s.$$.fragment,c),o=!1},d:function(c){c&&ue(t),$e(n),c&&ue(r),c&&ue(i),$e(s)}};return te("SvelteRegisterBlock",{block:a,id:Au.name,type:"else",source:"(233:6) {:else}",ctx:e}),a}function Lu(e){let t,n;t=new Vu({props:{initDataFromDropzone:e[4]},$$inline:!0});const r={c:function(){ut(t.$$.fragment)},m:function(s,o){Ke(t,s,o),n=!0},p:ce,i:function(s){n||(ye(t.$$.fragment,s),n=!0)},o:function(s){Se(t.$$.fragment,s),n=!1},d:function(s){$e(t,s)}};return te("SvelteRegisterBlock",{block:r,id:Lu.name,type:"if",source:"(231:6) {#if data === null}",ctx:e}),r}function Rs(e){let t,n,r,i;n=new ou({props:{pinnedTree:e[13],pinnedTreeStore:e[8],favoritesStore:e[5]},$$inline:!0});const s={c:function(){t=A("div"),ut(n.$$.fragment),S(t,"class","pinned-tree-window-wrapper svelte-1ma266y"),D(t,Me,262,6,7073)},m:function(a,l){pe(a,t,l),Ke(n,t,null),i=!0},p:function(a,l){const c={};l&8&&(c.pinnedTree=a[13]),n.$set(c)},i:function(a){i||(ye(n.$$.fragment,a),r&&r.end(1),i=!0)},o:function(a){Se(n.$$.fragment,a),r=pl(t,ui,{duration:100}),i=!1},d:function(a){a&&ue(t),$e(n),a&&r&&r.end()}};return te("SvelteRegisterBlock",{block:s,id:Rs.name,type:"if",source:"(262:4) {#if pinnedTree.isPinned}",ctx:e}),s}function Ws(e,t){let n,r,i,s=t[13].isPinned&&Rs(t);const o={key:e,first:null,c:function(){n=Ki(),s&&s.c(),r=Ki(),this.first=n},m:function(l,c){pe(l,n,c),s&&s.m(l,c),pe(l,r,c),i=!0},p:function(l,c){t=l,t[13].isPinned?s?(s.p(t,c),c&8&&ye(s,1)):(s=Rs(t),s.c(),ye(s,1),s.m(r.parentNode,r)):s&&(en(),Se(s,1,1,()=>{s=null}),tn())},i:function(l){i||(ye(s),i=!0)},o:function(l){Se(s),i=!1},d:function(l){l&&ue(n),s&&s.d(l),l&&ue(r)}};return te("SvelteRegisterBlock",{block:o,id:Ws.name,type:"each",source:"(261:2) {#each pinnedTreeStoreValue.pinnedTrees as pinnedTree (pinnedTree.treeID)}",ctx:t}),o}function Us(e){let t,n,r,i,s,o,a,l,c,u,f,h,d,v,g,p,m,y,w,_,k,C,z,P,E,L,q,j,M=[],x=new xm,I,T,F,W,O,B;const X=[Lu,Au],U=[];function ie(Q,J){return Q[1]===null?0:1}y=ie(e),w=U[y]=X[y](e),C=new pu({props:{favoritesStore:e[5],pinnedTreeStore:e[8]},$$inline:!0}),E=new Cu({props:{data:e[1],searchStore:e[9]},$$inline:!0}),q=new Xc({props:{data:e[1],featureMap:e[2],treeWindowStore:e[7]},$$inline:!0});let $=e[3].pinnedTrees;at($);const se=Q=>Q[13].treeID;Cr(e,$,hr,se);for(let Q=0;Q<$.length;Q+=1){let J=hr(e,$,Q),H=se(J);x.set(H,M[Q]=Ws(H,J))}const le={c:function(){t=A("div"),n=A("div"),r=A("div"),i=A("div"),s=A("div"),o=Z(),a=A("div"),l=A("div"),l.textContent="TimberTrek",c=Z(),u=A("div"),u.textContent="Identifying decision trees that align with human knowledge",f=Z(),h=A("div"),d=A("a"),v=Z(),g=A("a"),p=Z(),m=A("div"),w.c(),_=Z(),k=A("div"),ut(C.$$.fragment),z=Z(),P=A("div"),ut(E.$$.fragment),L=Z(),ut(q.$$.fragment),j=Z();for(let J=0;J<M.length;J+=1)M[J].c();I=Z(),T=A("div"),F=A("div"),F.textContent="localStorage.clear()",S(s,"class","svg-icon svelte-1ma266y"),D(s,Me,197,8,5490),S(l,"class","logo-icon svelte-1ma266y"),D(l,Me,201,10,5597),S(u,"class","logo-tag svelte-1ma266y"),D(u,Me,202,10,5647),S(a,"class","logo-text svelte-1ma266y"),D(a,Me,200,8,5563),S(i,"class","logo svelte-1ma266y"),D(i,Me,196,6,5463),S(d,"class","svg-icon paper-icon svelte-1ma266y"),S(d,"title","Research paper"),S(d,"target","_blank"),S(d,"href","https://arxiv.org/abs/1908.01755"),D(d,Me,209,8,5827),S(g,"class","svg-icon svelte-1ma266y"),S(g,"title","Open-source code"),S(g,"target","_blank"),S(g,"href","https://arxiv.org/abs/1908.01755"),D(g,Me,218,8,6037),S(h,"class","right-icons svelte-1ma266y"),D(h,Me,208,6,5793),S(r,"class","header svelte-1ma266y"),D(r,Me,195,4,5436),S(m,"class","content svelte-1ma266y"),D(m,Me,229,4,6259),S(k,"class","sidebar svelte-1ma266y"),D(k,Me,249,4,6720),S(P,"class","sidebar svelte-1ma266y"),D(P,Me,253,4,6818),S(n,"class","timbertrek svelte-1ma266y"),D(n,Me,194,2,5407),S(F,"class","button svelte-1ma266y"),D(F,Me,269,4,7282),S(T,"class","dev-bar svelte-1ma266y"),D(T,Me,268,2,7256),S(t,"class","timbertrek-page svelte-1ma266y"),D(t,Me,193,0,5353)},l:function(J){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(J,H){pe(J,t,H),b(t,n),b(n,r),b(r,i),b(i,s),s.innerHTML=bi,b(i,o),b(i,a),b(a,l),b(a,c),b(a,u),b(r,f),b(r,h),b(h,d),d.innerHTML=qu,b(h,v),b(h,g),g.innerHTML=Du,b(n,p),b(n,m),U[y].m(m,null),b(n,_),b(n,k),Ke(C,k,null),b(n,z),b(n,P),Ke(E,P,null),b(t,L),Ke(q,t,null),b(t,j);for(let G=0;G<M.length;G+=1)M[G].m(t,null);b(t,I),b(t,T),b(T,F),e[11](t),W=!0,O||(B=ae(F,"click",e[10],!1,!1,!1),O=!0)},p:function(J,[H]){let G=y;y=ie(J),y===G?U[y].p(J,H):(en(),Se(U[G],1,1,()=>{U[G]=null}),tn(),w=U[y],w?w.p(J,H):(w=U[y]=X[y](J),w.c()),ye(w,1),w.m(m,null));const K={};H&2&&(K.data=J[1]),E.$set(K);const N={};H&2&&(N.data=J[1]),H&4&&(N.featureMap=J[2]),q.$set(N),H&296&&($=J[3].pinnedTrees,at($),en(),Cr(J,$,hr,se),M=ml(M,H,se,1,J,$,x,t,gl,Ws,I,hr),tn())},i:function(J){if(!W){ye(w),ye(C.$$.fragment,J),ye(E.$$.fragment,J),ye(q.$$.fragment,J);for(let H=0;H<$.length;H+=1)ye(M[H]);W=!0}},o:function(J){Se(w),Se(C.$$.fragment,J),Se(E.$$.fragment,J),Se(q.$$.fragment,J);for(let H=0;H<M.length;H+=1)Se(M[H]);W=!1},d:function(J){J&&ue(t),U[y].d(),$e(C),$e(E),$e(q);for(let H=0;H<M.length;H+=1)M[H].d();e[11](null),O=!1,B()}};return te("SvelteRegisterBlock",{block:le,id:Us.name,type:"component",source:"",ctx:e}),le}function Tm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("Timber",r,[]);let s=null,o=null,a=null;const l=async()=>{n(1,o=await R.json("/data/compas_rules_0.01_0.05.json")),n(2,a=new Map);for(const[w,_]of Object.entries(o.featureMap))a.set(parseInt(w),_)},c=w=>{n(1,o=w),n(2,a=new Map);for(const[_,k]of Object.entries(o.featureMap))a.set(parseInt(_),k)};l();const u=qo(),f=Ao(),h=Lo(),d=zo(),v=Io();let g=sn();d.subscribe(w=>{n(3,g=w)}),Te(()=>{console.log("TimberTrek mounted!")});const p=[];_m.keys(t).forEach(w=>{!~p.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&Sm.warn(`<Timber> was created with unknown prop '${w}'`)});const m=()=>{localStorage.clear()};function y(w){Ne[w?"unshift":"push"](()=>{s=w,n(0,s)})}return e.$capture_state=()=>({onMount:Te,fade:ui,cubicInOut:th,getFavoritesStore:qo,getSunburstStore:Ao,getTreeWindowStore:Lo,getPinnedTreeStore:zo,getPinnedTreeStoreDefaultValue:sn,getSearchStore:Io,Toolbar:Ic,Sunburst:Uc,TreeWindow:Xc,PinnedTreeWindow:ou,FavoritesPanel:pu,SearchPanel:Cu,Dropzone:Vu,d3:R,logoIcon:bi,githubIcon:Du,paperIcon:qu,component:s,data:o,featureMap:a,initData:l,initDataFromDropzone:c,favoritesStore:u,sunburstStore:f,treeWindowStore:h,pinnedTreeStore:d,searchStore:v,pinnedTreeStoreValue:g}),e.$inject_state=w=>{"component"in w&&n(0,s=w.component),"data"in w&&n(1,o=w.data),"featureMap"in w&&n(2,a=w.featureMap),"pinnedTreeStoreValue"in w&&n(3,g=w.pinnedTreeStoreValue)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,o,a,g,c,u,f,h,d,v,m,y]}class zu extends nt{constructor(t){super(t);et(this,t,Tm,Us,Ge,{},km),te("SvelteRegisterComponent",{component:this,tagName:"Timber",options:t,id:Us.name})}}const Ja="src/components/article/Article.svelte";function Mm(e){dt(e,"svelte-1vc167k",`@use 'sass:math';.article-page.svelte-1vc167k{width:100vw;height:100vh}.main-app.svelte-1vc167k{display:flex;justify-content:center;align-items:center;height:calc(100vh - 5px);max-height:800px;width:100vw;box-sizing:border-box;overflow-x:hidden;position:relative}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJ0aWNsZS5zdmVsdGUiLCJtYXBwaW5ncyI6IkFBV2tCLEtBQUEsV0FBQSxDQUFBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkFydGljbGUuc3ZlbHRlIl19 */`)}function Os(e){let t,n,r,i;r=new zu({$$inline:!0});const s={c:function(){t=A("div"),n=A("div"),ut(r.$$.fragment),S(n,"class","main-app svelte-1vc167k"),D(n,Ja,26,2,532),S(t,"class","article-page svelte-1vc167k"),D(t,Ja,25,0,503)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,l){pe(a,t,l),b(t,n),Ke(r,n,null),e[1](n),i=!0},p:ce,i:function(a){i||(ye(r.$$.fragment,a),i=!0)},o:function(a){Se(r.$$.fragment,a),i=!1},d:function(a){a&&ue(t),$e(r),e[1](null)}};return te("SvelteRegisterBlock",{block:s,id:Os.name,type:"component",source:"",ctx:e}),s}function Cm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("Article",r,[]);let s=null;Te(()=>{});const o=[];Object.keys(t).forEach(l=>{!~o.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Article> was created with unknown prop '${l}'`)});function a(l){Ne[l?"unshift":"push"](()=>{s=l,n(0,s)})}return e.$capture_state=()=>({onMount:Te,TimberTrek:zu,component:s}),e.$inject_state=l=>{"component"in l&&n(0,s=l.component)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,a]}class Iu extends nt{constructor(t){super(t);et(this,t,Cm,Os,Ge,{},Mm),te("SvelteRegisterComponent",{component:this,tagName:"Article",options:t,id:Os.name})}}const fr="src/App.svelte";function Bs(e){let t,n,r,i,s,o,a;o=new Iu({$$inline:!0});const l={c:function(){t=A("link"),n=A("link"),r=A("link"),i=Z(),s=A("div"),ut(o.$$.fragment),S(t,"rel","preconnect"),S(t,"href","https://fonts.googleapis.com"),D(t,fr,1,2,16),S(n,"rel","preconnect"),S(n,"href","https://fonts.gstatic.com"),S(n,"crossorigin",""),D(n,fr,2,2,78),S(r,"href","https://fonts.googleapis.com/css2?family=Lato&display=swap"),S(r,"rel","stylesheet"),D(r,fr,3,2,149),S(s,"class","stand-alone-page"),D(s,fr,11,0,372)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,f){b(document.head,t),b(document.head,n),b(document.head,r),pe(u,i,f),pe(u,s,f),Ke(o,s,null),a=!0},p:ce,i:function(u){a||(ye(o.$$.fragment,u),a=!0)},o:function(u){Se(o.$$.fragment,u),a=!1},d:function(u){ue(t),ue(n),ue(r),u&&ue(i),u&&ue(s),$e(o)}};return te("SvelteRegisterBlock",{block:l,id:Bs.name,type:"component",source:"",ctx:e}),l}function Vm(e,t,n){let{$$slots:r={},$$scope:i}=t;tt("App",r,[]);const s=[];return Object.keys(t).forEach(o=>{!~s.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<App> was created with unknown prop '${o}'`)}),e.$capture_state=()=>({Article:Iu}),[]}class Dm extends nt{constructor(t){super(t);et(this,t,Vm,Bs,Ge,{}),te("SvelteRegisterComponent",{component:this,tagName:"App",options:t,id:Bs.name})}}new Dm({target:document.body,props:{}});
